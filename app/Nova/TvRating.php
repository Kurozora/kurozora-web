<?php

namespace App\Nova;

use Illuminate\Http\Request;
use Laravel\Nova\Fields\HasMany;
use Laravel\Nova\Fields\ID;
use Laravel\Nova\Fields\Number;
use Laravel\Nova\Fields\Text;

class TvRating extends Resource
{
    /**
     * The model the resource corresponds to.
     *
     * @var string
     */
    public static string $model = \App\Models\TvRating::class;

    /**
     * The underlying model resource instance.
     *
     * @var \App\Models\TvRating|null
     */
    public $resource;

    /**
     * The single value that should be used to represent the resource when being displayed.
     *
     * @var string
     */
    public static $title = 'name';

    /**
     * The columns that should be searched.
     *
     * @var array
     */
    public static $search = [
        'id', 'name'
    ];

    /**
     * The logical group associated with the resource.
     *
     * @var string
     */
    public static $group = 'Anime';

    /**
     * Get the fields displayed by the resource.
     *
     * @param Request $request
     * @return array
     */
    public function fields(Request $request): array
    {
        return [
            ID::make(__('ID'), 'id')->sortable(),

            Text::make('Name')
                ->help('A short name for the rating. E.g. N, G, PG...')
                ->required(),

            Text::make('Description')
                ->help('A very short description of the rating. E.g. Not Rated, All Ages, Children...')
                ->required(),

            Number::make('Weight')
                ->help('The priority of the rating. E.g: if a TV rating with a weight of 5 is selected, all ratings that are less than, and equal to, 5 are accessible to the user.')
                ->rules(['min:0', 'max:255'])
                ->required(),

            HasMany::make('Anime'),
        ];
    }

    /**
     * Get the value that should be displayed to represent the resource.
     *
     * @return string
     */
    public function title(): string
    {
        $tvRating = $this->resource;

        return $tvRating->name . ' (ID: ' . $tvRating->id . ')';
    }

    /**
     * Get the cards available for the request.
     *
     * @param Request $request
     * @return array
     */
    public function cards(Request $request): array
    {
        return [];
    }

    /**
     * Get the filters available for the resource.
     *
     * @param Request $request
     * @return array
     */
    public function filters(Request $request): array
    {
        return [];
    }

    /**
     * Get the lenses available for the resource.
     *
     * @param Request $request
     * @return array
     */
    public function lenses(Request $request): array
    {
        return [];
    }

    /**
     * Get the actions available for the resource.
     *
     * @param Request $request
     * @return array
     */
    public function actions(Request $request): array
    {
        return [];
    }

    /**
     * The icon of the resource.
     *
     * @var string
     */
    public static string $icon = '
        <svg class="sidebar-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path fill="var(--sidebar-icon)" d="M10.2923301,76.4797685 L89.7476949,76.4797685 C96.5962347,76.4797685 100,73.1958239 100,66.1873892 L100,20.2923301 C100,13.2839364 96.5962347,10 89.7476949,10 L10.2923301,10 C3.44411838,10 0,13.2839364 0,20.2923301 L0,66.1873892 C0,73.1958239 3.44411838,76.4797685 10.2923301,76.4797685 Z M10.4124871,70.0320036 C7.64912183,70.0320036 6.4477157,68.9106475 6.4477157,66.0672322 L6.4477157,20.3724621 C6.4477157,17.5690718 7.64912183,16.4477157 10.4124871,16.4477157 L89.6279479,16.4477157 C92.3509602,16.4477157 93.5525304,17.5690718 93.5525304,20.3724621 L93.5525304,66.0672322 C93.5525304,68.9106475 92.3509602,70.0320036 89.6279479,70.0320036 L10.4124871,70.0320036 Z M40.2072554,37.406936 C45.5378833,37.406936 47.3595789,41.3134953 47.4198252,44.4572608 L47.4198252,44.775636 C47.3595582,47.8644694 45.5059153,51.6118827 40.0299681,51.7359384 L39.7483995,51.7391029 L37.2404235,51.745664 L35.3515709,51.7621339 L33.1315882,51.8055179 L32.4876803,51.8307811 L32.4876803,58.1832867 C32.4876803,59.0480578 31.81851,59.7565358 30.969734,59.8191562 L30.8473114,59.8236555 L28.0626248,59.8236555 C27.1978537,59.8236555 26.4893757,59.1544853 26.4267552,58.3057093 L26.422256,58.1832867 L26.422256,39.0473048 C26.422256,38.1825337 27.0914262,37.4740556 27.9402022,37.4114353 L28.0626248,37.406936 L40.2072554,37.406936 Z M32.4876803,41.266009 L32.4876803,47.8717511 L34.7904776,47.8159986 L34.7904776,47.8159986 L37.1713323,47.7807961 L37.1713323,47.7807961 L37.8473018,47.7756565 C38.1434685,47.7739604 38.4410314,47.7730207 38.7368309,47.7730207 C40.8742708,47.7730207 41.5508537,46.6309154 41.7640683,45.6406672 L41.7998174,45.45125 C41.8049006,45.4201123 41.8095685,45.3892196 41.8138547,45.3586151 L41.8352591,45.1787957 L41.8352591,45.1787957 L41.8491092,45.007981 L41.8491092,45.007981 L41.8605756,44.7017048 L41.8605756,44.7017048 L41.8605756,44.4391885 L41.8605756,44.4391885 L41.8491092,44.1329548 L41.8491092,44.1329548 L41.8352591,43.9621209 L41.8352591,43.9621209 L41.8138547,43.7822593 L41.8138547,43.7822593 L41.783289,43.5954576 C41.5929841,42.5843857 40.9432205,41.3662725 38.7368309,41.3662725 L37.1558925,41.3582273 L37.1558925,41.3582273 L35.2335545,41.331091 L35.2335545,41.331091 L32.4876803,41.266009 L32.4876803,41.266009 Z M72.9964125,47.7564634 L64.7493167,47.7564634 C63.843366,47.7564634 63.1089479,48.4908815 63.1089479,49.3968322 L63.1089479,50.0325049 C63.1089479,50.9384556 63.843366,51.6728737 64.7493167,51.6728737 L69.3728212,51.6728737 L68.3290752,53.3444096 L68.1264004,53.6593463 L67.9299023,53.9547986 L67.7375194,54.2312589 L67.5471904,54.4892196 C66.3755895,56.0239489 65.2035513,56.531516 61.8556825,56.531516 C56.9689902,56.531516 54.964563,52.2125185 54.964563,48.7032946 C54.964563,45.1928443 57.3453379,40.604331 61.8556825,40.604331 C64.7233871,40.604331 66.1727458,41.3682316 67.169881,42.3755857 L67.3700491,42.5873069 L67.5592133,42.8049514 L67.739275,43.0274947 L67.9121358,43.2539128 L68.1340523,43.5596856 C68.4418334,43.9918511 68.9396318,44.248466 69.470194,44.248466 L73.5884201,44.248466 C74.0414038,44.2484813 74.4086197,43.8812653 74.4086197,43.4282816 C74.4086197,43.3867379 74.4054634,43.3452542 74.399178,43.3041888 L74.3646251,43.0998131 C74.3473863,43.0085585 74.3302039,42.9337035 74.3130778,42.8752483 C73.192623,39.0508666 67.4862932,36.5545425 61.9802116,36.5545425 C55.8402538,36.5545425 49.075197,40.199904 49.075197,49.106495 C49.075197,55.218724 52.8495322,58.4722768 56.5949144,59.9127425 L56.9755528,60.053021 C57.2290477,60.1424275 57.4818168,60.2236633 57.7326752,60.2970542 L58.1073814,60.4012975 L58.4783325,60.494018 L58.8446395,60.5754598 C58.9052543,60.5881071 58.9656385,60.6002946 59.0257737,60.6120275 L59.3834481,60.6770096 C59.442513,60.6869442 59.5012918,60.6964342 59.559766,60.705485 L60.0773092,60.775215 L60.0773092,60.775215 L60.4117181,60.8089271 L60.5754034,60.8220425 L60.5754034,60.8220425 L60.9734606,60.8441652 L60.9734606,60.8441652 L61.3541923,60.8514334 C65.6160922,60.8514334 68.8731714,59.0972814 70.0000673,57.4780406 L70.3997355,58.8055134 C70.6084016,59.4985852 71.2466561,59.9729776 71.9704586,59.9729776 L74.6367813,59.9729776 L74.6367813,49.3968322 C74.6367813,48.4908815 73.9023632,47.7564634 72.9964125,47.7564634 Z M71.0868765,25.5835038 L66.3191465,25.5835038 C66.1992155,25.5835038 66.0852947,25.6360036 66.0073812,25.727179 L60.9578893,31.6361725 C60.6636132,31.9805389 60.1458911,32.0211452 59.8015246,31.7268691 C59.7689659,31.6990461 59.7386363,31.6687158 59.7108141,31.6361562 L54.6616103,25.7271871 C54.5836969,25.6360068 54.4697728,25.5835038 54.349838,25.5835038 L49.5834384,25.5835038 C49.3569508,25.5835038 49.1733462,25.7671083 49.1733462,25.993596 C49.1733462,26.1012652 49.2156898,26.2046154 49.2912348,26.2813331 L56.9248568,34.033452 C57.3873417,34.5031161 58.0189302,34.7675826 58.6780787,34.7675826 L61.9899062,34.7675826 C62.6489244,34.7675826 63.2803994,34.5032203 63.7428646,34.0337195 L71.3790363,26.2813777 C71.5379736,26.1200223 71.5360136,25.8603737 71.3746582,25.7014362 C71.2979366,25.6258644 71.1945673,25.5835038 71.0868765,25.5835038 Z M33.9047351,27.562099 L26.2459011,27.562099 C25.7929258,27.562099 25.4257167,27.1948898 25.4257167,26.7419145 L25.4257167,26.4036882 C25.4257167,25.9507129 25.7929258,25.5835038 26.2459011,25.5835038 L46.653618,25.5835038 C47.1065933,25.5835038 47.4738024,25.9507129 47.4738024,26.4036882 L47.4738024,26.7419145 C47.4738024,27.1948898 47.1065933,27.562099 46.653618,27.562099 L38.9923302,27.562099 L38.9923302,33.6653112 C38.9923302,34.1182865 38.6251211,34.4854956 38.1721458,34.4854956 L34.7249195,34.4854956 C34.2719442,34.4854956 33.9047351,34.1182865 33.9047351,33.6653112 L33.9047351,27.562099 Z M29.9158983,90.0160428 L70.0841017,90.0160428 C71.886539,90.0160428 73.327603,88.5743227 73.327603,86.8121646 C73.327603,85.0100062 71.886539,83.5282283 70.0841017,83.5282283 L29.9158983,83.5282283 C28.1537321,83.5282283 26.6719869,85.0100062 26.6719869,86.8121646 C26.6719869,88.5743227 28.1537321,90.0160428 29.9158983,90.0160428 Z"/>
        </svg>
    ';
}
