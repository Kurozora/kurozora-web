"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[873],{540:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach(function(t){n(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function n(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,i,s=[],o=!0,l=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=c.call(r)).done)&&(s.push(n.value),s.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw c}}}}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,r||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}function f(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function p(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var h=new WeakSet,b=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,h)},t=[{key:"parse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=p(h,this,d).call(this,e);return n?p(h,this,x).call(this,a):p(h,this,m).call(this,a,t,r)}}],t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function y(e){return e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(e){var t,r=0,n=i(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;switch(a.type){case"text":case"mention":case"hashtag":case"reference":r+=c(a.content.replace(/\r\n|\r|\n/g,"")).length;break;case"emoji":r+=1;break;case"code":case"url":var s,o=i(a.content);try{for(o.s();!(s=o.n()).done;){var l=s.value;r+=p(h,this,v).call(this,l)}}catch(e){o.e(e)}finally{o.f()}break;case"bold":case"italic":case"underline":case"strikethrough":case"highlight":case"superscript":case"subscript":case"spoiler":case"link":r+=p(h,this,v).call(this,a.content)}}}catch(e){n.e(e)}finally{n.f()}return r}function d(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],c=0,s=this;function o(e,t,r,n,a,c){if(e.startsWith(r,t)){var i=e.indexOf(n,t+r.length);if(-1!==i&&i>t+r.length&&!e.slice(t+r.length,i).includes("\n")){var o=c(e.slice(t+r.length,i));return{token:p(h,s,g).call(s,a,{prefix:r,content:o}),len:i+n.length-t}}}return null}for(var l=function(){if("\\"===e[c]&&c+1<e.length&&!r){var s=e[c+1];return n.push(p(h,t,g).call(t,"text",{content:s})),c+=2,0}if("`"===e[c]&&!r){var l=e.indexOf("`",c+1);if(-1!==l&&!e.slice(c+1,l).includes("\n")){var u=p(h,t,d).call(t,e.slice(c+1,l),!0);return n.push(p(h,t,g).call(t,"code",{content:u})),c=l+1,0}}for(var f=!1,b=0,y=[["**","**","bold"],["*","*","italic"],["_","_","italic"],["__","__","underline"],["~~","~~","strikethrough"],["==","==","highlight"],["||","||","spoiler"],["^","^","superscript"],["~","~","subscript"]];b<y.length;b++){var v=a(y[b],3),m=v[0],x=v[1],k=v[2],w=o(e,c,m,x,k,p(h,t,d).bind(t));if(w&&!r){n.push(w.token),c+=w.len,f=!0;break}}if(f)return 0;if(":"===e[c]&&-1!==e.indexOf(":",c+1)&&!r){var O=e.indexOf(":",c+1),j=e.slice(c+1,O);if(/^[\w+\-]+$/.test(j))return n.push(p(h,t,g).call(t,"emoji",{name:j})),c=O+1,0}if("["===e[c]&&!r){var S=e.indexOf("]",c),_=e.indexOf("(",S),E=e.indexOf(")",_);if(-1!==S&&_===S+1&&-1!==E&&!e.slice(c+1,S).includes("\n")&&!e.slice(_+1,E).includes("\n")){var P=p(h,t,d).call(t,e.slice(c+1,S)),T=p(h,t,d).call(t,e.slice(_+1,E));return n.push(p(h,t,g).call(t,"link",{prefix:"[]()",content:P,href:T})),c=E+1,0}}if((e.startsWith("http://",c)||e.startsWith("https://",c))&&!r){var A=e.slice(c).match(/^(https?:\/\/[^\s`<>\[\]()]+)/);if(A){var C=A[1],N=C.startsWith("https://")?"https://":"http://",W=p(h,t,d).call(t,C.slice(N.length));return n.push(p(h,t,g).call(t,"url",{prefix:N,content:W})),c+=C.length,0}}if("@"===e[c]&&!r){var I=e.slice(c).match(/^@([\w_]+)/);if(I){var D=p(h,t,d).call(t,I[1]);return n.push(p(h,t,g).call(t,"mention",{prefix:"@",content:D})),c+=I[0].length,0}}if("#"===e[c]&&!r){var L=e.slice(c).match(/^#([\w-]+)/);if(L){var M=p(h,t,d).call(t,L[1]);return n.push(p(h,t,g).call(t,"hashtag",{prefix:"#",content:M})),c+=L[0].length,0}}var $=[{prefix:"a:",type:"reference",regex:/^a:([\w_]+)/},{prefix:"m:",type:"reference",regex:/^m:([\w_]+)/},{prefix:"g:",type:"reference",regex:/^g:([\w_]+)/},{prefix:"s:",type:"reference",regex:/^s:([\w_]+)/},{prefix:"c:",type:"reference",regex:/^c:([\w_]+)/},{prefix:"p:",type:"reference",regex:/^p:([\w_]+)/},{prefix:"st:",type:"reference",regex:/^st:([\w_]+)/},{prefix:"e:",type:"reference",regex:/^e:([\w_]+)/}];if(!r){var H,q=!1,z=i($);try{for(z.s();!(H=z.n()).done;){var U=H.value,X=U.prefix,B=U.type,F=U.regex;if(0===c||/\W/.test(e[c-1])){var G=e.slice(c).match(F);if(G){var J=p(h,t,d).call(t,G[1]);n.push(p(h,t,g).call(t,B,{prefix:X,content:J})),c+=G[0].length,q=!0;break}}}}catch(e){z.e(e)}finally{z.f()}if(q)return 0}for(var K=c+1;K<e.length&&"\\"!==e[K]&&"`"!==e[K]&&"*"!==e[K]&&"_"!==e[K]&&"~"!==e[K]&&"^"!==e[K]&&"|"!==e[K]&&"="!==e[K]&&"["!==e[K]&&":"!==e[K]&&"@"!==e[K]&&"#"!==e[K]&&!$.some(function(t){var r=t.regex;return e.slice(K).match(r)})&&!e.startsWith("http://",K)&&!e.startsWith("https://",K);)K++;var Q=e.slice(c,K);n.push(p(h,t,g).call(t,"text",{content:Q})),c=K};c<e.length;)l();return n}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t.content))return r(r({type:e},t),{},{charCount:p(h,this,v).call(this,t.content)});if("string"==typeof t.content){var n=r(r({type:e},t),{},{charCount:0});return n.charCount=p(h,this,v).call(this,[n]),n}return r(r({type:e},t),{},{charCount:0})}function m(e,t,r){var n=this,a=p(h,this,y),s=0;r(s);var o=function(e){return c(e.content).map(function(e){var c=p(h,n,S).call(n,s,t,a(e)).replace(/\r\n|\r|\n/g,"<br>");return s+=e.replace(/\r\n|\r|\n/g,"").length,r(s),c}).join("")},l=function(e){var a,c=[],u=function(e,t){var r=l(e.content);return t.replace("%s",r)},f=i(e);try{for(f.s();!(a=f.n()).done;){var b=a.value;switch(b.type){case"text":c.push(o(b));break;case"bold":c.push(u(b,"<b>"+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</b>"));break;case"italic":c.push(u(b,"<i>"+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</i>"));break;case"underline":c.push(u(b,"<u>"+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</u>"));break;case"strikethrough":c.push(u(b,"<s>"+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</s>"));break;case"highlight":c.push(u(b,'<span class="bg-secondary">'+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</span>"));break;case"superscript":c.push(u(b,"<sup>"+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</sup>"));break;case"subscript":c.push(u(b,"<sub>"+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</sub>"));break;case"spoiler":c.push(u(b,'<span class="spoiled">'+p(h,n,k).call(n,b.prefix,"%s",s,t)+"</span>"));break;case"code":c.push(p(h,n,S).call(n,s,t,'<code class="bg-secondary">`'.concat(l(b.content),"`</code>")));break;case"emoji":c.push(p(h,n,S).call(n,s,t,p(h,n,w).call(n,b.name))),r(s++);break;case"mention":c.push(p(h,n,O).call(n,l(b.content)));break;case"hashtag":c.push(p(h,n,j).call(n,l(b.content)));break;case"url":c.push(p(h,n,_).call(n,b.prefix,l(b.content)));break;case"reference":c.push(p(h,n,E).call(n,b.prefix,l(b.content)));break;case"link":c.push("<span>[".concat(l(b.content),"](").concat(l(b.href),")</span>"))}}}catch(e){f.e(e)}finally{f.f()}return c.join("")};return l(e)}function x(e){var t=this,r=p(h,this,y),n=function(e,t){return t?r(e.content):"<span>".concat(r(e.content),"</span>")},a=function(e){var r,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=[],o=function(e,t){var r=a(e.content);return t.replace("%s",r)},l=i(e);try{for(l.s();!(r=l.n()).done;){var u=r.value;switch(u.type){case"text":s.push(n(u,c));break;case"bold":s.push(o(u,"<b>%s</b>"));break;case"italic":s.push(o(u,"<i>%s</i>"));break;case"underline":s.push(o(u,"<u>%s</u>"));break;case"strikethrough":s.push(o(u,"<s>%s</s>"));break;case"highlight":s.push(o(u,'<span class="bg-secondary">%s</span>'));break;case"superscript":s.push(o(u,"<sup>%s</sup>"));break;case"subscript":s.push(o(u,"<sub>%s</sub>"));break;case"spoiler":s.push(o(u,"<span class=\"spoiler\" x-on:click=\"$el.classList.replace('spoiler', 'spoiled')\">%s</span>"));break;case"code":s.push('<code class="bg-secondary">'.concat(a(u.content),"</code>"));break;case"emoji":s.push(p(h,t,w).call(t,u.name));break;case"mention":var f=a(u.content,!0);s.push('<a href="/profile/'.concat(f,'" class="text-tint" wire:navigate.hover>').concat("@"+f,"</a>"));break;case"hashtag":s.push(p(h,t,j).call(t,a(u.content,!0)));break;case"url":var b=a(u.content,!0);s.push(c?u.prefix+b:'<a href="'.concat(u.prefix+b,'" target="_blank" class="text-tint">').concat(b,"</a>"));break;case"reference":s.push('<span class="text-tint">'.concat(a(u.content,!0),"</span>"));break;case"link":s.push('<a href="'.concat(a(u.href,!0),'" target="_blank" class="text-tint">').concat(a(u.content,!0),"</a>"))}}}catch(e){l.e(e)}finally{l.f()}return s.join("")};return a(e)}function k(e,t,r,n){return'<span class="opacity-75">'.concat(p(h,this,S).call(this,r,n,e),"</span>").concat(t,'<span class="opacity-75">').concat(p(h,this,S).call(this,r,n,e),"</span>")}function w(e){var t={smile:"😄",sad:"😢",fire:"🔥",heart:"❤️"};return t[e]?t[e]:":".concat(e,":")}function O(e){return'<span class="text-tint">@'.concat(e,"</span>")}function j(e){return'<span class="text-tint">#'.concat(e,"</span>")}function S(e,t,r){if(!(e>=t))return r;var n=document.createElement("div");n.innerHTML=r;var a=function(e){e.childNodes.forEach(function(t){if(t.nodeType===Node.TEXT_NODE){var r=document.createElement("span");r.className="bg-red-500",r.textContent=t.textContent,e.replaceChild(r,t)}else t.nodeType===Node.ELEMENT_NODE&&a(t)})};return a(n),n.innerHTML}function _(e,t){return'<span class="text-tint">'.concat(e).concat(t,"</span>")}function E(e,t){return'<span class="text-tint">'.concat(e).concat(t,"</span>")}window.markdown=new b}},e=>{var t;t=540,e(e.s=t)}]);
//# sourceMappingURL=markdown.js.map