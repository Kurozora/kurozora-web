"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[49],{762:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(){var t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,o="theme",(r=n(r="localStorageKey"))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o},(r=[{key:"apply",value:function(e){var t=document.getElementById("kurozora-theme-style"),n=document.querySelector('[name="theme-color"]'),r=document.querySelector('[media*="prefers-color-scheme: light"]'),o=document.querySelector('[media*="prefers-color-scheme: dark"]');t||((t=document.createElement("style")).id="kurozora-theme-style",document.head.appendChild(t)),t.innerHTML=e.css;var i=window.getComputedStyle(document.body).getPropertyValue("--bg-primary-color");n.content=i,r.content=i,o.content=i}}])&&t(e.prototype,r),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,o}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var c=function(){return e=function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r="appIcon",(n=a(n="localStorageKey"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r},(t=[{key:"apply",value:function(e){document.querySelectorAll("#app-icon").forEach(function(t){t.style.backgroundImage="url('".concat(e.url,"')")}),document.querySelector('[rel="shortcut icon"]').href=e.url}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function s(e,t,n){y(e,t),t.set(e,n)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(e,t){return e.get(b(e,t))}function m(e,t,n){return e.set(b(e,t),n),n}function b(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var h=new WeakMap,v=new WeakMap,d=new WeakMap,w=new WeakMap,g=new WeakSet,S=function(){return e=function e(){var t,n,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(t=this,n=g),n.add(t),s(this,h,void 0),s(this,v,void 0),s(this,d,void 0),s(this,w,void 0),function(e,t,n){(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"selectedAppIcon",void 0),m(h,this,"settings"),m(v,this,new r),m(d,this,new c),m(w,this,b(g,this,E).call(this)),document.addEventListener("livewire:init",function(){Livewire.on("app-icon-changed",function(e){b(g,o,O).call(o,e.appIcon),o.save(p(d,o).localStorageKey,e.appIcon)}),Livewire.on("theme-download",function(e){b(g,o,I).call(o,e.theme),o.save(p(v,o).localStorageKey,e.theme)})}),p(w,this).theme&&b(g,this,I).call(this,p(w,this).theme),p(w,this).appIcon&&b(g,this,O).call(this,p(w,this).appIcon)},(t=[{key:"save",value:function(e,t){p(w,this)[e]=t,localStorage.setItem(p(h,this),b(g,this,k).call(this,p(w,this)))}}])&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function k(e){return btoa(JSON.stringify(e))}function j(e){try{return JSON.parse(atob(e))}catch(e){return{}}}function P(){var e={};return e[p(d,this).localStorageKey]={name:"Kurozora",url:null},e}function E(){var e=localStorage.getItem(p(h,this));return e?b(g,this,j).call(this,e):b(g,this,P).call(this)}function I(e){p(v,this).apply(e)}function O(e){this.selectedAppIcon=e,p(d,this).apply(e)}window.settings=new S}},e=>{var t;t=762,e(e.s=t)}]);
//# sourceMappingURL=settings.js.map