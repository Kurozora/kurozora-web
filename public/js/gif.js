"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[968],{69:(t,e,n)=>{var i=n(393);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function s(n,i,r,o){var s=i&&i.prototype instanceof c?i:c,h=Object.create(s.prototype);return a(h,"_invoke",function(n,i,r){var o,a,s,c=0,h=r||[],f=!1,l={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,a=0,s=t,l.n=n,u}};function d(n,i){for(a=n,s=i,e=0;!f&&c&&!r&&e<h.length;e++){var r,o=h[e],d=l.p,p=o[2];n>3?(r=p===i)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=t):o[0]<=d&&((r=n<2&&d<o[1])?(a=0,l.v=i,l.n=o[1]):d<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,l.n=p,a=0))}if(r||n>1)return u;throw f=!0,i}return function(r,h,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===h&&d(h,p),a=h,s=p;(e=a<2?t:s)||!f;){o||(a?a<3?(a>1&&(l.n=-1),d(a,s)):l.n=s:l.v=s);try{if(c=2,o){if(a||(r="next"),e=o[r]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,a<2&&(a=0)}else 1===a&&(e=o.return)&&e.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),a=1);o=t}else if((e=(f=l.n<0)?s:n.call(i,l))!==u)break}catch(e){o=t,a=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,r,o),!0),h}var u={};function c(){}function h(){}function f(){}e=Object.getPrototypeOf;var l=[][i]?e(e([][i]())):(a(e={},i,function(){return this}),e),d=f.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,r,"GeneratorFunction")),t.prototype=Object.create(d),t}return h.prototype=f,a(d,"constructor",f),a(f,"constructor",h),h.displayName="GeneratorFunction",a(f,r,"GeneratorFunction"),a(d),a(d,r,"Generator"),a(d,i,function(){return this}),a(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}function a(t,e,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}a=function(t,e,n,i){function o(e,n){a(t,e,function(t){return this._invoke(e,n,t)})}e?r?r(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},a(t,e,n,i)}function s(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var o=t.apply(e,n);function a(t){s(o,i,r,a,u,"next",t)}function u(t){s(o,i,r,a,u,"throw",t)}a(void 0)})}}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,f(i.key),i)}}function h(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var l=function(){return t=function t(e){var n=e.canvas,i=e.gifUrl,r=e.speed,o=void 0===r?1:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"canvas",void 0),h(this,"ctx",void 0),h(this,"tempCanvas",void 0),h(this,"tempCtx",void 0),h(this,"gifCanvas",void 0),h(this,"gifCtx",void 0),h(this,"imgData",void 0),h(this,"gifUrl",void 0),h(this,"speed",void 0),h(this,"isPlaying",void 0),h(this,"frameCount",void 0),h(this,"totalDuration",void 0),h(this,"elapsedTime",void 0),h(this,"frames",void 0),h(this,"frameIndex",void 0),h(this,"lastRender",void 0),h(this,"needsDisposal",void 0),this.canvas=n,this.ctx=n.getContext("2d"),this.tempCanvas=document.createElement("canvas"),this.tempCtx=this.tempCanvas.getContext("2d"),this.gifCanvas=document.createElement("canvas"),this.gifCtx=this.gifCanvas.getContext("2d"),this.gifUrl=i,this.speed=o,this.frames=[],this.frameCount=0,this.frameIndex=0,this.isPlaying=!1,this.lastRender=0,this.totalDuration=0,this.elapsedTime=0},e=[{key:"init",value:(a=u(o().m(function t(){return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.loadGIF();case 1:this.frameCount=this.frames.length,this.totalDuration=this.frames.map(function(t){return t.delay}).reduce(function(t,e){return t+e},0),!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches||this.play();case 2:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"loadGIF",value:(r=u(o().m(function t(){var e,n,r;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(this.gifUrl);case 1:return e=t.v,t.n=2,e.arrayBuffer();case 2:n=t.v,r=(0,i.O5)(n),this.frames=(0,i.Ud)(r,!0),this.canvas.width=this.frames[0].dims.width,this.canvas.height=this.frames[0].dims.height,this.gifCanvas.width=this.canvas.width,this.gifCanvas.height=this.canvas.height;case 3:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"startRenderLoop",value:function(){var t=this,e=function(n){if(t.isPlaying){var i=t.frames[t.frameIndex],r=(i.delay||10)/t.speed;n-t.lastRender>r&&(t.frameIndex=(t.frameIndex+1)%t.frames.length,t.renderFrame(i),t.lastRender=n),requestAnimationFrame(e)}};requestAnimationFrame(e)}},{key:"renderPatch",value:function(t){this.imgData&&t.dims.width===this.imgData.width&&t.dims.height===this.imgData.height||(this.tempCanvas.width=t.dims.width,this.tempCanvas.height=t.dims.height,this.imgData=this.tempCtx.createImageData(t.dims.width,t.dims.height)),this.imgData.data.set(t.patch),this.tempCtx.putImageData(this.imgData,0,0),this.gifCtx.drawImage(this.tempCanvas,0,0)}},{key:"manipulate",value:function(){var t=this.gifCtx.getImageData(0,0,this.gifCanvas.width,this.gifCanvas.height);this.ctx.putImageData(t,0,0)}},{key:"renderFrame",value:function(t){this.needsDisposal&&(this.gifCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.needsDisposal=!1),this.renderPatch(t),this.manipulate(),2===t.disposalType&&(this.needsDisposal=!0),this.elapsedTime=this.frames.slice(0,this.frameIndex+(0===this.frameIndex?0:1)).map(function(t){return t.delay}).reduce(function(t,e){return t+e},0)}},{key:"play",value:function(){this.isPlaying=!0,this.startRenderLoop()}},{key:"pause",value:function(){this.isPlaying=!1}},{key:"toggle",value:function(){this.isPlaying?this.pause():this.play()}},{key:"scrubTo",value:function(t){this.pause();var e=0;this.frameIndex=this.frames.findIndex(function(n){return(e+=n.delay)>=t}),-1===this.frameIndex&&(this.frameIndex=this.frames.length-1);var n=this.frames[this.frameIndex];2===n.disposalType&&(this.needsDisposal=!0),this.renderFrame(n)}},{key:"setSpeed",value:function(t){this.speed=t}},{key:"formatTime",value:function(t){var e=Math.floor(t/1e3),n=Math.floor(e/60),i=e%60;return"".concat(n,":").concat(i.toString().padStart(2,"0"))}},{key:"currentTimeFormatted",get:function(){return this.formatTime(this.elapsedTime)}},{key:"totalTimeFormatted",get:function(){return this.formatTime(this.totalDuration)}}],e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,a}();function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,i,r,o){var u=i&&i.prototype instanceof s?i:s,c=Object.create(u.prototype);return p(c,"_invoke",function(n,i,r){var o,s,u,c=0,h=r||[],f=!1,l={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,s=0,u=t,l.n=n,a}};function d(n,i){for(s=n,u=i,e=0;!f&&c&&!r&&e<h.length;e++){var r,o=h[e],d=l.p,p=o[2];n>3?(r=p===i)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((r=n<2&&d<o[1])?(s=0,l.v=i,l.n=o[1]):d<p&&(r=n<3||o[0]>i||i>p)&&(o[4]=n,o[5]=i,l.n=p,s=0))}if(r||n>1)return a;throw f=!0,i}return function(r,h,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===h&&d(h,p),s=h,u=p;(e=s<2?t:u)||!f;){o||(s?s<3?(s>1&&(l.n=-1),d(s,u)):l.n=u:l.v=u);try{if(c=2,o){if(s||(r="next"),e=o[r]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=t}else if((e=(f=l.n<0)?u:n.call(i,l))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,r,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var h=[][i]?e(e([][i]())):(p(e={},i,function(){return this}),e),f=c.prototype=s.prototype=Object.create(h);function l(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,p(t,r,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,p(f,"constructor",c),p(c,"constructor",u),u.displayName="GeneratorFunction",p(c,r,"GeneratorFunction"),p(f),p(f,r,"Generator"),p(f,i,function(){return this}),p(f,"toString",function(){return"[object Generator]"}),(d=function(){return{w:o,m:l}})()}function p(t,e,n,i){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}p=function(t,e,n,i){function o(e,n){p(t,e,function(t){return this._invoke(e,n,t)})}e?r?r(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},p(t,e,n,i)}function m(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}window.gifPlayer=function(t){return{manager:null,speed:"1.00",isTouch:!1,showControls:!1,hideControlsTimeout:null,isCustomSpeed:null,playbackSpeeds:[.5,1,1.5,1.75,2],minPlaybackSpeed:.25,maxPlaybackSpeed:4,pointerDownTime:0,isHovering:!1,init:function(){var e,n=this;return(e=d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:n.$watch("speed",function(t){return n.changeSpeed(t)}),n.manager=new l({canvas:n.$refs.canvas,gifUrl:t,speed:n.speed}),n.manager.init();case 1:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(t){m(o,i,r,a,s,"next",t)}function s(t){m(o,i,r,a,s,"throw",t)}a(void 0)})})()},scrub:function(t){this.manager.scrubTo(t.srcElement.value)},changeSpeed:function(){var t=parseFloat(this.speed);isNaN(t)||t<this.minPlaybackSpeed?t=this.minPlaybackSpeed:t>this.maxPlaybackSpeed&&(t=this.maxPlaybackSpeed),this.speed=t.toFixed(2).toString(),this.isCustomSpeed=!this.playbackSpeeds.includes(t),this.manager.setSpeed(t)},showControlsTemporarily:function(){var t=this;this.showControls=!0,clearTimeout(this.hideControlsTimeout),this.hideControlsTimeout=setTimeout(function(){t.isTouch||(t.showControls=!1)},2e3)},toggleControls:function(){this.showControls=!this.showControls},onPointerDown:function(t){t.target!==this.$refs.canvas&&t.target!==this.$refs.controlOverlay&&t.target!==t.currentTarget||(this.isTouch="mouse"!==t.pointerType,this.pointerDownTime=Date.now())},onPointerUp:function(t){this.isHovering||Date.now()-this.pointerDownTime<=200&&!this.isHovering&&this.toggleControls()},onPointerEnter:function(t){this.isTouch="mouse"!==t.pointerType,this.isTouch||(this.showControls=!0,this.isHovering=!0)},onPointerLeave:function(t){t.target===t.currentTarget&&(this.isTouch||(this.showControls=!1,this.isHovering=!1))}}}}},t=>{t.O(0,[660],()=>{return e=69,t(t.s=e);var e});t.O()}]);
//# sourceMappingURL=gif.js.map