"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[968],{69:(t,e,n)=>{var r=n(393);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function u(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,f=Object.create(u.prototype);return a(f,"_invoke",function(n,r,o){var i,a,u,c=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,u=t,h.n=n,s}};function p(n,r){for(a=n,u=r,e=0;!l&&c&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];n>3?(o=d===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,h.v=r,h.n=i[1]):p<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,h.n=d,a=0))}if(o||n>1)return s;throw l=!0,r}return function(o,f,d){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),a=f,u=d;(e=a<2?t:u)||!l;){i||(a?a<3?(a>1&&(h.n=-1),p(a,u)):h.n=u:h.v=u);try{if(c=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(l=h.n<0)?u:n.call(r,h))!==s)break}catch(e){i=t,a=1,u=e}finally{c=1}}return{value:e,done:l}}}(n,o,i),!0),f}var s={};function c(){}function f(){}function l(){}e=Object.getPrototypeOf;var h=[][r]?e(e([][r]())):(a(e={},r,function(){return this}),e),p=l.prototype=c.prototype=Object.create(h);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,a(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return f.prototype=l,a(p,"constructor",l),a(l,"constructor",f),f.displayName="GeneratorFunction",a(l,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:u,m:d}})()}function a(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){a(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},a(t,e,n,r)}function u(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)})}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function f(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var h=function(){return t=function t(e){var n=e.canvas,r=e.gifUrl,o=e.speed,i=void 0===o?1:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"canvas",void 0),f(this,"gifUrl",void 0),f(this,"speed",void 0),f(this,"isPlaying",void 0),f(this,"frameCount",void 0),f(this,"totalDuration",void 0),f(this,"elapsedTime",void 0),f(this,"ctx",void 0),f(this,"frames",void 0),f(this,"frameIndex",void 0),f(this,"lastRender",void 0),this.canvas=n,this.ctx=n.getContext("2d"),this.gifUrl=r,this.speed=i,this.frames=[],this.frameCount=0,this.frameIndex=0,this.isPlaying=!1,this.lastRender=0,this.totalDuration=0,this.elapsedTime=0},e=[{key:"init",value:(a=s(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.loadGIF();case 1:this.frameCount=this.frames.length,this.totalDuration=this.frames.map(function(t){return t.delay}).reduce(function(t,e){return t+e},0),!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches||this.play();case 2:return t.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"loadGIF",value:(o=s(i().m(function t(){var e,n,o;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch(this.gifUrl);case 1:return e=t.v,t.n=2,e.arrayBuffer();case 2:n=t.v,o=(0,r.O5)(n),this.frames=(0,r.Ud)(o,!0);case 3:return t.a(2)}},t,this)})),function(){return o.apply(this,arguments)})},{key:"startRenderLoop",value:function(){var t=this,e=function(n){if(t.isPlaying){var r=t.frames[t.frameIndex],o=(r.delay||10)/t.speed;n-t.lastRender>o&&(t.frameIndex=(t.frameIndex+1)%t.frames.length,t.renderFrame(r),t.lastRender=n),requestAnimationFrame(e)}};requestAnimationFrame(e)}},{key:"renderFrame",value:function(t){var e=new ImageData(new Uint8ClampedArray(t.patch),t.dims.width,t.dims.height);this.canvas.width=t.dims.width,this.canvas.height=t.dims.height,this.ctx.putImageData(e,t.dims.left,t.dims.top),this.elapsedTime=this.frames.slice(0,this.frameIndex).map(function(t){return t.delay}).reduce(function(t,e){return t+e},0)}},{key:"play",value:function(){this.isPlaying=!0,this.startRenderLoop()}},{key:"pause",value:function(){this.isPlaying=!1}},{key:"toggle",value:function(){this.isPlaying?this.pause():this.play()}},{key:"scrubTo",value:function(t){this.pause(),this.frameIndex=t,this.renderFrame(this.frames[t])}},{key:"setSpeed",value:function(t){this.speed=t}},{key:"formatTime",value:function(t){var e=Math.floor(t/1e3),n=Math.floor(e/60),r=e%60;return"".concat(n,":").concat(r.toString().padStart(2,"0"))}},{key:"currentTimeFormatted",get:function(){return this.formatTime(this.elapsedTime)}},{key:"totalTimeFormatted",get:function(){return this.formatTime(this.totalDuration)}}],e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o,a}();function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return d(c,"_invoke",function(n,r,o){var i,u,s,c=0,f=o||[],l=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!l&&c&&!o&&e<f.length;e++){var o,i=f[e],p=h.p,d=i[2];n>3?(o=d===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,h.n=d,u=0))}if(o||n>1)return a;throw l=!0,r}return function(o,f,d){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,d),u=f,s=d;(e=u<2?t:s)||!l;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(l=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:l}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),l=c.prototype=u.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,d(t,o,"GeneratorFunction")),t.prototype=Object.create(l),t}return s.prototype=c,d(l,"constructor",c),d(c,"constructor",s),s.displayName="GeneratorFunction",d(c,o,"GeneratorFunction"),d(l),d(l,o,"Generator"),d(l,r,function(){return this}),d(l,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:h}})()}function d(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){d(t,e,function(t){return this._invoke(e,n,t)})};i("next",0),i("throw",1),i("return",2)}},d(t,e,n,r)}function m(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}window.gifPlayer=function(t){return{manager:null,currentFrame:0,speed:"1.00",isTouch:!1,showControls:!1,hideControlsTimeout:null,isCustomSpeed:null,playbackSpeeds:[.5,1,1.5,1.75,2],minPlaybackSpeed:.25,maxPlaybackSpeed:4,init:function(){var e,n=this;return(e=p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:n.$watch("speed",function(t){return n.changeSpeed(t)}),n.manager=new h({canvas:n.$refs.canvas,gifUrl:t,speed:n.speed}),n.manager.init();case 1:return e.a(2)}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){m(i,r,o,a,u,"next",t)}function u(t){m(i,r,o,a,u,"throw",t)}a(void 0)})})()},scrub:function(){this.manager.scrubTo(parseInt(this.currentFrame))},changeSpeed:function(){var t=parseFloat(this.speed);isNaN(t)||t<this.minPlaybackSpeed?t=this.minPlaybackSpeed:t>this.maxPlaybackSpeed&&(t=this.maxPlaybackSpeed),this.speed=t.toFixed(2).toString(),this.isCustomSpeed=!this.playbackSpeeds.includes(t),this.manager.setSpeed(t)},showControlsTemporarily:function(){var t=this;this.showControls=!0,clearTimeout(this.hideControlsTimeout),this.hideControlsTimeout=setTimeout(function(){t.isTouch||(t.showControls=!1)},2e3)},toggleControls:function(){this.showControls=!this.showControls},onPointerDown:function(t){this.isTouch="mouse"!==t.pointerType,console.log("onPointerDown:","pointerType:",t.pointerType)},onPointerUp:function(t){console.log("onPointerUp:",this.isTouch?"touch":t.pointerType),this.isTouch&&this.toggleControls()},onPointerEnter:function(t){console.log("onPointerEnter:",this.isTouch?"touch":t.pointerType),this.isTouch||(this.showControls=!0)},onPointerLeave:function(t){console.log("onPointerLeave:",this.isTouch?"touch":t.pointerType),this.isTouch||(this.showControls=!1)}}}}},t=>{t.O(0,[660],()=>{return e=69,t(t.s=e);var e});t.O()}]);
//# sourceMappingURL=gif.js.map