"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[221],{348:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}var n=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey="theme",this.encryptionKey="your-strong-encryption-key",this.themeData=null,document.addEventListener("livewire:init",(function(){Livewire.on("theme-download",(function(e){t.applyTheme(e.theme),t.saveTheme(e.theme)}))})),this.loadTheme()},(r=[{key:"encryptTheme",value:function(e){var t=JSON.stringify(e);return btoa(t)}},{key:"decryptTheme",value:function(e){try{var t=atob(e);return JSON.parse(t)}catch(e){return null}}},{key:"saveTheme",value:function(e){var t=this.encryptTheme(e);localStorage.setItem(this.localStorageKey,t)}},{key:"loadTheme",value:function(){var e=localStorage.getItem(this.localStorageKey);e&&(this.themeData=this.decryptTheme(e),this.themeData&&this.applyTheme(this.themeData))}},{key:"applyTheme",value:function(e){var t=document.getElementById("kurozora-theme-style");t||((t=document.createElement("style")).id="kurozora-theme-style",document.head.appendChild(t)),t.innerHTML=e.css}},{key:"clearTheme",value:function(){localStorage.removeItem(this.localStorageKey);var e=document.getElementById("kurozora-theme-style");e&&e.remove()}}])&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();window.themeStyle=new n,window.ThemeStyle=n}},e=>{var t;t=348,e(e.s=t)}]);
//# sourceMappingURL=theme.js.map
