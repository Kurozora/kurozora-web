{"version":3,"file":"/js/chat.js","mappings":"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","sources":["webpack:///./node_modules/picmo/dist/index.js","webpack:///./node_modules/@picmo/popup-picker/dist/index.js","webpack:///./resources/js/chat.js"],"sourcesContent":["var K = (o, e, t) => {\n  if (!e.has(o))\n    throw TypeError(\"Cannot \" + t);\n};\nvar y = (o, e, t) => (K(o, e, \"read from private field\"), t ? t.call(o) : e.get(o)), f = (o, e, t) => {\n  if (e.has(o))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  e instanceof WeakSet ? e.add(o) : e.set(o, t);\n}, A = (o, e, t, s) => (K(o, e, \"write to private field\"), s ? s.call(o, t) : e.set(o, t), t);\nvar g = (o, e, t) => (K(o, e, \"access private method\"), t);\nconst Re = \"14.0\";\nfunction Me(o, e, t) {\n  let s = `https://cdn.jsdelivr.net/npm/emojibase-data@${e}/${o}`;\n  return typeof t == \"function\" ? s = t(o, e) : typeof t == \"string\" && (s = `${t}/${o}`), s;\n}\nasync function re(o, e = {}) {\n  const {\n    local: t = !1,\n    version: s = \"latest\",\n    cdnUrl: i,\n    ...r\n  } = e, a = Me(o, s, i), n = t ? localStorage : sessionStorage, l = `emojibase/${s}/${o}`, d = n.getItem(l);\n  if (d)\n    return Promise.resolve(JSON.parse(d));\n  const m = await fetch(a, {\n    credentials: \"omit\",\n    mode: \"cors\",\n    redirect: \"error\",\n    ...r\n  });\n  if (!m.ok)\n    throw new Error(\"Failed to load Emojibase dataset.\");\n  const h = await m.json();\n  try {\n    n.setItem(l, JSON.stringify(h));\n  } catch {\n  }\n  return h;\n}\nconst Ve = {\n  discord: \"joypixels\",\n  slack: \"iamcal\"\n};\nasync function de(o, e, t) {\n  var s;\n  return re(`${o}/shortcodes/${(s = Ve[e]) !== null && s !== void 0 ? s : e}.json`, t);\n}\nfunction k(o, e) {\n  if (e.length === 0)\n    return o;\n  const t = new Set(o.shortcodes);\n  return e.forEach((s) => {\n    const i = s[o.hexcode];\n    Array.isArray(i) ? i.forEach((r) => t.add(r)) : i && t.add(i);\n  }), o.shortcodes = [...t], o.skins && o.skins.forEach((s) => {\n    k(s, e);\n  }), o;\n}\nfunction De(o, e = []) {\n  const t = [];\n  return o.forEach((s) => {\n    if (s.skins) {\n      const {\n        skins: i,\n        ...r\n      } = s;\n      t.push(k(r, e)), i.forEach((a) => {\n        const n = {\n          ...a\n        };\n        r.tags && (n.tags = [...r.tags]), t.push(k(n, e));\n      });\n    } else\n      t.push(k(s, e));\n  }), t;\n}\nfunction Be(o, e) {\n  return e.length === 0 || o.forEach((t) => {\n    k(t, e);\n  }), o;\n}\nasync function be(o, e = {}) {\n  const {\n    compact: t = !1,\n    flat: s = !1,\n    shortcodes: i = [],\n    ...r\n  } = e, a = await re(`${o}/${t ? \"compact\" : \"data\"}.json`, r);\n  let n = [];\n  return i.length > 0 && (n = await Promise.all(i.map((l) => {\n    let d;\n    if (l.includes(\"/\")) {\n      const [m, h] = l.split(\"/\");\n      d = de(m, h, r);\n    } else\n      d = de(o, l, r);\n    return d.catch(() => ({}));\n  }))), s ? De(a, n) : Be(a, n);\n}\nasync function Ce(o, e) {\n  return re(`${o}/messages.json`, e);\n}\nfunction U(o, e) {\n  const s = o.target.closest(\"[data-emoji]\");\n  if (s) {\n    const i = e.find((r) => r.emoji === s.dataset.emoji);\n    if (i)\n      return i;\n  }\n  return null;\n}\nfunction je(o) {\n  var t;\n  const e = (t = window.matchMedia) == null ? void 0 : t.call(window, \"(prefers-reduced-motion: reduce)\");\n  return o.animate && !(e != null && e.matches);\n}\nfunction me(o, e) {\n  return o.toLowerCase().includes(e.toLowerCase());\n}\nfunction Ne(o, e) {\n  let t = null;\n  return () => {\n    t || (t = window.setTimeout(() => {\n      o(), t = null;\n    }, e));\n  };\n}\nfunction Oe(o, e) {\n  let t = null;\n  return (...s) => {\n    t && window.clearTimeout(t), t = window.setTimeout(() => {\n      o(...s), t = null;\n    }, e);\n  };\n}\nfunction I(o, e, t, s) {\n  if (je(s) && o.animate)\n    return o.animate(e, t).finished;\n  const i = t.direction === \"normal\" ? 1 : 0, r = Object.entries(e).reduce((a, [n, l]) => ({\n    ...a,\n    [n]: l[i]\n  }), {});\n  return Object.assign(o.style, r), Promise.resolve();\n}\nfunction Y(o) {\n  var t;\n  const e = document.createElement(\"template\");\n  return e.innerHTML = o, (t = e.content) == null ? void 0 : t.firstElementChild;\n}\nasync function He(o) {\n  const e = new TextEncoder().encode(o), t = await crypto.subtle.digest(\"SHA-256\", e);\n  return Array.from(new Uint8Array(t)).map((i) => i.toString(16).padStart(2, \"0\")).join(\"\");\n}\nfunction p(...o) {\n  return o.reduce((e, t) => ({\n    ...e,\n    [t]: ae(t)\n  }), {});\n}\nfunction ae(o) {\n  return `picmo__${o}`;\n}\nfunction M(o) {\n  for (; o.firstChild; )\n    o.removeChild(o.firstChild);\n  return o;\n}\nfunction w(o, ...e) {\n  M(o).append(...e);\n}\nfunction _e(o) {\n  try {\n    return window[o].length, !0;\n  } catch {\n    return !1;\n  }\n}\nfunction Ke() {\n  return _e(\"sessionStorage\");\n}\nfunction Ue() {\n  return _e(\"localStorage\");\n}\nfunction ke() {\n  let o = {};\n  return {\n    getItem: (e) => o[e],\n    setItem: (e, t) => o[e] = t,\n    length: Object.keys(o).length,\n    clear: () => o = {},\n    key: (e) => Object.keys(o)[e],\n    removeItem: (e) => delete o[e]\n  };\n}\nfunction E(o) {\n  var e;\n  return {\n    emoji: o.emoji,\n    label: o.label,\n    tags: o.tags,\n    skins: (e = o.skins) == null ? void 0 : e.map((t) => E(t)),\n    order: o.order,\n    custom: !1,\n    hexcode: o.hexcode,\n    version: o.version\n  };\n}\nfunction D(o, e, t) {\n  var s;\n  return t && !t.some((i) => i.order === o.group) ? !1 : me(o.label, e) || ((s = o.tags) == null ? void 0 : s.some((i) => me(i, e)));\n}\nclass Ee {\n  constructor(e = \"en\") {\n    this.locale = e;\n  }\n}\nconst qe = [\n  // Prior to Emoji 14, the handshake emoji's skin tone variants was not standardized\n  // and will not render correctly as a native emoji. \n  (o, e) => (o.hexcode === \"1F91D\" && e < 14 && (o.skins = []), o),\n  // Filter out variants that are not supported by the current version of the emoji.\n  // If a variant doesn't specify a version, it will be included. Only variants that\n  // specify a version that is greater than the current version will be filtered out.\n  (o, e) => (o.skins && (o.skins = o.skins.filter((t) => !t.version || t.version <= e)), o)\n];\nfunction Ge(o, e) {\n  return qe.some((t) => t(o, e) === null) ? null : o;\n}\nfunction B(o, e) {\n  return o.filter((t) => Ge(t, e) !== null);\n}\nconst q = {};\nfunction xe(o) {\n  return q[o] || (q[o] = new We(o)), q[o];\n}\nxe.deleteDatabase = (o) => {\n};\nclass We extends Ee {\n  open() {\n    return Promise.resolve();\n  }\n  delete() {\n    return Promise.resolve();\n  }\n  close() {\n  }\n  isPopulated() {\n    return Promise.resolve(!1);\n  }\n  getEmojiCount() {\n    return Promise.resolve(this.emojis.length);\n  }\n  getEtags() {\n    return Promise.resolve({ foo: \"bar\" });\n  }\n  getHash() {\n    return Promise.resolve(\"\");\n  }\n  populate(e) {\n    return this.categories = e.groups, this.emojis = e.emojis, Promise.resolve();\n  }\n  getCategories(e) {\n    var s;\n    let t = this.categories.filter((i) => i.key !== \"component\");\n    if (e.showRecents && t.unshift({ key: \"recents\", order: -1 }), (s = e.custom) != null && s.length && t.push({ key: \"custom\", order: 10 }), e.categories) {\n      const i = e.categories;\n      t = t.filter((r) => i.includes(r.key)), t.sort((r, a) => i.indexOf(r.key) - i.indexOf(a.key));\n    } else\n      t.sort((i, r) => i.order - r.order);\n    return Promise.resolve(t);\n  }\n  getEmojis(e, t) {\n    const s = this.emojis.filter((i) => i.group === e.order).filter((i) => i.version <= t).sort((i, r) => i.order != null && r.order != null ? i.order - r.order : 0).map(E);\n    return Promise.resolve(B(s, t));\n  }\n  searchEmojis(e, t, s, i) {\n    const r = this.emojis.filter((l) => D(l, e, i) && l.version <= s).map(E), a = t.filter((l) => D(l, e, i)), n = [\n      ...B(r, s),\n      ...a\n    ];\n    return Promise.resolve(n);\n  }\n  setMeta(e) {\n    this.meta = e;\n  }\n}\n!Ke() && typeof window < \"u\" && (console.warn(\"[picmo] sessionStorage not available, falling back to simple in-memory storage\"), Object.defineProperty(window, \"sessionStorage\", {\n  value: ke()\n}));\nfunction Je(o, e) {\n  const t = `https://cdn.jsdelivr.net/npm/emojibase-data@${o}/${e}`;\n  return {\n    emojisUrl: `${t}/data.json`,\n    messagesUrl: `${t}/messages.json`\n  };\n}\nasync function ue(o) {\n  try {\n    return (await fetch(o, { method: \"HEAD\" })).headers.get(\"etag\");\n  } catch {\n    return null;\n  }\n}\nfunction Ze(o) {\n  const { emojisUrl: e, messagesUrl: t } = Je(\"latest\", o);\n  try {\n    return Promise.all([\n      ue(e),\n      ue(t)\n    ]);\n  } catch {\n    return Promise.all([null, null]);\n  }\n}\nasync function Ye(o, e, t) {\n  let s;\n  try {\n    s = await o.getEtags();\n  } catch {\n    s = {};\n  }\n  const { storedEmojisEtag: i, storedMessagesEtag: r } = s;\n  if (t !== r || e !== i) {\n    const [a, n] = await Promise.all([Ce(o.locale), be(o.locale)]);\n    await o.populate({\n      groups: a.groups,\n      emojis: n,\n      emojisEtag: e,\n      messagesEtag: t\n    });\n  }\n}\nasync function Qe(o, e) {\n  const t = await o.getHash();\n  return e !== t;\n}\nasync function Se(o, e, t) {\n  let s = t || e(o);\n  try {\n    await s.open();\n  } catch {\n    console.warn(\"[picmo] IndexedDB not available, falling back to InMemoryStoreFactory\"), s = xe(o);\n  }\n  return s;\n}\nasync function Xe(o, e, t) {\n  const s = await Se(o, e, t), [i, r] = await Ze(o);\n  if (await s.isPopulated())\n    i && r && await Ye(s, i, r);\n  else {\n    const [a, n] = await Promise.all([Ce(o), be(o)]);\n    await s.populate({ groups: a.groups, emojis: n, emojisEtag: i, messagesEtag: r });\n  }\n  return s;\n}\nasync function et(o, e, t, s, i) {\n  const r = await Se(o, e, i), a = await He(s);\n  return (!await r.isPopulated() || await Qe(r, a)) && await r.populate({ groups: t.groups, emojis: s, hash: a }), r;\n}\nasync function ne(o, e, t, s, i) {\n  return t && s ? et(o, e, t, s, i) : Xe(o, e, i);\n}\nfunction Bo(o, e) {\n  o.deleteDatabase(e);\n}\nclass tt {\n  constructor() {\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n  activate(e) {\n    this.rootElement = e, this.rootElement.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  deactivate() {\n    var e;\n    (e = this.rootElement) == null || e.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  get focusableElements() {\n    return this.rootElement.querySelectorAll('input, [tabindex=\"0\"]');\n  }\n  get lastFocusableElement() {\n    return this.focusableElements[this.focusableElements.length - 1];\n  }\n  get firstFocusableElement() {\n    return this.focusableElements[0];\n  }\n  checkFocus(e, t, s) {\n    e.target === t && (s.focus(), e.preventDefault());\n  }\n  handleKeyDown(e) {\n    e.key === \"Tab\" && this.checkFocus(\n      e,\n      e.shiftKey ? this.firstFocusableElement : this.lastFocusableElement,\n      e.shiftKey ? this.lastFocusableElement : this.firstFocusableElement\n    );\n  }\n}\nconst {\n  light: ot,\n  dark: No,\n  auto: Oo\n} = p(\"light\", \"dark\", \"auto\");\nclass c {\n  constructor({ template: e, classes: t, parent: s }) {\n    this.isDestroyed = !1, this.appEvents = {}, this.uiEvents = [], this.uiElements = {}, this.ui = {}, this.template = e, this.classes = t, this.parent = s, this.keyBindingHandler = this.keyBindingHandler.bind(this);\n  }\n  initialize() {\n    this.bindAppEvents();\n  }\n  setCustomEmojis(e) {\n    this.customEmojis = e;\n  }\n  setEvents(e) {\n    this.events = e;\n  }\n  setPickerId(e) {\n    this.pickerId = e;\n  }\n  emit(e, ...t) {\n    this.events.emit(e, ...t);\n  }\n  setI18n(e) {\n    this.i18n = e;\n  }\n  setRenderer(e) {\n    this.renderer = e;\n  }\n  setEmojiData(e) {\n    this.emojiDataPromise = e, e.then((t) => {\n      this.emojiData = t;\n    });\n  }\n  updateEmojiData(e) {\n    this.emojiData = e, this.emojiDataPromise = Promise.resolve(e);\n  }\n  setOptions(e) {\n    this.options = e;\n  }\n  renderSync(e = {}) {\n    return this.el = this.template.renderSync({\n      classes: this.classes,\n      i18n: this.i18n,\n      pickerId: this.pickerId,\n      ...e\n    }), this.postRender(), this.el;\n  }\n  async render(e = {}) {\n    return await this.emojiDataPromise, this.el = await this.template.renderAsync({\n      classes: this.classes,\n      i18n: this.i18n,\n      pickerId: this.pickerId,\n      ...e\n    }), this.postRender(), this.el;\n  }\n  postRender() {\n    this.bindUIElements(), this.bindKeyBindings(), this.bindUIEvents(), this.scheduleShowAnimation();\n  }\n  bindAppEvents() {\n    Object.keys(this.appEvents).forEach((e) => {\n      this.events.on(e, this.appEvents[e], this);\n    }), this.events.on(\"data:ready\", this.updateEmojiData, this);\n  }\n  unbindAppEvents() {\n    Object.keys(this.appEvents).forEach((e) => {\n      this.events.off(e, this.appEvents[e]);\n    }), this.events.off(\"data:ready\", this.updateEmojiData);\n  }\n  keyBindingHandler(e) {\n    const t = this.keyBindings[e.key];\n    t && t.call(this, e);\n  }\n  bindKeyBindings() {\n    this.keyBindings && this.el.addEventListener(\"keydown\", this.keyBindingHandler);\n  }\n  unbindKeyBindings() {\n    this.keyBindings && this.el.removeEventListener(\"keydown\", this.keyBindingHandler);\n  }\n  bindUIElements() {\n    this.ui = Object.keys(this.uiElements).reduce((e, t) => ({\n      ...e,\n      [t]: this.el.querySelector(this.uiElements[t])\n    }), {});\n  }\n  bindUIEvents() {\n    this.uiEvents.forEach((e) => {\n      e.handler = e.handler.bind(this), (e.target ? this.ui[e.target] : this.el).addEventListener(e.event, e.handler, e.options);\n    });\n  }\n  unbindUIEvents() {\n    this.uiEvents.forEach((e) => {\n      (e.target ? this.ui[e.target] : this.el).removeEventListener(e.event, e.handler);\n    });\n  }\n  destroy() {\n    this.unbindAppEvents(), this.unbindUIEvents(), this.unbindKeyBindings(), this.el.remove(), this.isDestroyed = !0;\n  }\n  scheduleShowAnimation() {\n    if (this.parent) {\n      const e = new MutationObserver((t) => {\n        const [s] = t;\n        s.type === \"childList\" && s.addedNodes[0] === this.el && (je(this.options) && this.animateShow && this.animateShow(), e.disconnect);\n      });\n      e.observe(this.parent, { childList: !0 });\n    }\n  }\n  static childEvent(e, t, s, i = {}) {\n    return { target: e, event: t, handler: s, options: i };\n  }\n  static uiEvent(e, t, s = {}) {\n    return { event: e, handler: t, options: s };\n  }\n  static byClass(e) {\n    return `.${e}`;\n  }\n}\nconst st = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z\"/></svg>', it = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z\"/></svg>', rt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240zM336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176zM259.9 369.4C288.8 369.4 316.2 375.2 340.6 385.5C352.9 390.7 366.7 381.3 361.4 369.1C344.8 330.9 305.6 303.1 259.9 303.1C214.3 303.1 175.1 330.8 158.4 369.1C153.1 381.3 166.1 390.6 179.3 385.4C203.7 375.1 231 369.4 259.9 369.4L259.9 369.4z\"/></svg>', at = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M448 64H192C85.96 64 0 149.1 0 256s85.96 192 192 192h256c106 0 192-85.96 192-192S554 64 448 64zM247.1 280h-32v32c0 13.2-10.78 24-23.98 24c-13.2 0-24.02-10.8-24.02-24v-32L136 279.1C122.8 279.1 111.1 269.2 111.1 256c0-13.2 10.85-24.01 24.05-24.01L167.1 232v-32c0-13.2 10.82-24 24.02-24c13.2 0 23.98 10.8 23.98 24v32h32c13.2 0 24.02 10.8 24.02 24C271.1 269.2 261.2 280 247.1 280zM431.1 344c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40s39.1 17.88 39.1 40S454.1 344 431.1 344zM495.1 248c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40c22.12 0 39.1 17.88 39.1 40S518.1 248 495.1 248z\"/></svg>', nt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z\"/></svg>', ct = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M512 32H120c-13.25 0-24 10.75-24 24L96.01 288c0 53 43 96 96 96h192C437 384 480 341 480 288h32c70.63 0 128-57.38 128-128S582.6 32 512 32zM512 224h-32V96h32c35.25 0 64 28.75 64 64S547.3 224 512 224zM560 416h-544C7.164 416 0 423.2 0 432C0 458.5 21.49 480 48 480h480c26.51 0 48-21.49 48-48C576 423.2 568.8 416 560 416z\"/></svg>', lt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M482.3 192C516.5 192 576 221 576 256C576 292 516.5 320 482.3 320H365.7L265.2 495.9C259.5 505.8 248.9 512 237.4 512H181.2C170.6 512 162.9 501.8 165.8 491.6L214.9 320H112L68.8 377.6C65.78 381.6 61.04 384 56 384H14.03C6.284 384 0 377.7 0 369.1C0 368.7 .1818 367.4 .5398 366.1L32 256L.5398 145.9C.1818 144.6 0 143.3 0 142C0 134.3 6.284 128 14.03 128H56C61.04 128 65.78 130.4 68.8 134.4L112 192H214.9L165.8 20.4C162.9 10.17 170.6 0 181.2 0H237.4C248.9 0 259.5 6.153 265.2 16.12L365.7 192H482.3z\"/></svg>', ht = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M9.375 233.4C3.375 239.4 0 247.5 0 256v128c0 8.5 3.375 16.62 9.375 22.62S23.5 416 32 416h32V224H32C23.5 224 15.38 227.4 9.375 233.4zM464 96H352V32c0-17.62-14.38-32-32-32S288 14.38 288 32v64H176C131.8 96 96 131.8 96 176V448c0 35.38 28.62 64 64 64h320c35.38 0 64-28.62 64-64V176C544 131.8 508.3 96 464 96zM256 416H192v-32h64V416zM224 296C201.9 296 184 278.1 184 256S201.9 216 224 216S264 233.9 264 256S246.1 296 224 296zM352 416H288v-32h64V416zM448 416h-64v-32h64V416zM416 296c-22.12 0-40-17.88-40-40S393.9 216 416 216S456 233.9 456 256S438.1 296 416 296zM630.6 233.4C624.6 227.4 616.5 224 608 224h-32v192h32c8.5 0 16.62-3.375 22.62-9.375S640 392.5 640 384V256C640 247.5 636.6 239.4 630.6 233.4z\"/></svg>', dt = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n  <defs>\n    <radialGradient gradientUnits=\"userSpaceOnUse\" cy=\"10%\" id=\"gradient-0\">\n      <stop offset=\"0\" stop-color=\"hsl(50, 100%, 50%)\" />\n      <stop offset=\"1\" stop-color=\"hsl(50, 100%, 60%)\" />\n    </radialGradient>\n  </defs>\n  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\n  <ellipse stroke=\"#000\" fill=\"rgba(0, 0, 0, 0.6)\" cx=\"172.586\" cy=\"207.006\" rx=\"39.974\" ry=\"39.974\"/>\n  <ellipse stroke=\"#000\" fill=\"rgba(0, 0, 0, 0.6)\" cx=\"334.523\" cy=\"207.481\" rx=\"39.974\" ry=\"39.974\"/>\n  <ellipse stroke=\"#000\" fill=\"rgba(0, 0, 0, 0.6)\" cx=\"313.325\" cy=\"356.208\" rx=\"91.497\" ry=\"59.893\"/>\n  <path fill=\"#55a7ff\" d=\"M 159.427 274.06 L 102.158 363.286 L 124.366 417.011 L 160.476 423.338 L 196.937 414.736 L 218.502 375.214\"></path>\n  <path fill=\"url(#gradient-0)\" d=\"M256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM256 352C290.9 352 323.2 367.8 348.3 394.9C354.3 401.4 364.4 401.7 370.9 395.7C377.4 389.7 377.7 379.6 371.7 373.1C341.6 340.5 301 320 256 320C247.2 320 240 327.2 240 336C240 344.8 247.2 352 256 352H256zM208 369C208 349 179.6 308.6 166.4 291.3C163.2 286.9 156.8 286.9 153.6 291.3C140.6 308.6 112 349 112 369C112 395 133.5 416 160 416C186.5 416 208 395 208 369H208zM303.6 208C303.6 225.7 317.1 240 335.6 240C353.3 240 367.6 225.7 367.6 208C367.6 190.3 353.3 176 335.6 176C317.1 176 303.6 190.3 303.6 208zM207.6 208C207.6 190.3 193.3 176 175.6 176C157.1 176 143.6 190.3 143.6 208C143.6 225.7 157.1 240 175.6 240C193.3 240 207.6 225.7 207.6 208z\" />\n</svg>`, mt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z\"/></svg>', ut = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256.3 331.8C208.9 331.8 164.1 324.9 124.5 312.8C112.2 309 100.2 319.7 105.2 331.5C130.1 390.6 188.4 432 256.3 432C324.2 432 382.4 390.6 407.4 331.5C412.4 319.7 400.4 309 388.1 312.8C348.4 324.9 303.7 331.8 256.3 331.8H256.3zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z\"/></svg>', pt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z\"/></svg>', gt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M413.8 447.1L256 448l0 31.99C256 497.7 241.8 512 224.1 512c-17.67 0-32.1-14.32-32.1-31.99l0-31.99l-158.9-.0099c-28.5 0-43.69-34.49-24.69-56.4l68.98-79.59H62.22c-25.41 0-39.15-29.8-22.67-49.13l60.41-70.85H89.21c-21.28 0-32.87-22.5-19.28-37.31l134.8-146.5c10.4-11.3 28.22-11.3 38.62-.0033l134.9 146.5c13.62 14.81 2.001 37.31-19.28 37.31h-10.77l60.35 70.86c16.46 19.34 2.716 49.12-22.68 49.12h-15.2l68.98 79.59C458.7 413.7 443.1 447.1 413.8 447.1z\"/></svg>', yt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM479.1 320h-73.85C451.2 357.7 480 414.1 480 477.3C480 490.1 476.2 501.9 470 512h138C625.7 512 640 497.6 640 479.1C640 391.6 568.4 320 479.1 320zM432 256C493.9 256 544 205.9 544 144S493.9 32 432 32c-25.11 0-48.04 8.555-66.72 22.51C376.8 76.63 384 101.4 384 128c0 35.52-11.93 68.14-31.59 94.71C372.7 243.2 400.8 256 432 256z\"/></svg>', ft = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n  <defs>\n    <radialGradient id=\"radial\" cy=\"85%\">\n      <stop offset=\"20%\" stop-color=\"var(--color-secondary)\" />\n      <stop offset=\"100%\" stop-color=\"var(--color-primary)\" />\n    </radialGradient>\n  </defs>\n  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\n  <path fill=\"url('#radial')\" d=\"M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z\" />\n</svg>`, vt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg>';\nfunction wt(o, e) {\n  const t = Y(e);\n  return t.dataset.icon = o, t.classList.add(ae(\"icon\")), t;\n}\nconst pe = {\n  clock: st,\n  flag: it,\n  frown: rt,\n  gamepad: at,\n  lightbulb: nt,\n  mug: ct,\n  plane: lt,\n  robot: ht,\n  sad: dt,\n  search: mt,\n  smiley: ut,\n  symbols: pt,\n  tree: gt,\n  users: yt,\n  warning: ft,\n  xmark: vt\n}, N = {\n  recents: \"clock\",\n  \"smileys-emotion\": \"smiley\",\n  \"people-body\": \"users\",\n  \"animals-nature\": \"tree\",\n  \"food-drink\": \"mug\",\n  activities: \"gamepad\",\n  \"travel-places\": \"plane\",\n  objects: \"lightbulb\",\n  symbols: \"symbols\",\n  flags: \"flag\",\n  custom: \"robot\"\n};\nfunction Pe(o, e) {\n  if (!(o in pe))\n    return console.warn(`Unknown icon: \"${o}\"`), document.createElement(\"div\");\n  const t = wt(o, pe[o]);\n  return e && t.classList.add(ae(`icon-${e}`)), t;\n}\nconst bt = {\n  mode: \"sync\"\n};\nvar b, x, S, Q, P, X, z, ee;\nclass u {\n  constructor(e, t = {}) {\n    f(this, S);\n    f(this, P);\n    f(this, z);\n    f(this, b, void 0);\n    f(this, x, void 0);\n    A(this, b, e), A(this, x, t.mode || bt.mode);\n  }\n  renderSync(e = {}) {\n    const t = Y(y(this, b).call(this, e));\n    return g(this, z, ee).call(this, t, e), g(this, P, X).call(this, t), g(this, S, Q).call(this, t, e), t;\n  }\n  async renderAsync(e = {}) {\n    const t = Y(y(this, b).call(this, e));\n    return g(this, z, ee).call(this, t, e), g(this, P, X).call(this, t), await g(this, S, Q).call(this, t, e), t;\n  }\n  render(e) {\n    return y(this, x) === \"sync\" ? this.renderSync(e) : this.renderAsync(e);\n  }\n}\nb = new WeakMap(), x = new WeakMap(), S = new WeakSet(), Q = async function(e, t) {\n  const s = e.querySelectorAll(\"[data-view]\"), i = [];\n  for (const r of s) {\n    const a = t[r.dataset.view];\n    a ? r.dataset.render !== \"sync\" ? i.push(a.render().then((n) => (r.replaceWith(n), n))) : r.replaceWith(a.renderSync()) : r.remove();\n  }\n  return Promise.all(i);\n}, P = new WeakSet(), X = function(e) {\n  e.querySelectorAll(\"i[data-icon]\").forEach((s) => {\n    const { icon: i, size: r } = s.dataset;\n    s.replaceWith(Pe(i, r));\n  });\n}, z = new WeakSet(), ee = function(e, t) {\n  return e.querySelectorAll(\"[data-placeholder]\").forEach((i) => {\n    const r = i.dataset.placeholder;\n    if (r && t[r]) {\n      const a = t[r];\n      i.replaceWith(...[a].flat());\n    } else\n      console.warn(`Missing placeholder element for key \"${r}\"`);\n  }), e;\n};\nconst Ct = p(\n  \"imagePlaceholder\",\n  \"placeholder\"\n), jt = new u(({ classes: o }) => (\n  /* html */\n  `\n  <div class=\"${o.placeholder} ${o.imagePlaceholder}\"></div>\n`\n));\nclass _t extends c {\n  constructor({ classNames: e } = {}) {\n    super({ template: jt, classes: Ct }), this.classNames = e;\n  }\n  load(e) {\n    const t = document.createElement(\"img\");\n    this.classNames && (t.className = this.classNames), t.addEventListener(\"load\", () => {\n      this.el.replaceWith(t);\n    }, { once: !0 }), Promise.resolve(e).then((s) => t.src = s);\n  }\n  renderSync() {\n    return super.renderSync(), this.classNames && this.classNames.split(\" \").forEach((t) => this.el.classList.add(t)), this.el;\n  }\n}\nconst kt = p(\"customEmoji\");\nclass Et {\n  renderElement(e) {\n    return { content: e };\n  }\n  renderImage(e = \"\", t) {\n    const s = new _t({ classNames: e });\n    return s.renderSync(), { content: s, resolver: () => (s.load(t()), s.el) };\n  }\n  doRender(e, t, s) {\n    if (e.custom)\n      return this.renderCustom(e, t, s);\n    const { content: i, resolver: r } = this.render(e, s), a = i instanceof Element ? i : i.el;\n    return r && r(), a;\n  }\n  doEmit(e) {\n    return e.custom ? this.emitCustom(e) : this.emit(e);\n  }\n  emitCustom({ url: e, label: t, emoji: s, data: i }) {\n    return { url: e, label: t, emoji: s, data: i };\n  }\n  renderCustom(e, t, s = \"\") {\n    const i = [kt.customEmoji, s].join(\" \").trim(), { content: r, resolver: a } = this.renderImage(i, () => e.url), n = r instanceof Element ? r : r.el;\n    return a && a(), n;\n  }\n}\nconst xt = new u(({ emoji: o }) => (\n  /* html */\n  `<span>${o}</span>`\n));\nclass St extends Et {\n  render(e) {\n    return this.renderElement(xt.renderSync({ emoji: e.emoji }));\n  }\n  emit({ emoji: e, hexcode: t, label: s }) {\n    return { emoji: e, hexcode: t, label: s };\n  }\n}\nconst ze = {\n  \"categories.activities\": \"Activities\",\n  \"categories.animals-nature\": \"Animals & Nature\",\n  \"categories.custom\": \"Custom\",\n  \"categories.flags\": \"Flags\",\n  \"categories.food-drink\": \"Food & Drink\",\n  \"categories.objects\": \"Objects\",\n  \"categories.people-body\": \"People & Body\",\n  \"categories.recents\": \"Recently Used\",\n  \"categories.smileys-emotion\": \"Smileys & Emotion\",\n  \"categories.symbols\": \"Symbols\",\n  \"categories.travel-places\": \"Travel & Places\",\n  \"error.load\": \"Failed to load emojis\",\n  \"recents.clear\": \"Clear recent emojis\",\n  \"recents.none\": \"You haven't selected any emojis yet.\",\n  retry: \"Try again\",\n  \"search.clear\": \"Clear search\",\n  \"search.error\": \"Failed to search emojis\",\n  \"search.notFound\": \"No results found\",\n  search: \"Search emojis...\"\n}, te = \"PicMo\";\nfunction Fe(o) {\n  return new Pt(o);\n}\nFe.deleteDatabase = (o) => new Promise((e, t) => {\n  const s = indexedDB.deleteDatabase(`${te}-${o}`);\n  s.addEventListener(\"success\", e), s.addEventListener(\"error\", t);\n});\nclass Pt extends Ee {\n  /**\n   * Creates/opens the database.\n   *\n   * There are three data stores:\n   *\n   * - category: stores the categories\n   * - emoji: stores the emoji data itself\n   * - meta: stores metadata such as the ETags\n   *\n   * @returns a Promise that resolves when the database is ready\n   */\n  async open() {\n    const e = indexedDB.open(`${te}-${this.locale}`);\n    return new Promise((t, s) => {\n      e.addEventListener(\"success\", (i) => {\n        var r;\n        this.db = (r = i.target) == null ? void 0 : r.result, t();\n      }), e.addEventListener(\"error\", s), e.addEventListener(\"upgradeneeded\", async (i) => {\n        var a;\n        this.db = (a = i.target) == null ? void 0 : a.result, this.db.createObjectStore(\"category\", { keyPath: \"order\" });\n        const r = this.db.createObjectStore(\"emoji\", { keyPath: \"emoji\" });\n        r.createIndex(\"category\", \"group\"), r.createIndex(\"version\", \"version\"), this.db.createObjectStore(\"meta\");\n      });\n    });\n  }\n  async delete() {\n    this.close();\n    const e = indexedDB.deleteDatabase(`${te}-${this.locale}`);\n    await this.waitForRequest(e);\n  }\n  close() {\n    this.db.close();\n  }\n  async getEmojiCount() {\n    const t = this.db.transaction(\"emoji\", \"readonly\").objectStore(\"emoji\");\n    return (await this.waitForRequest(t.count())).target.result;\n  }\n  /**\n   * Gets the ETags stored in the meta datastore.\n   * @returns a Promise that resolves to the ETag data\n   */\n  async getEtags() {\n    const t = this.db.transaction(\"meta\", \"readonly\").objectStore(\"meta\"), [s, i] = await Promise.all([\n      this.waitForRequest(t.get(\"emojisEtag\")),\n      this.waitForRequest(t.get(\"messagesEtag\"))\n    ]);\n    return {\n      storedEmojisEtag: s.target.result,\n      storedMessagesEtag: i.target.result\n    };\n  }\n  /**\n   * Stores ETag values for the emoji and message data.\n   * @param emojisEtag the ETag for the emoji data\n   * @param messagesEtag the ETag for the message data\n   */\n  async setMeta(e) {\n    const t = this.db.transaction(\"meta\", \"readwrite\"), s = t.objectStore(\"meta\");\n    return new Promise((i) => {\n      t.oncomplete = i, Object.keys(e).filter(Boolean).forEach((a) => {\n        s.put(e[a], a);\n      });\n    });\n  }\n  async getHash() {\n    const t = this.db.transaction(\"meta\", \"readonly\").objectStore(\"meta\");\n    return (await this.waitForRequest(t.get(\"hash\"))).target.result;\n  }\n  /**\n   * Determines whether or not the database is populated.\n   *\n   * @returns a Promise that resolves to a boolean indicating the populated state\n   */\n  async isPopulated() {\n    const t = this.db.transaction(\"category\", \"readonly\").objectStore(\"category\");\n    return (await this.waitForRequest(t.count())).target.result > 0;\n  }\n  /**\n   * Removes any current data and re-populates the data stores with the given data.\n   *\n   * @param groups the group message data\n   * @param emojis the emoji data\n   * @param emojisEtag the emoji data ETag\n   * @param messagesEtag the message data ETag\n   * @returns a Promise that resolves when all data has been written\n   */\n  async populate({\n    groups: e,\n    emojis: t,\n    emojisEtag: s,\n    messagesEtag: i,\n    hash: r\n  }) {\n    await this.removeAllObjects(\"category\", \"emoji\");\n    const a = [\n      this.addObjects(\"category\", e),\n      this.addObjects(\"emoji\", t),\n      this.setMeta({ emojisEtag: s, messagesEtag: i, hash: r })\n    ];\n    await Promise.all(a);\n  }\n  /**\n   * Gets the emoji categories.\n   *\n   * If an include list is specified, only those categories will be returned - and will be in the same sort order.\n   * Otherwise, all categories (except 'component') are returned.\n   *\n   * @param include an array of CategoryKeys to include\n   * @returns an arrya of all categories, or only the ones specified if include is given\n   */\n  async getCategories(e) {\n    var a;\n    const s = this.db.transaction(\"category\", \"readonly\").objectStore(\"category\");\n    let r = (await this.waitForRequest(s.getAll())).target.result.filter((n) => n.key !== \"component\");\n    if (e.showRecents && r.unshift({ key: \"recents\", order: -1 }), (a = e.custom) != null && a.length && r.push({ key: \"custom\", order: 10 }), e.categories) {\n      const n = e.categories;\n      r = r.filter((l) => n.includes(l.key)), r.sort((l, d) => n.indexOf(l.key) - n.indexOf(d.key));\n    } else\n      r.sort((n, l) => n.order - l.order);\n    return r;\n  }\n  /**\n   * Gets all emojis for a particular category and emoji version.\n   *\n   * @param category the category to get emojis for\n   * @param emojiVersion the maximum version for returned emojis\n   * @returns a Promise that resolves to an array of the EmojiRecord data\n   */\n  async getEmojis(e, t) {\n    const r = this.db.transaction(\"emoji\", \"readonly\").objectStore(\"emoji\").index(\"category\"), l = (await this.waitForRequest(r.getAll(e.order))).target.result.filter((d) => d.version <= t).sort((d, m) => d.order != null && m.order != null ? d.order - m.order : 0).map(E);\n    return B(l, t);\n  }\n  /**\n   * Searches the database for emojis.\n   *\n   * @param query the text query\n   * @param customEmojis the custom emojis\n   * @param emojiVersion the maximum emoji version for search results\n   * @param categories the categories to search\n   * @returns a Promise that resolves to the matching EmojiRecords\n   */\n  async searchEmojis(e, t, s, i) {\n    const r = [];\n    return new Promise((a, n) => {\n      const m = this.db.transaction(\"emoji\", \"readonly\").objectStore(\"emoji\").openCursor();\n      m.addEventListener(\"success\", (h) => {\n        var he;\n        const O = (he = h.target) == null ? void 0 : he.result;\n        if (!O)\n          return a([\n            // matching emojis from the database\n            ...B(r, s),\n            // matching custom emojis\n            ...t.filter((Te) => D(Te, e))\n          ]);\n        const H = O.value;\n        D(H, e, i) && H.version <= s && r.push(E(H)), O.continue();\n      }), m.addEventListener(\"error\", (h) => {\n        n(h);\n      });\n    });\n  }\n  /**\n   * Waits for a request to complete.\n   *\n   * @param request the request\n   * @returns a Promise that resolves when the request succeeds, or rejects if it fails\n   */\n  async waitForRequest(e) {\n    return new Promise((t, s) => {\n      e.onsuccess = t, e.onerror = s;\n    });\n  }\n  /**\n   * Wraps an operation in an IndexedDB transaction.\n   *\n   * @param storeName the data store(s) to use\n   * @param mode the transaction mode\n   * @param callback a callback containing the work to do in the transaction\n   * @returns a Promise that resolves when the transaction completes, or rejects if it fails\n   */\n  withTransaction(e, t = \"readwrite\", s) {\n    return new Promise((i, r) => {\n      const a = this.db.transaction(e, t);\n      a.oncomplete = i, a.onerror = r, s(a);\n    });\n  }\n  /**\n   * Removes all entries from one or more stores.\n   * @param storeNames the stores to clear\n   * @return a Promise that resolves when the clear is complete\n   */\n  async removeAllObjects(...e) {\n    const t = this.db.transaction(e, \"readwrite\"), s = e.map((i) => t.objectStore(i));\n    await Promise.all(s.map((i) => this.waitForRequest(i.clear())));\n  }\n  /**\n   * Adds a collection of objects to a data store.\n   *\n   * @param storeName the store to populate\n   * @param objects the objects to add\n   * @returns a Promise that resolves when the add is complete, or rejects if it fails\n   */\n  async addObjects(e, t) {\n    return this.withTransaction(e, \"readwrite\", (s) => {\n      const i = s.objectStore(e);\n      t.forEach((r) => {\n        i.add(r);\n      });\n    });\n  }\n}\nclass Le {\n}\nconst G = \"PicMo:recents\";\nclass $e extends Le {\n  constructor(e) {\n    super(), this.storage = e;\n  }\n  clear() {\n    this.storage.removeItem(G);\n  }\n  getRecents(e) {\n    try {\n      return JSON.parse(this.storage.getItem(G) ?? \"[]\").slice(0, e);\n    } catch {\n      return [];\n    }\n  }\n  addOrUpdateRecent(e, t) {\n    const s = [\n      e,\n      ...this.getRecents(t).filter((i) => i.hexcode !== e.hexcode)\n    ].slice(0, t);\n    try {\n      this.storage.setItem(G, JSON.stringify(s));\n    } catch {\n      console.warn(\"storage is not available, recent emojis will not be saved\");\n    }\n  }\n}\nclass zt extends $e {\n  constructor() {\n    super(localStorage);\n  }\n}\nconst Ft = {\n  dataStore: Fe,\n  theme: ot,\n  animate: !0,\n  showCategoryTabs: !0,\n  showPreview: !0,\n  showRecents: !0,\n  showSearch: !0,\n  showVariants: !0,\n  emojisPerRow: 8,\n  visibleRows: 6,\n  emojiVersion: \"auto\",\n  i18n: ze,\n  locale: \"en\",\n  maxRecents: 50,\n  custom: []\n};\n!Ue() && typeof window < \"u\" && (console.warn(\"[picmo] localStorage not available, falling back to simple in-memory storage\"), Object.defineProperty(window, \"localStorage\", {\n  value: ke()\n}));\nfunction Lt(o = {}) {\n  return {\n    ...Ft,\n    ...o,\n    renderer: o.renderer || new St(),\n    recentsProvider: o.recentsProvider || new zt()\n  };\n}\nvar v, C, V, F, oe;\nclass ce {\n  constructor() {\n    f(this, C);\n    f(this, F);\n    f(this, v, /* @__PURE__ */ new Map());\n  }\n  on(e, t, s) {\n    g(this, F, oe).call(this, e, t, s);\n  }\n  once(e, t, s) {\n    g(this, F, oe).call(this, e, t, s, !0);\n  }\n  off(e, t) {\n    const s = g(this, C, V).call(this, e);\n    y(this, v).set(e, s.filter((i) => i.handler !== t));\n  }\n  emit(e, ...t) {\n    g(this, C, V).call(this, e).forEach((i) => {\n      i.handler.apply(i.context, t), i.once && this.off(e, i.handler);\n    });\n  }\n  removeAll() {\n    y(this, v).clear();\n  }\n}\nv = new WeakMap(), C = new WeakSet(), V = function(e) {\n  return y(this, v).has(e) || y(this, v).set(e, []), y(this, v).get(e);\n}, F = new WeakSet(), oe = function(e, t, s, i = !1) {\n  g(this, C, V).call(this, e).push({ context: s, handler: t, once: i });\n};\nconst $t = {\n  injectStyles: !0\n};\nclass At extends ce {\n}\nclass It extends ce {\n}\nconst se = p(\n  \"emojiCategory\",\n  \"categoryName\",\n  \"noRecents\",\n  \"recentEmojis\"\n);\nclass le extends c {\n  constructor({ template: e, category: t, showVariants: s, lazyLoader: i }) {\n    super({ template: e, classes: se }), this.baseUIElements = {\n      categoryName: c.byClass(se.categoryName)\n    }, this.category = t, this.showVariants = s, this.lazyLoader = i;\n  }\n  setActive(e, t, s) {\n    this.emojiContainer.setActive(e, t, s);\n  }\n}\nconst Tt = new u(({ classes: o, emoji: e }) => (\n  /* html */\n  `\n  <button\n    type=\"button\"\n    class=\"${o.emojiButton}\"\n    title=\"${e.label}\"\n    data-emoji=\"${e.emoji}\"\n    tabindex=\"-1\">\n    <div data-placeholder=\"emojiContent\"></div>\n  </button>\n`\n)), Rt = p(\"emojiButton\");\nclass Ae extends c {\n  constructor({ emoji: e, lazyLoader: t, category: s }) {\n    super({ template: Tt, classes: Rt }), this.emoji = e, this.lazyLoader = t, this.category = s;\n  }\n  initialize() {\n    this.uiEvents = [\n      c.uiEvent(\"focus\", this.handleFocus)\n    ], super.initialize();\n  }\n  handleFocus() {\n    this.category && this.events.emit(\"focus:change\", this.category);\n  }\n  activateFocus(e) {\n    this.el.tabIndex = 0, e && this.el.focus();\n  }\n  deactivateFocus() {\n    this.el.tabIndex = -1;\n  }\n  renderSync() {\n    return super.renderSync({\n      emoji: this.emoji,\n      emojiContent: this.renderer.doRender(this.emoji, this.lazyLoader)\n    });\n  }\n}\nclass Mt {\n  /**\n   * Creates a FocusGrid.\n   * \n   * @param columnCount The number of columns in the emoji picker.\n   * @param emojiCount The total number of emojis in this category.\n   * @param initialRow The initial focused row.\n   * @param initialColumn The initial focused column.\n   */\n  constructor(e, t, s = 0, i = 0, r = !1) {\n    this.events = new ce(), this.keyHandlers = {\n      ArrowLeft: this.focusPrevious.bind(this),\n      ArrowRight: this.focusNext.bind(this),\n      ArrowUp: this.focusUp.bind(this),\n      ArrowDown: this.focusDown.bind(this)\n    }, this.rowCount = Math.ceil(t / e), this.columnCount = e, this.focusedRow = s, this.focusedColumn = i, this.emojiCount = t, this.wrap = r, this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n  /**\n   * Removes all bound event listeners.\n   */\n  destroy() {\n    this.events.removeAll();\n  }\n  /**\n   * Public API for listening for focus events.\n   */\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  /**\n   * Handles keydown events that are forwarded from the EmojiContainer and executes\n   * the appropriate focus function.\n   * @param event the KeyboardEvent that occurred\n   */\n  handleKeyDown(e) {\n    e.key in this.keyHandlers && (e.preventDefault(), this.keyHandlers[e.key]());\n  }\n  /**\n   * Sets the focused cell to a specific row and, optionally, column. If no column is specified,\n   * the focused column remains unchanged.\n   * \n   * The `performFocus` flag determines whether the focus should be moved to the new cell. If it\n   * is false, the focused element will be changed but the actual focus() call will not be triggered yet.\n   * \n   * @param row The new focused row\n   * @param column The new focused column, if specified\n   * @param performFocus Whether or not to perform the actual focus operation.\n   */\n  setCell(e, t, s = !0) {\n    const i = this.getIndex();\n    this.focusedRow = e, t !== void 0 && (this.focusedColumn = Math.min(this.columnCount, t)), (this.focusedRow >= this.rowCount || this.getIndex() >= this.emojiCount) && (this.focusedRow = this.rowCount - 1, this.focusedColumn = this.emojiCount % this.columnCount - 1), this.events.emit(\"focus:change\", { from: i, to: this.getIndex(), performFocus: s });\n  }\n  setFocusedIndex(e, t = !0) {\n    const s = Math.floor(e / this.columnCount), i = e % this.columnCount;\n    this.setCell(s, i, t);\n  }\n  /**\n   * Moves the focus to the next cell in the current row.\n   * Emits `focus:overflow` if there is no next cell. \n   */\n  focusNext() {\n    this.focusedColumn < this.columnCount - 1 && this.getIndex() < this.emojiCount - 1 ? this.setCell(this.focusedRow, this.focusedColumn + 1) : this.focusedRow < this.rowCount - 1 ? this.setCell(this.focusedRow + 1, 0) : this.wrap ? this.setCell(0, 0) : this.events.emit(\"focus:overflow\", 0);\n  }\n  /**\n   * Moves the focus to the previous cell in the current row.\n   * Emits `focus:underflow` if there is no previous cell.\n   */\n  focusPrevious() {\n    this.focusedColumn > 0 ? this.setCell(this.focusedRow, this.focusedColumn - 1) : this.focusedRow > 0 ? this.setCell(this.focusedRow - 1, this.columnCount - 1) : this.wrap ? this.setCell(this.rowCount - 1, this.columnCount - 1) : this.events.emit(\"focus:underflow\", this.columnCount - 1);\n  }\n  /**\n   * Moves the focus to the cell directly above the current one.\n   * Emits `focus:underflow` if the current cell is in the first row.\n   */\n  focusUp() {\n    this.focusedRow > 0 ? this.setCell(this.focusedRow - 1, this.focusedColumn) : this.events.emit(\"focus:underflow\", this.focusedColumn);\n  }\n  /**\n   * Moves the focus to the cell directly below the current one.\n   * Emits `focus:overflow` if the current cell is in the last row.\n   */\n  focusDown() {\n    this.focusedRow < this.rowCount - 1 ? this.setCell(this.focusedRow + 1, this.focusedColumn) : this.events.emit(\"focus:overflow\", this.focusedColumn);\n  }\n  /**\n   * Moves the focus to a specific emoji in the category.\n   * @param index the index of the emoji to focus on\n   */\n  focusToIndex(e) {\n    this.setCell(Math.floor(e / this.columnCount), e % this.columnCount);\n  }\n  /**\n   * Gets the index in the emoji array of the currently focused cell.\n   * @returns the currently focused cell's index\n   */\n  getIndex() {\n    return this.focusedRow * this.columnCount + this.focusedColumn;\n  }\n  /**\n   * Gets the row and column of the currently focused cell.\n   * @returns the row and column data\n   */\n  getCell() {\n    return { row: this.focusedRow, column: this.focusedColumn };\n  }\n  /**\n   * Gets the total number of rows in the grid\n   * @returns the number of rows in the grid\n   */\n  getRowCount() {\n    return this.rowCount;\n  }\n}\nconst Vt = new u(({ classes: o }) => (\n  /* html */\n  `\n  <div class=\"${o.emojiContainer}\">\n    <div data-placeholder=\"emojis\"></div>\n  </div>\n`\n)), Dt = p(\"emojiContainer\");\nclass $ extends c {\n  constructor({ emojis: e, showVariants: t, preview: s = !0, lazyLoader: i, category: r, fullHeight: a = !1 }) {\n    super({ template: Vt, classes: Dt }), this.fullHeight = !1, this.showVariants = t, this.lazyLoader = i, this.preview = s, this.emojis = e, this.category = r, this.fullHeight = a, this.setFocus = this.setFocus.bind(this), this.triggerNextCategory = this.triggerNextCategory.bind(this), this.triggerPreviousCategory = this.triggerPreviousCategory.bind(this);\n  }\n  initialize() {\n    this.grid = new Mt(this.options.emojisPerRow, this.emojiCount, 0, 0, !this.category), this.grid.on(\"focus:change\", this.setFocus), this.grid.on(\"focus:overflow\", this.triggerNextCategory), this.grid.on(\"focus:underflow\", this.triggerPreviousCategory), this.uiEvents = [\n      c.uiEvent(\"click\", this.selectEmoji),\n      c.uiEvent(\"keydown\", this.grid.handleKeyDown)\n    ], this.preview && this.uiEvents.push(\n      c.uiEvent(\"mouseover\", this.showPreview),\n      c.uiEvent(\"mouseout\", this.hidePreview),\n      c.uiEvent(\"focus\", this.showPreview, { capture: !0 }),\n      c.uiEvent(\"blur\", this.hidePreview, { capture: !0 })\n    ), super.initialize();\n  }\n  /**\n   * Marks the specified cell in the emoji grid as focused.\n   * \n   * @param focusTarget The target emoji to make focusable.\n   * @param performFocus Whether or not to actually focus the new target.\n   */\n  setFocusedView(e, t) {\n    if (e)\n      if (typeof e == \"string\") {\n        const s = this.emojis.findIndex((i) => i.emoji === e);\n        this.grid.setFocusedIndex(s, !1), setTimeout(() => {\n          var n, l, d;\n          const i = this.emojiViews[s].el;\n          i.scrollIntoView();\n          const r = (n = i.parentElement) == null ? void 0 : n.previousElementSibling, a = (d = (l = i.parentElement) == null ? void 0 : l.parentElement) == null ? void 0 : d.parentElement;\n          a.scrollTop -= (r == null ? void 0 : r.offsetHeight) ?? 0;\n        });\n      } else\n        e.row === \"first\" || e.row === 0 ? this.grid.setCell(0, e.offset, t) : e.row === \"last\" && this.grid.setCell(this.grid.getRowCount() - 1, e.offset, t);\n  }\n  /**\n   * Sets the active state of this category's emojis. If a category is active, its emojis\n   * are focusable.\n   * \n   * @param active the desired active state\n   * @param focusTarget the target emoji to make focusable if active is true\n   * @param performFocus whether or not to actually focus the new target if active is true\n   */\n  setActive(e, t, s) {\n    var i;\n    e ? this.setFocusedView(t, s) : (i = this.emojiViews[this.grid.getIndex()]) == null || i.deactivateFocus();\n  }\n  renderSync() {\n    return this.emojiViews = this.emojis.map(\n      (e) => this.viewFactory.create(Ae, {\n        emoji: e,\n        category: this.category,\n        lazyLoader: this.lazyLoader,\n        renderer: this.renderer\n      })\n    ), this.emojiElements = this.emojiViews.map((e) => e.renderSync()), super.renderSync({\n      emojis: this.emojiElements,\n      i18n: this.i18n\n    });\n  }\n  destroy() {\n    super.destroy(), this.emojiViews.forEach((e) => e.destroy()), this.grid.destroy();\n  }\n  /**\n   * Causes the previous category to become active/focusable due to a focus:underflow event.\n   * @param column the currently focused column\n   */\n  triggerPreviousCategory(e) {\n    this.events.emit(\"category:previous\", e);\n  }\n  /**\n   * Causes the next category to become active/focusable due to a focus:overflow event.\n   * @param column the currently focused column\n   */\n  triggerNextCategory(e) {\n    this.category && this.events.emit(\"category:next\", e);\n  }\n  /**\n   * Reacts to a focus:change event from the grid.\n   * \n   * The current emoji is deactivated, and the new emoji is activated.\n   * An event is then emitted which will pause the scroll listener in the main emoji area,\n   * otherwise the active category tab can get out of sync.\n   * \n   * @param event The focus:change event.\n   */\n  setFocus({ from: e, to: t, performFocus: s }) {\n    var i, r;\n    (i = this.emojiViews[e]) == null || i.deactivateFocus(), (r = this.emojiViews[t]) == null || r.activateFocus(s);\n  }\n  selectEmoji(e) {\n    e.stopPropagation();\n    const t = U(e, this.emojis);\n    t && this.events.emit(\"emoji:select\", {\n      emoji: t,\n      showVariants: this.showVariants\n    });\n  }\n  showPreview(e) {\n    const s = e.target.closest(\"button\"), i = s == null ? void 0 : s.firstElementChild, r = U(e, this.emojis);\n    r && this.events.emit(\"preview:show\", r, i == null ? void 0 : i.cloneNode(!0));\n  }\n  hidePreview(e) {\n    U(e, this.emojis) && this.events.emit(\"preview:hide\");\n  }\n  get emojiCount() {\n    return this.emojis.length;\n  }\n}\nconst Bt = new u(({ classes: o, category: e, pickerId: t, icon: s, i18n: i }) => (\n  /* html */\n  `\n  <section class=\"${o.emojiCategory}\" role=\"tabpanel\" aria-labelledby=\"${t}-category-${e.key}\">\n    <h3 data-category=\"${e.key}\" class=\"${o.categoryName}\">\n      <i data-icon=\"${s}\"></i>\n      ${i.get(`categories.${e.key}`, e.message || e.key)}\n    </h3>\n    <div data-view=\"emojis\" data-render=\"sync\"></div>\n  </section>\n`\n));\nclass Nt extends le {\n  constructor({ category: e, showVariants: t, lazyLoader: s, emojiVersion: i }) {\n    super({ category: e, showVariants: t, lazyLoader: s, template: Bt }), this.showVariants = t, this.lazyLoader = s, this.emojiVersion = i;\n  }\n  initialize() {\n    this.uiElements = { ...this.baseUIElements }, super.initialize();\n  }\n  async render() {\n    await this.emojiDataPromise;\n    const e = await this.emojiData.getEmojis(this.category, this.emojiVersion);\n    return this.emojiContainer = this.viewFactory.create($, {\n      emojis: e,\n      showVariants: this.showVariants,\n      lazyLoader: this.lazyLoader,\n      category: this.category.key\n    }), super.render({\n      category: this.category,\n      emojis: this.emojiContainer,\n      emojiCount: e.length,\n      icon: N[this.category.key]\n    });\n  }\n}\nclass Ot extends $ {\n  constructor({ category: e, emojis: t, preview: s = !0, lazyLoader: i }) {\n    super({ category: e, emojis: t, showVariants: !1, preview: s, lazyLoader: i });\n  }\n  async addOrUpdate(e) {\n    const t = this.el.querySelector(`[data-emoji=\"${e.emoji}\"]`);\n    t && (this.el.removeChild(t), this.emojis = this.emojis.filter((i) => i !== e));\n    const s = this.viewFactory.create(Ae, { emoji: e });\n    if (this.el.insertBefore(s.renderSync(), this.el.firstChild), this.emojis = [\n      e,\n      ...this.emojis.filter((i) => i !== e)\n    ], this.emojis.length > this.options.maxRecents) {\n      this.emojis = this.emojis.slice(0, this.options.maxRecents);\n      const i = this.el.childElementCount - this.options.maxRecents;\n      for (let r = 0; r < i; r++)\n        this.el.lastElementChild && this.el.removeChild(this.el.lastElementChild);\n    }\n  }\n}\nconst Ht = new u(({ emojiCount: o, classes: e, category: t, pickerId: s, icon: i, i18n: r }) => (\n  /* html */\n  `\n  <section class=\"${e.emojiCategory}\" role=\"tabpanel\" aria-labelledby=\"${s}-category-${t.key}\">\n    <h3 data-category=\"${t.key}\" class=\"${e.categoryName}\">\n      <i data-icon=\"${i}\"></i>\n      ${r.get(`categories.${t.key}`, t.message || t.key)}\n    </h3>\n    <div data-empty=\"${o === 0}\" class=\"${e.recentEmojis}\">\n      <div data-view=\"emojis\" data-render=\"sync\"></div>\n    </div>\n    <div class=\"${e.noRecents}\">\n      ${r.get(\"recents.none\")}\n    </div>\n  </section>\n`\n), { mode: \"async\" });\nclass Kt extends le {\n  constructor({ category: e, lazyLoader: t, provider: s }) {\n    super({ category: e, showVariants: !1, lazyLoader: t, template: Ht }), this.provider = s;\n  }\n  initialize() {\n    this.uiElements = {\n      ...this.baseUIElements,\n      recents: c.byClass(se.recentEmojis)\n    }, this.appEvents = {\n      \"recent:add\": this.addRecent\n    }, super.initialize();\n  }\n  async addRecent(e) {\n    await this.emojiContainer.addOrUpdate(e), this.ui.recents.dataset.empty = \"false\";\n  }\n  async render() {\n    var t;\n    const e = (t = this.provider) == null ? void 0 : t.getRecents(this.options.maxRecents);\n    return this.emojiContainer = this.viewFactory.create(Ot, {\n      emojis: e,\n      showVariants: !1,\n      lazyLoader: this.lazyLoader,\n      category: this.category.key\n    }), await super.render({\n      category: this.category,\n      emojis: this.emojiContainer,\n      emojiCount: e.length,\n      icon: N[this.category.key]\n    }), this.el;\n  }\n}\nconst Ut = new u(({ classes: o, category: e, pickerId: t, icon: s, i18n: i }) => (\n  /* html */\n  `\n  <section class=\"${o.emojiCategory}\" role=\"tabpanel\" aria-labelledby=\"${t}-category-${e.key}\">\n    <h3 data-category=\"${e.key}\" class=\"${o.categoryName}\">\n      <i data-icon=\"${s}\"></i>\n      ${i.get(`categories.${e.key}`, e.message || e.key)}\n    </h3>\n    <div data-view=\"emojis\" data-render=\"sync\"></div>\n  </section>\n`\n));\nclass qt extends le {\n  constructor({ category: e, lazyLoader: t }) {\n    super({ template: Ut, showVariants: !1, lazyLoader: t, category: e });\n  }\n  initialize() {\n    this.uiElements = { ...this.baseUIElements }, super.initialize();\n  }\n  async render() {\n    return this.emojiContainer = this.viewFactory.create($, {\n      emojis: this.customEmojis,\n      showVariants: this.showVariants,\n      lazyLoader: this.lazyLoader,\n      category: this.category.key\n    }), super.render({\n      category: this.category,\n      emojis: this.emojiContainer,\n      emojiCount: this.customEmojis.length,\n      icon: N[this.category.key]\n    });\n  }\n}\nclass Ie {\n  constructor() {\n    this.elements = /* @__PURE__ */ new Map();\n  }\n  lazyLoad(e, t) {\n    return this.elements.set(e, t), e;\n  }\n  observe(e) {\n    if (window.IntersectionObserver) {\n      const t = new IntersectionObserver(\n        (s) => {\n          s.filter((i) => i.intersectionRatio > 0).map((i) => i.target).forEach((i) => {\n            const r = this.elements.get(i);\n            r == null || r(), t.unobserve(i);\n          });\n        },\n        {\n          root: e\n        }\n      );\n      this.elements.forEach((s, i) => {\n        t.observe(i);\n      });\n    } else\n      this.elements.forEach((t) => {\n        t();\n      });\n  }\n}\nconst ge = p(\"emojiArea\"), Gt = new u(({ classes: o }) => (\n  /* html */\n  `\n  <div class=\"${o.emojiArea}\">\n    <div data-placeholder=\"emojis\"></div>\n  </div>\n`\n), { mode: \"async\" }), Wt = {\n  recents: Kt,\n  custom: qt\n};\nfunction Jt(o) {\n  return Wt[o.key] || Nt;\n}\nfunction Zt(o) {\n  return !o || o === \"button\" ? {\n    row: \"first\",\n    offset: 0\n  } : o;\n}\nclass Yt extends c {\n  constructor({ categoryTabs: e, categories: t, emojiVersion: s }) {\n    super({ template: Gt, classes: ge }), this.selectedCategory = 0, this.scrollListenerState = \"active\", this.lazyLoader = new Ie(), this.categoryTabs = e, this.categories = t, this.emojiVersion = s, this.handleScroll = Ne(this.handleScroll.bind(this), 100);\n  }\n  initialize() {\n    this.appEvents = {\n      \"category:select\": this.handleCategorySelect,\n      \"category:previous\": this.focusPreviousCategory,\n      \"category:next\": this.focusNextCategory,\n      \"focus:change\": this.updateFocusedCategory\n    }, this.uiElements = { emojis: c.byClass(ge.emojiArea) }, this.uiEvents = [c.uiEvent(\"scroll\", this.handleScroll)], super.initialize();\n  }\n  get focusableEmoji() {\n    return this.el.querySelector('[tabindex=\"0\"]');\n  }\n  async render() {\n    this.emojiCategories = this.categories.map(this.createCategory, this);\n    const e = {};\n    return this.categories.forEach((t, s) => {\n      e[`emojis-${t.key}`] = this.emojiCategories[s];\n    }), await super.render({\n      emojis: await Promise.all(this.emojiCategories.map((t) => t.render()))\n    }), this.lazyLoader.observe(this.el), this.el;\n  }\n  destroy() {\n    super.destroy(), this.emojiCategories.forEach((e) => {\n      var t;\n      (t = this.observer) == null || t.unobserve(e.el), e.destroy();\n    });\n  }\n  handleCategorySelect(e, t) {\n    this.el.style.overflow = \"hidden\", this.selectCategory(e, t), this.el.style.overflow = \"auto\";\n  }\n  createCategory(e) {\n    const t = Jt(e);\n    return this.viewFactory.create(t, {\n      category: e,\n      showVariants: !0,\n      lazyLoader: this.lazyLoader,\n      emojiVersion: this.emojiVersion,\n      provider: this.options.recentsProvider\n    });\n  }\n  determineInitialCategory() {\n    var e;\n    return this.options.initialCategory && this.categories.find((t) => t.key === this.options.initialCategory) ? this.options.initialCategory : (e = this.categories.find((t) => t.key !== \"recents\")) == null ? void 0 : e.key;\n  }\n  determineFocusTarget(e) {\n    const t = this.emojiCategories.find((s) => s.category.key === e);\n    return this.options.initialEmoji && (t != null && t.el.querySelector(`[data-emoji=\"${this.options.initialEmoji}\"]`)) ? this.options.initialEmoji : \"button\";\n  }\n  reset(e = !0) {\n    this.events.emit(\"preview:hide\");\n    const t = this.determineInitialCategory();\n    t && (this.selectCategory(t, {\n      focus: this.determineFocusTarget(t),\n      performFocus: e,\n      scroll: \"jump\"\n    }), this.selectedCategory = this.getCategoryIndex(t));\n  }\n  /**\n   * Given a category key, returns the index of the category in the categories array.\n   * @param key \n   * @returns \n   */\n  getCategoryIndex(e) {\n    return this.categories.findIndex((t) => t.key === e);\n  }\n  focusPreviousCategory(e) {\n    this.selectedCategory > 0 && this.focusCategory(this.selectedCategory - 1, { row: \"last\", offset: e ?? this.options.emojisPerRow });\n  }\n  focusNextCategory(e) {\n    this.selectedCategory < this.categories.length - 1 && this.focusCategory(this.selectedCategory + 1, { row: \"first\", offset: e ?? 0 });\n  }\n  /**\n   * Changes the focused category.\n   * \n   * @param category the index of the category\n   * @param focusTarget the desired focus target in the new category\n   */\n  focusCategory(e, t) {\n    this.selectCategory(e, {\n      focus: t,\n      performFocus: !0\n    });\n  }\n  /**\n   * Changes the current category, optionally animating, scrolling, and changing the focus.\n   * \n   * Supported options are:\n   * - focus: The target element that should become focusable\n   * - performFocus: Whether or not to actually focus the new focusable element\n   * - scroll: Whether the scrolling should be immediate (jump), animated (animate), or none (undefined).\n   * - animate: Whether or not to animate active indicator under the button.\n   * \n   * @param category The key or index of the category to select.\n   * @param options The options for the category selection.\n   */\n  async selectCategory(e, t = {}) {\n    var l;\n    this.scrollListenerState = \"suspend\";\n    const { focus: s, performFocus: i, scroll: r } = {\n      performFocus: !1,\n      ...t\n    };\n    this.emojiCategories[this.selectedCategory].setActive(!1);\n    const a = this.selectedCategory = typeof e == \"number\" ? e : this.getCategoryIndex(e);\n    (l = this.categoryTabs) == null || l.setActiveTab(this.selectedCategory, {\n      performFocus: i,\n      scroll: s === \"button\"\n    });\n    const n = this.emojiCategories[a].el.offsetTop;\n    this.emojiCategories[a].setActive(!0, Zt(s), s !== \"button\" && i), r && (this.el.scrollTop = n), this.scrollListenerState = \"resume\";\n  }\n  /**\n   * Updates the category tabs to reflect the currently focused category.\n   * @param category the key of the currently focused category\n   */\n  updateFocusedCategory(e) {\n    var t;\n    this.categories[this.selectedCategory].key !== e && (this.scrollListenerState = \"suspend\", this.selectedCategory = this.getCategoryIndex(e), (t = this.categoryTabs) == null || t.setActiveTab(this.selectedCategory, {\n      changeFocusable: !1,\n      performFocus: !1\n    }), this.scrollListenerState = \"resume\");\n  }\n  /**\n   * On scroll, checks the new scroll position and highlights a new category if necessary.\n   */\n  handleScroll() {\n    if (this.scrollListenerState === \"suspend\" || !this.categoryTabs)\n      return;\n    if (this.scrollListenerState === \"resume\") {\n      this.scrollListenerState = \"active\";\n      return;\n    }\n    const e = this.el.scrollTop, t = this.el.scrollHeight - this.el.offsetHeight, s = this.emojiCategories.findIndex((r, a) => {\n      var n;\n      return e < ((n = this.emojiCategories[a + 1]) == null ? void 0 : n.el.offsetTop);\n    }), i = {\n      changeFocusable: !1,\n      performFocus: !1,\n      scroll: !1\n    };\n    e === 0 ? this.categoryTabs.setActiveTab(0, i) : Math.floor(e) === Math.floor(t) || s < 0 ? this.categoryTabs.setActiveTab(this.categories.length - 1, i) : this.categoryTabs.setActiveTab(s, i);\n  }\n}\nconst Qt = new u(({ classList: o, classes: e, icon: t, message: s }) => (\n  /* html */\n  `\n<div class=\"${o}\" role=\"alert\">\n  <div class=\"${e.iconContainer}\"><i data-size=\"10x\" data-icon=\"${t}\"></i></div>\n  <h3 class=\"${e.title}\">${s}</h3>\n</div>\n`\n)), ye = p(\"error\", \"iconContainer\", \"title\");\nclass ie extends c {\n  constructor({ message: e, icon: t = \"warning\", template: s = Qt, className: i }) {\n    super({ template: s, classes: ye }), this.message = e, this.icon = t, this.className = i;\n  }\n  renderSync() {\n    const e = [ye.error, this.className].join(\" \").trim();\n    return super.renderSync({ message: this.message, icon: this.icon, classList: e });\n  }\n}\nconst Xt = new u(({ classList: o, classes: e, icon: t, i18n: s, message: i }) => (\n  /* html */\n  `\n  <div class=\"${o}\" role=\"alert\">\n    <div class=\"${e.icon}\"><i data-size=\"10x\" data-icon=\"${t}\"></i></div>\n    <h3 class=\"${e.title}\">${i}</h3>\n    <button type=\"button\">${s.get(\"retry\")}</button>\n  </div>\n`\n)), eo = p(\"dataError\");\nclass to extends ie {\n  constructor({ message: e }) {\n    super({ message: e, template: Xt, className: eo.dataError });\n  }\n  initialize() {\n    this.uiElements = { retryButton: \"button\" }, this.uiEvents = [c.childEvent(\"retryButton\", \"click\", this.onRetry)], super.initialize();\n  }\n  async onRetry() {\n    this.emojiData ? await this.emojiData.delete() : await this.options.dataStore.deleteDatabase(this.options.locale), this.events.emit(\"reinitialize\");\n    const e = await ne(this.options.locale, this.options.dataStore, this.options.messages, this.options.emojiData, this.emojiData);\n    this.viewFactory.setEmojiData(e), this.events.emit(\"data:ready\", e);\n  }\n}\nconst j = p(\n  \"preview\",\n  \"previewEmoji\",\n  \"previewName\",\n  \"tagList\",\n  \"tag\"\n), oo = new u(({ classes: o, tag: e }) => (\n  /* html */\n  `\n  <li class=\"${o.tag}\">${e}</li>\n`\n)), so = new u(({ classes: o }) => (\n  /* html */\n  `\n  <div class=\"${o.preview}\">\n    <div class=\"${o.previewEmoji}\"></div>\n    <div class=\"${o.previewName}\"></div>\n    <ul class=\"${o.tagList}\"></ul>\n  </div>\n`\n));\nclass io extends c {\n  constructor() {\n    super({ template: so, classes: j });\n  }\n  initialize() {\n    this.uiElements = {\n      emoji: c.byClass(j.previewEmoji),\n      name: c.byClass(j.previewName),\n      tagList: c.byClass(j.tagList)\n    }, this.appEvents = {\n      \"preview:show\": this.showPreview,\n      \"preview:hide\": this.hidePreview\n    }, super.initialize();\n  }\n  showPreview(e, t) {\n    if (w(this.ui.emoji, t), this.ui.name.textContent = e.label, e.tags) {\n      this.ui.tagList.style.display = \"flex\";\n      const s = e.tags.map((i) => oo.renderSync({ tag: i, classes: j }));\n      w(this.ui.tagList, ...s);\n    }\n  }\n  hidePreview() {\n    M(this.ui.emoji), M(this.ui.name), M(this.ui.tagList);\n  }\n}\nconst ro = new u(({ classes: o, i18n: e }) => (\n  /* html */\n  `\n  <button title=\"${e.get(\"search.clear\")}\" class=\"${o.clearSearchButton}\">\n    <i data-icon=\"xmark\"></i>\n  </button>\n`\n)), ao = new u(({ classes: o, i18n: e }) => (\n  /* html */\n  `\n<div class=\"${o.searchContainer}\">\n  <input class=\"${o.searchField}\" placeholder=\"${e.get(\"search\")}\">\n  <span class=\"${o.searchAccessory}\"></span>\n</div>\n`\n), { mode: \"async\" }), _ = p(\n  \"searchContainer\",\n  \"searchField\",\n  \"clearButton\",\n  \"searchAccessory\",\n  \"clearSearchButton\",\n  \"notFound\"\n);\nclass no extends c {\n  constructor({ categories: e, emojiVersion: t }) {\n    super({ template: ao, classes: _ }), this.categories = e.filter((s) => s.key !== \"recents\"), this.emojiVersion = t, this.search = Oe(this.search.bind(this), 100);\n  }\n  initialize() {\n    this.uiElements = {\n      searchField: c.byClass(_.searchField),\n      searchAccessory: c.byClass(_.searchAccessory)\n    }, this.uiEvents = [\n      c.childEvent(\"searchField\", \"keydown\", this.onKeyDown),\n      c.childEvent(\"searchField\", \"input\", this.onSearchInput)\n    ], super.initialize();\n  }\n  async render() {\n    return await super.render(), this.searchIcon = Pe(\"search\"), this.notFoundMessage = this.viewFactory.create(ie, {\n      message: this.i18n.get(\"search.notFound\"),\n      className: _.notFound,\n      icon: \"sad\"\n    }), this.notFoundMessage.renderSync(), this.errorMessage = this.viewFactory.create(ie, { message: this.i18n.get(\"search.error\") }), this.errorMessage.renderSync(), this.clearSearchButton = ro.render({\n      classes: _,\n      i18n: this.i18n\n    }), this.clearSearchButton.addEventListener(\"click\", (e) => this.onClearSearch(e)), this.searchField = this.ui.searchField, this.showSearchIcon(), this.el;\n  }\n  showSearchIcon() {\n    this.showSearchAccessory(this.searchIcon);\n  }\n  showClearSearchButton() {\n    this.showSearchAccessory(this.clearSearchButton);\n  }\n  showSearchAccessory(e) {\n    w(this.ui.searchAccessory, e);\n  }\n  clear() {\n    this.searchField.value = \"\", this.showSearchIcon();\n  }\n  focus() {\n    this.searchField.focus();\n  }\n  onClearSearch(e) {\n    var t;\n    e.stopPropagation(), this.searchField.value = \"\", (t = this.resultsContainer) == null || t.destroy(), this.resultsContainer = null, this.showSearchIcon(), this.events.emit(\"content:show\"), this.searchField.focus();\n  }\n  handleResultsKeydown(e) {\n    this.resultsContainer && e.key === \"Escape\" && this.onClearSearch(e);\n  }\n  onKeyDown(e) {\n    var t;\n    e.key === \"Escape\" && this.searchField.value ? this.onClearSearch(e) : (e.key === \"Enter\" || e.key === \"ArrowDown\") && this.resultsContainer && (e.preventDefault(), (t = this.resultsContainer.el.querySelector('[tabindex=\"0\"]')) == null || t.focus());\n  }\n  onSearchInput(e) {\n    this.searchField.value ? (this.showClearSearchButton(), this.search()) : this.onClearSearch(e);\n  }\n  async search() {\n    var e;\n    if (this.searchField.value)\n      try {\n        const t = await this.emojiData.searchEmojis(\n          this.searchField.value,\n          this.customEmojis,\n          this.emojiVersion,\n          this.categories\n        );\n        if (this.events.emit(\"preview:hide\"), t.length) {\n          const s = new Ie();\n          this.resultsContainer = this.viewFactory.create($, {\n            emojis: t,\n            fullHeight: !0,\n            showVariants: !0,\n            lazyLoader: s\n          }), this.resultsContainer.renderSync(), (e = this.resultsContainer) != null && e.el && (s.observe(this.resultsContainer.el), this.resultsContainer.setActive(!0, { row: 0, offset: 0 }, !1), this.resultsContainer.el.addEventListener(\"keydown\", (i) => this.handleResultsKeydown(i)), this.events.emit(\"content:show\", this.resultsContainer));\n        } else\n          this.events.emit(\"content:show\", this.notFoundMessage);\n      } catch {\n        this.events.emit(\"content:show\", this.errorMessage);\n      }\n  }\n}\nconst co = new u(({ classes: o }) => (\n  /* html */\n  `\n  <div class=\"${o.variantOverlay}\">\n    <div class=\"${o.variantPopup}\">\n      <div data-view=\"emojis\" data-render=\"sync\"></div>\n    </div>\n  </div>\n`\n)), fe = p(\n  \"variantOverlay\",\n  \"variantPopup\"\n), W = {\n  easing: \"ease-in-out\",\n  duration: 250,\n  fill: \"both\"\n}, ve = {\n  opacity: [0, 1]\n}, we = {\n  opacity: [0, 1],\n  transform: [\"scale3d(0.8, 0.8, 0.8)\", \"scale3d(1, 1, 1)\"]\n};\nclass lo extends c {\n  constructor({ emoji: e, parent: t }) {\n    super({ template: co, classes: fe, parent: t }), this.focusedEmojiIndex = 0, this.focusTrap = new tt(), this.animateShow = () => Promise.all([\n      I(this.el, ve, W, this.options),\n      I(this.ui.popup, we, W, this.options)\n    ]), this.emoji = e;\n  }\n  initialize() {\n    this.uiElements = {\n      popup: c.byClass(fe.variantPopup)\n    }, this.uiEvents = [\n      c.uiEvent(\"click\", this.handleClick),\n      c.uiEvent(\"keydown\", this.handleKeydown)\n    ], super.initialize();\n  }\n  animateHide() {\n    const e = { ...W, direction: \"reverse\" };\n    return Promise.all([\n      I(this.el, ve, e, this.options),\n      I(this.ui.popup, we, e, this.options)\n    ]);\n  }\n  async hide() {\n    await this.animateHide(), this.events.emit(\"variantPopup:hide\");\n  }\n  handleKeydown(e) {\n    e.key === \"Escape\" && (this.hide(), e.stopPropagation());\n  }\n  handleClick(e) {\n    this.ui.popup.contains(e.target) || this.hide();\n  }\n  getEmoji(e) {\n    return this.renderedEmojis[e];\n  }\n  setFocusedEmoji(e) {\n    const t = this.getEmoji(this.focusedEmojiIndex);\n    t.tabIndex = -1, this.focusedEmojiIndex = e;\n    const s = this.getEmoji(this.focusedEmojiIndex);\n    s.tabIndex = 0, s.focus();\n  }\n  destroy() {\n    this.emojiContainer.destroy(), this.focusTrap.deactivate(), super.destroy();\n  }\n  renderSync() {\n    const e = {\n      ...this.emoji,\n      skins: null\n    }, t = (this.emoji.skins || []).map((i) => ({\n      ...i,\n      label: this.emoji.label,\n      tags: this.emoji.tags\n    })), s = [e, ...t];\n    return this.emojiContainer = this.viewFactory.create($, {\n      emojis: s,\n      preview: !1\n    }), super.renderSync({ emojis: this.emojiContainer }), s.length < this.options.emojisPerRow && this.el.style.setProperty(\"--emojis-per-row\", s.length.toString()), this.el;\n  }\n  activate() {\n    this.emojiContainer.setActive(!0, { row: 0, offset: 0 }, !0), this.focusTrap.activate(this.el);\n  }\n}\nconst ho = new u(({ classes: o, i18n: e, category: t, pickerId: s, icon: i }) => (\n  /* html */\n  `\n<li class=\"${o.categoryTab}\">\n  <button\n    aria-selected=\"false\"\n    role=\"tab\"\n    class=\"${o.categoryButton}\"\n    tabindex=\"-1\"\n    title=\"${e.get(`categories.${t.key}`, t.message || t.key)}\"\n    type=\"button\"\n    data-category=\"${t.key}\"\n    id=\"${s}-category-${t.key}\"\n  >\n    <i data-icon=\"${i}\"></i>\n</li>\n`\n)), J = p(\n  \"categoryTab\",\n  \"categoryTabActive\",\n  \"categoryButton\"\n);\nclass mo extends c {\n  constructor({ category: e, icon: t }) {\n    super({ template: ho, classes: J }), this.isActive = !1, this.category = e, this.icon = t;\n  }\n  initialize() {\n    this.uiElements = {\n      button: c.byClass(J.categoryButton)\n    }, this.uiEvents = [\n      c.childEvent(\"button\", \"click\", this.selectCategory),\n      c.childEvent(\"button\", \"focus\", this.selectCategory)\n    ], super.initialize();\n  }\n  renderSync() {\n    return super.renderSync({\n      category: this.category,\n      icon: this.icon\n    }), this.ui.button.ariaSelected = \"false\", this.el;\n  }\n  /**\n   * Sets the active state of the tab.\n   * \n   * @param isActive The new active state\n   * @param changeFocus Whether or not to change the active focusable element to the tab button\n   * @param scroll Whether or not to scroll to the new category\n   */\n  setActive(e, t = {}) {\n    const { changeFocusable: s, performFocus: i, scroll: r } = {\n      changeFocusable: !0,\n      performFocus: !0,\n      scroll: !0,\n      ...t\n    };\n    this.el.classList.toggle(J.categoryTabActive, e), s && (this.ui.button.tabIndex = e ? 0 : -1, this.ui.button.ariaSelected = e.toString()), e && i && (this.ui.button.focus(), r && this.events.emit(\"category:select\", this.category.key, { scroll: \"animate\", focus: \"button\", performFocus: !1 })), this.isActive = e;\n  }\n  selectCategory() {\n    this.isActive || this.events.emit(\"category:select\", this.category.key, { scroll: \"animate\", focus: \"button\", performFocus: !0 });\n  }\n}\nconst uo = new u(({ classes: o }) => (\n  /* html */\n  `\n  <div class=\"${o.categoryButtonsContainer}\">\n    <ul role=\"tablist\" class=\"${o.categoryButtons}\">\n      <div data-placeholder=\"tabs\"></div>\n    </ul>\n  </div>\n`\n)), po = p(\"categoryButtons\", \"categoryButtonsContainer\");\nclass go extends c {\n  constructor({ categories: e }) {\n    super({ template: uo, classes: po }), this.activeCategoryIndex = 0, this.categories = e;\n  }\n  initialize() {\n    this.keyBindings = {\n      ArrowLeft: this.stepSelectedTab(-1),\n      ArrowRight: this.stepSelectedTab(1)\n    }, this.uiEvents = [\n      c.uiEvent(\"scroll\", this.checkOverflow)\n    ], super.initialize();\n  }\n  checkOverflow() {\n    const e = Math.abs(this.el.scrollLeft - (this.el.scrollWidth - this.el.offsetWidth)) > 1, t = this.el.scrollLeft > 0;\n    this.el.className = \"categoryButtonsContainer\", t && e ? this.el.classList.add(\"has-overflow-both\") : t ? this.el.classList.add(\"has-overflow-left\") : e && this.el.classList.add(\"has-overflow-right\");\n  }\n  renderSync() {\n    return this.tabViews = this.categories.map((e) => this.viewFactory.create(mo, { category: e, icon: N[e.key] })), super.renderSync({\n      tabs: this.tabViews.map((e) => e.renderSync())\n    }), this.el;\n  }\n  get currentCategory() {\n    return this.categories[this.activeCategoryIndex];\n  }\n  get currentTabView() {\n    return this.tabViews[this.activeCategoryIndex];\n  }\n  setActiveTab(e, t = {}) {\n    this.checkOverflow();\n    const s = this.currentTabView, i = this.tabViews[e];\n    s.setActive(!1, t), i.setActive(!0, t), this.activeCategoryIndex = e;\n  }\n  getTargetCategory(e) {\n    return e < 0 ? this.categories.length - 1 : e >= this.categories.length ? 0 : e;\n  }\n  stepSelectedTab(e) {\n    return () => {\n      const t = this.activeCategoryIndex + e;\n      this.setActiveTab(this.getTargetCategory(t), {\n        changeFocusable: !0,\n        performFocus: !0\n      });\n    };\n  }\n}\nconst yo = [\n  { version: 15, emoji: String.fromCodePoint(129768) },\n  { version: 14, emoji: String.fromCodePoint(128733) },\n  { version: 13, emoji: String.fromCodePoint(129729) },\n  { version: 12, emoji: String.fromCodePoint(129449) },\n  { version: 11, emoji: String.fromCodePoint(129463) },\n  { version: 5, emoji: String.fromCodePoint(129322) },\n  { version: 4, emoji: String.fromCodePoint(9877) },\n  { version: 3, emoji: String.fromCodePoint(129314) },\n  { version: 2, emoji: String.fromCodePoint(128488) },\n  { version: 1, emoji: String.fromCodePoint(128512) }\n];\nfunction fo() {\n  const o = yo.find((e) => vo(e.emoji));\n  return (o == null ? void 0 : o.version) ?? 1;\n}\nfunction vo(o) {\n  const e = document.createElement(\"canvas\").getContext(\"2d\");\n  if (e)\n    return e.textBaseline = \"top\", e.font = \"32px Arial\", e.fillText(o, 0, 0), e.getImageData(16, 16, 1, 1).data[0] !== 0;\n}\nfunction Z(o, e) {\n  return Array.from({ length: o }, () => e).join(\"\");\n}\nfunction wo({ showHeader: o, classes: e }) {\n  return o ? (\n    /* html */\n    `\n    <header class=\"${e.header}\">\n      <div data-view=\"search\"></div>\n      <div data-view=\"categoryTabs\" data-render=\"sync\"></div>\n    </header>\n  `\n  ) : \"\";\n}\nfunction bo(o) {\n  const { classes: e, theme: t, className: s = \"\" } = o;\n  return (\n    /* html */\n    `\n    <div class=\"picmo__picker ${e.picker} ${t} ${s}\">\n      ${wo(o)}\n      <div class=\"${e.content}\">\n        <div data-view=\"emojiArea\"></div>\n      </div>\n      <div data-view=\"preview\"></div>\n    </div>\n  `\n  );\n}\nfunction Co(o) {\n  const { emojiCount: e, classes: t, theme: s, className: i, categoryCount: r } = o, a = ({ showSearch: m, classes: h }) => m ? (\n    /* html */\n    `\n    <div class=\"${h.searchSkeleton}\">\n      <div class=\"${h.searchInput} ${h.placeholder}\"></div>\n    </div>\n  `\n  ) : \"\", n = ({ showCategoryTabs: m, classes: h }) => m ? (\n    /* html */\n    `\n    <div class=\"${h.categoryTabsSkeleton}\">\n      ${Z(\n      r,\n      /* html */\n      `<div class=\"${h.placeholder} ${h.categoryTab}\"></div>`\n    )}\n    </div>\n  `\n  ) : \"\", l = ({ showHeader: m, classes: h }) => m ? (\n    /* html */\n    `\n    <header class=\"${h.headerSkeleton}\">\n      ${a(o)}\n      ${n(o)}\n    </header>\n  `\n  ) : \"\", d = ({ showPreview: m, classes: h }) => m ? (\n    /* html */\n    `\n    <div class=\"${h.previewSkeleton}\">\n      <div class=\"${h.placeholder} ${h.previewEmoji}\"></div>\n      <div class=\"${h.placeholder} ${h.previewName}\"></div>\n      <ul class=\"${h.tagList}\">\n        ${Z(\n      3,\n      /* html */\n      `<li class=\"${h.placeholder} ${h.tag}\"></li>`\n    )}\n      </ul>\n    </div>\n  `\n  ) : \"\";\n  return (\n    /* html */\n    `\n    <div class=\"picmo__picker ${t.skeleton} ${t.picker} ${s} ${i}\">\n      ${l(o)}\n      <div class=\"${t.contentSkeleton}\">\n        <div class=\"${t.placeholder} ${t.categoryName}\"></div>\n        <div class=\"${t.emojiGrid}\">\n          ${Z(\n      e,\n      /* html */\n      `<div class=\"${t.placeholder} ${t.emoji}\"></div>`\n    )}\n        </div>\n      </div>\n      ${d(o)}\n    </div>\n  `\n  );\n}\nconst jo = new u((o) => o.isLoaded ? bo(o) : Co(o)), T = p(\n  \"picker\",\n  \"skeleton\",\n  \"placeholder\",\n  \"searchSkeleton\",\n  \"searchInput\",\n  \"categoryTabsSkeleton\",\n  \"headerSkeleton\",\n  \"categoryTab\",\n  \"contentSkeleton\",\n  \"categoryName\",\n  \"emojiGrid\",\n  \"emoji\",\n  \"previewSkeleton\",\n  \"previewEmoji\",\n  \"previewName\",\n  \"tagList\",\n  \"tag\",\n  \"overlay\",\n  \"content\",\n  \"fullHeight\",\n  \"pluginContainer\",\n  \"header\"\n), R = {\n  emojisPerRow: \"--emojis-per-row\",\n  visibleRows: \"--row-count\",\n  emojiSize: \"--emoji-size\"\n};\nclass _o extends c {\n  constructor() {\n    super({ template: jo, classes: T }), this.pickerReady = !1, this.externalEvents = new It(), this.updaters = {\n      styleProperty: (e) => (t) => this.el.style.setProperty(R[e], t.toString()),\n      theme: (e) => {\n        const t = this.options.theme, s = this.el.closest(`.${t}`);\n        this.el.classList.remove(t), s == null || s.classList.remove(t), this.el.classList.add(e), s == null || s.classList.add(e);\n      },\n      className: (e) => {\n        this.options.className && this.el.classList.remove(this.options.className), this.el.classList.add(e);\n      },\n      emojisPerRow: this.updateStyleProperty.bind(this, \"emojisPerRow\"),\n      emojiSize: this.updateStyleProperty.bind(this, \"emojiSize\"),\n      visibleRows: this.updateStyleProperty.bind(this, \"visibleRows\")\n    };\n  }\n  initialize() {\n    this.uiElements = {\n      pickerContent: c.byClass(T.content),\n      header: c.byClass(T.header)\n    }, this.uiEvents = [\n      c.uiEvent(\"keydown\", this.handleKeyDown)\n    ], this.appEvents = {\n      error: this.onError,\n      reinitialize: this.reinitialize,\n      \"data:ready\": this.onDataReady,\n      \"content:show\": this.showContent,\n      \"variantPopup:hide\": this.hideVariantPopup,\n      \"emoji:select\": this.selectEmoji\n    }, super.initialize(), this.options.recentsProvider;\n  }\n  /**\n   * Destroys the picker when it is no longer needed.\n   * After calling this method, the picker will no longer be usable.\n   *\n   * @returns a Promise that resolves when the destroy is complete.\n   */\n  destroy() {\n    var e, t;\n    super.destroy(), (e = this.search) == null || e.destroy(), this.emojiArea.destroy(), (t = this.categoryTabs) == null || t.destroy(), this.events.removeAll(), this.externalEvents.removeAll();\n  }\n  /**\n   * Convenience method to clear the recents using the configured recents provider.\n   */\n  clearRecents() {\n    this.options.recentsProvider.clear();\n  }\n  /**\n   * Listens for a picker event.\n   *\n   * @param event The event to listen for\n   * @param callback The callback to call when the event is triggered\n   */\n  addEventListener(e, t) {\n    this.externalEvents.on(e, t);\n  }\n  /**\n   * Removes a recent emoji from the picker.\n   *\n   * @param event The event to stop listening for\n   * @param callback The previously bound event listener\n   */\n  removeEventListener(e, t) {\n    this.externalEvents.off(e, t);\n  }\n  /**\n   * Finishes setting up the picker view once the data is ready.\n   * This will only be called if the emoji data is available and all\n   * emoji picker views have been rendered.\n   *\n   * This is the last thing to happen before the emoji picker UI becomes visible.\n   */\n  initializePickerView() {\n    this.pickerReady && (this.showContent(), this.emojiArea.reset(!1));\n  }\n  handleKeyDown(e) {\n    const t = e.ctrlKey || e.metaKey;\n    e.key === \"s\" && t && this.search && (e.preventDefault(), this.search.focus());\n  }\n  /**\n   * Builds the three sections of the picker:\n   *\n   * - preview area (if enabled in options)\n   * - search area (if enabled in options)\n   * - emoji area (always shown)\n   *\n   * @returns an array containing the three child views. The preview and search\n   *          views are optional, and will be undefined if they are not enabled.\n   */\n  buildChildViews() {\n    return this.options.showPreview && (this.preview = this.viewFactory.create(io)), this.options.showSearch && (this.search = this.viewFactory.create(no, {\n      categories: this.categories,\n      emojiVersion: this.emojiVersion\n    })), this.options.showCategoryTabs && (this.categoryTabs = this.viewFactory.create(go, {\n      categories: this.categories\n    })), this.currentView = this.emojiArea = this.viewFactory.create(Yt, {\n      categoryTabs: this.categoryTabs,\n      categories: this.categories,\n      emojiVersion: this.emojiVersion\n    }), [this.preview, this.search, this.emojiArea, this.categoryTabs];\n  }\n  /**\n   * Sets any CSS variables corresponding to options that were set.\n   */\n  setStyleProperties() {\n    this.options.showSearch || this.el.style.setProperty(\"--search-height-full\", \"0px\"), this.options.showCategoryTabs || (this.el.style.setProperty(\"--category-tabs-height\", \"0px\"), this.el.style.setProperty(\"--category-tabs-offset\", \"0px\")), this.options.showPreview || this.el.style.setProperty(\"--emoji-preview-height-full\", \"0px\"), Object.keys(R).forEach((e) => {\n      this.options[e] && this.el.style.setProperty(R[e], this.options[e].toString());\n    });\n  }\n  updateStyleProperty(e, t) {\n    this.el.style.setProperty(R[e], t.toString());\n  }\n  reinitialize() {\n    this.renderSync();\n  }\n  onError(e) {\n    const t = this.viewFactory.create(to, { message: this.i18n.get(\"error.load\") }), s = this.el.offsetHeight || 375;\n    throw this.el.style.height = `${s}px`, w(this.el, t.renderSync()), e;\n  }\n  /**\n   * Called when the emoji database is ready to be used.\n   *\n   * This will replace the loader placeholder with the full picker UI.\n   */\n  async onDataReady(e) {\n    const t = this.el;\n    try {\n      e ? this.emojiData = e : await this.emojiDataPromise, this.options.emojiVersion === \"auto\" ? this.emojiVersion = fo() || parseFloat(Re) : this.emojiVersion = this.options.emojiVersion, this.categories = await this.emojiData.getCategories(this.options);\n      const [s, i, r, a] = this.buildChildViews();\n      await super.render({\n        isLoaded: !0,\n        search: i,\n        categoryTabs: a,\n        emojiArea: r,\n        preview: s,\n        showHeader: Boolean(this.search || this.categoryTabs),\n        theme: this.options.theme,\n        className: this.options.className\n      }), this.el.style.setProperty(\"--category-count\", this.categories.length.toString()), this.pickerReady = !0, t.replaceWith(this.el), this.setStyleProperties(), this.initializePickerView(), this.setInitialFocus(), this.externalEvents.emit(\"data:ready\");\n    } catch (s) {\n      this.events.emit(\"error\", s);\n    }\n  }\n  /**\n   * Renders the picker.\n   *\n   * @returns the root element of the picker\n   */\n  renderSync() {\n    var t;\n    let e = ((t = this.options.categories) == null ? void 0 : t.length) || 10;\n    if (this.options.showRecents && (e += 1), super.renderSync({\n      isLoaded: !1,\n      theme: this.options.theme,\n      showSearch: this.options.showSearch,\n      showPreview: this.options.showPreview,\n      showCategoryTabs: this.options.showCategoryTabs,\n      showHeader: this.options.showSearch || this.options.showCategoryTabs,\n      emojiCount: this.options.emojisPerRow * this.options.visibleRows,\n      categoryCount: e\n    }), this.el.style.setProperty(\"--category-count\", e.toString()), !this.options.rootElement)\n      throw new Error(\"Picker must be given a root element via the rootElement option\");\n    return w(this.options.rootElement, this.el), this.setStyleProperties(), this.pickerReady && this.initializePickerView(), this.el;\n  }\n  /**\n   * Determines what element, if any, should be automatically focused when the picker is rendered.\n   * \n   * @returns the focus target, or `null` if nothing should be focused\n   */\n  getInitialFocusTarget() {\n    if (typeof this.options.autoFocus < \"u\")\n      switch (this.options.autoFocus) {\n        case \"emojis\":\n          return this.emojiArea.focusableEmoji;\n        case \"search\":\n          return this.search;\n        case \"auto\":\n          return this.search || this.emojiArea.focusableEmoji;\n        default:\n          return null;\n      }\n    if (this.options.autoFocusSearch === !0)\n      return console.warn(\"options.autoFocusSearch is deprecated, please use options.focusTarget instead\"), this.search;\n  }\n  /**\n   * Sets the initial autofocus, depending on options.\n   */\n  setInitialFocus() {\n    var e;\n    this.pickerReady && ((e = this.getInitialFocusTarget()) == null || e.focus());\n  }\n  /**\n   * Resets the picker to its default, \"inactive\" state.\n   */\n  reset(e = !0) {\n    var t;\n    this.pickerReady && (this.emojiArea.reset(e), this.showContent(this.emojiArea)), (t = this.search) == null || t.clear(), this.hideVariantPopup();\n  }\n  /**\n   * Shows content in the main picker content area.\n   * If no View is specified, the built-in emoji area will be shown.\n   *\n   * The currently shown view will be removed from the DOM and destroyed.\n   *\n   * @param content The View to show\n   */\n  showContent(e = this.emojiArea) {\n    var t, s;\n    e !== this.currentView && (this.currentView !== this.emojiArea && ((t = this.currentView) == null || t.destroy()), this.ui.pickerContent.classList.toggle(T.fullHeight, e !== this.emojiArea), w(this.ui.pickerContent, e.el), this.currentView = e, e === this.emojiArea ? (this.emojiArea.reset(), this.categoryTabs && this.ui.header.appendChild(this.categoryTabs.el)) : (s = this.categoryTabs) == null || s.el.remove());\n  }\n  /**\n   * Closes and destroys the variant popup.\n   */\n  hideVariantPopup() {\n    var e;\n    (e = this.variantPopup) == null || e.destroy();\n  }\n  /**\n   * Given a mouse event, determines if the event occurred on the picker or one of its components.\n   *\n   * @param event The mouse event\n   * @returns true if the click should be treated as on the picker, false otherwise\n   */\n  isPickerClick(e) {\n    var r, a;\n    const t = e.target, s = this.el.contains(t), i = (a = (r = this.variantPopup) == null ? void 0 : r.el) == null ? void 0 : a.contains(t);\n    return s || i;\n  }\n  /**\n   * Handles a click on an emoji.\n   * @param emoji The emoji that was clicked\n   * @returns a Promise that resolves when either the variant popup is shown or the emoji is rendered and emitted\n   */\n  async selectEmoji({ emoji: e }) {\n    var t, s;\n    (t = e.skins) != null && t.length && this.options.showVariants && !this.isVariantPopupOpen ? this.showVariantPopup(e) : (await ((s = this.variantPopup) == null ? void 0 : s.animateHide()), this.events.emit(\"variantPopup:hide\"), await this.emitEmoji(e));\n  }\n  get isVariantPopupOpen() {\n    return this.variantPopup && !this.variantPopup.isDestroyed;\n  }\n  /**\n   * Shows the variant popup for an emoji.\n   *\n   * @param emoji The emoji whose variants are to be shown.\n   * @returns a Promise that resolves when the popup is shown\n   */\n  async showVariantPopup(e) {\n    const t = document.activeElement;\n    this.events.once(\"variantPopup:hide\", () => {\n      t == null || t.focus();\n    }), this.variantPopup = this.viewFactory.create(lo, { emoji: e, parent: this.el }), this.el.appendChild(this.variantPopup.renderSync()), this.variantPopup.activate();\n  }\n  /**\n   * Renders an emoji, and emits a public emoji:select event with the rendered result.\n   * @param emoji the emoji that was selected.\n   */\n  async emitEmoji(e) {\n    this.externalEvents.emit(\"emoji:select\", await this.renderer.doEmit(e)), this.options.recentsProvider.addOrUpdateRecent(e, this.options.maxRecents), this.events.emit(\"recent:add\", e);\n  }\n  updateOptions(e) {\n    Object.keys(e).forEach((t) => {\n      this.updaters[t](e[t]);\n    }), Object.assign(this.options, e);\n  }\n}\nclass ko {\n  constructor({ events: e, i18n: t, renderer: s, emojiData: i, options: r, customEmojis: a = [], pickerId: n }) {\n    this.events = e, this.i18n = t, this.renderer = s, this.emojiData = i, this.options = r, this.customEmojis = a, this.pickerId = n;\n  }\n  setEmojiData(e) {\n    this.emojiData = Promise.resolve(e);\n  }\n  create(e, ...t) {\n    const s = new e(...t);\n    return s.setPickerId(this.pickerId), s.setEvents(this.events), s.setI18n(this.i18n), s.setRenderer(this.renderer), s.setEmojiData(this.emojiData), s.setOptions(this.options), s.setCustomEmojis(this.customEmojis), s.viewFactory = this, s.initialize(), s;\n  }\n}\nvar L;\nclass Eo {\n  constructor(e = {}) {\n    f(this, L, void 0);\n    A(this, L, new Map(Object.entries(e)));\n  }\n  get(e, t = e) {\n    return y(this, L).get(e) || t;\n  }\n}\nL = new WeakMap();\nfunction xo(o, e) {\n  e === void 0 && (e = {});\n  var t = e.insertAt;\n  if (!(!o || typeof document > \"u\")) {\n    var s = document.head || document.getElementsByTagName(\"head\")[0], i = document.createElement(\"style\");\n    i.type = \"text/css\", t === \"top\" && s.firstChild ? s.insertBefore(i, s.firstChild) : s.appendChild(i), i.styleSheet ? i.styleSheet.cssText = o : i.appendChild(document.createTextNode(o));\n  }\n}\nfunction So() {\n  let o = !1;\n  return function(t) {\n    $t.injectStyles && !o && (xo(t), o = !0);\n  };\n}\nconst Po = `.picmo__picker .picmo__icon{width:1.25em;height:1em;fill:currentColor}.picmo__icon-small{font-size:.8em}.picmo__icon-medium{font-size:1em}.picmo__icon-large{font-size:1.25em}.picmo__icon-2x{font-size:2em}.picmo__icon-3x{font-size:3em}.picmo__icon-4x{font-size:4em}.picmo__icon-5x{font-size:5em}.picmo__icon-8x{font-size:8em}.picmo__icon-10x{font-size:10em}.picmo__light,.picmo__auto{color-scheme:light;--accent-color: #4f46e5;--background-color: #f9fafb;--border-color: #cccccc;--category-name-background-color: #f9fafb;--category-name-button-color: #999999;--category-name-text-color: hsl(214, 30%, 50%);--category-tab-active-background-color: rgba(255, 255, 255, .6);--category-tab-active-color: var(--accent-color);--category-tab-color: #666;--category-tab-highlight-background-color: rgba(0, 0, 0, .15);--error-color-dark: hsl(0, 100%, 45%);--error-color: hsl(0, 100%, 40%);--focus-indicator-background-color: hsl(198, 65%, 85%);--focus-indicator-color: #333333;--hover-background-color: #c7d2fe;--placeholder-background-color: #cccccc;--search-background-color: #f9fafb;--search-focus-background-color: #ffffff;--search-icon-color: #999999;--search-placeholder-color: #71717a;--secondary-background-color: #e2e8f0;--secondary-text-color: #666666;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #000000;--variant-popup-background-color: #ffffff}.picmo__dark{color-scheme:dark;--accent-color: #A580F9;--background-color: #333333;--border-color: #666666;--category-name-background-color: #333333;--category-name-button-color: #eeeeee;--category-name-text-color: #ffffff;--category-tab-active-background-color: #000000;--category-tab-active-color: var(--accent-color);--category-tab-color: #cccccc;--category-tab-highlight-background-color: #4A4A4A;--error-color-dark: hsl(0, 7%, 3%);--error-color: hsl(0, 30%, 60%);--focus-indicator-background-color: hsl(0, 0%, 50%);--focus-indicator-color: #999999;--hover-background-color: hsla(0, 0%, 40%, .85);--image-placeholder-color: #ffffff;--placeholder-background-color: #666666;--search-background-color: #71717a;--search-focus-background-color: #52525b;--search-icon-color: #cccccc;--search-placeholder-color: #d4d4d8;--secondary-background-color: #000000;--secondary-text-color: #999999;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #ffffff;--variant-popup-background-color: #333333}@media (prefers-color-scheme: dark){.picmo__auto{color-scheme:dark;--accent-color: #A580F9;--background-color: #333333;--border-color: #666666;--category-name-background-color: #333333;--category-name-button-color: #eeeeee;--category-name-text-color: #ffffff;--category-tab-active-background-color: #000000;--category-tab-active-color: var(--accent-color);--category-tab-color: #cccccc;--category-tab-highlight-background-color: #4A4A4A;--error-color-dark: hsl(0, 7%, 3%);--error-color: hsl(0, 30%, 60%);--focus-indicator-background-color: hsl(0, 0%, 50%);--focus-indicator-color: #999999;--hover-background-color: hsla(0, 0%, 40%, .85);--image-placeholder-color: #ffffff;--placeholder-background-color: #666666;--search-background-color: #71717a;--search-focus-background-color: #52525b;--search-icon-color: #cccccc;--search-placeholder-color: #d4d4d8;--secondary-background-color: #000000;--secondary-text-color: #999999;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #ffffff;--variant-popup-background-color: #333333}}.picmo__picker .picmo__categoryButtonsContainer{overflow:auto;padding:2px 0}.picmo__picker .picmo__categoryButtonsContainer.picmo__has-overflow-right{mask-image:linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%);-webkit-mask-image:linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%)}.picmo__picker .picmo__categoryButtonsContainer.picmo__has-overflow-left{mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%);-webkit-mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%)}.picmo__picker .picmo__categoryButtonsContainer.picmo__has-overflow-both{mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%,rgba(255,255,255,1) 90%,rgba(255,255,255,0) 100%);-webkit-mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%,rgba(255,255,255,1) 90%,rgba(255,255,255,0) 100%)}.picmo__picker .picmo__categoryButtons{display:flex;flex-direction:row;gap:var(--tab-gap);margin:0;padding:0 .5em;align-items:center;height:var(--category-tabs-height);box-sizing:border-box;width:100%;justify-content:space-between;position:relative;list-style-type:none;justify-self:center;max-width:min(23.55rem,calc(var(--category-count, 1) * 2.5rem))}.picmo__picker .picmo__categoryButtons .picmo__categoryTab{display:flex;align-items:center;transition:all .1s;width:2em}.picmo__picker .picmo__categoryButtons .picmo__categoryTab.picmo__categoryTabActive .picmo__categoryButton{color:var(--category-tab-active-color);background:linear-gradient(rgba(255,255,255,.75) 0%,rgba(255,255,255,.75) 100%),linear-gradient(var(--category-tab-active-color) 0%,var(--category-tab-active-color) 100%);border:2px solid var(--category-tab-active-color)}.picmo__picker .picmo__categoryButtons .picmo__categoryTab.picmo__categoryTabActive .picmo__categoryButton:hover{background-color:var(--category-tab-active-background-color)}.picmo__picker .picmo__categoryButtons .picmo__categoryTab button.picmo__categoryButton{border-radius:5px;background:transparent;border:2px solid transparent;color:var(--category-tab-color);cursor:pointer;padding:2px;vertical-align:middle;display:flex;align-items:center;justify-content:center;font-size:1.2rem;width:1.6em;height:1.6em;transition:all .1s}.picmo__picker .picmo__categoryButtons .picmo__categoryTab button.picmo__categoryButton:is(img){width:var(--category-tab-size);height:var(--category-tab-size)}.picmo__picker .picmo__categoryButtons .picmo__categoryTab button.picmo__categoryButton:hover{background:var(--category-tab-highlight-background-color)}.picmo__dataError [data-icon]{opacity:.8}@keyframes appear{0%{opacity:0}to{opacity:.8}}@keyframes appear-grow{0%{opacity:0;transform:scale(.8)}to{opacity:.8;transform:scale(1)}}.picmo__picker .picmo__error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--secondary-text-color)}.picmo__picker .picmo__error .picmo__iconContainer{opacity:.8;animation:appear-grow .25s cubic-bezier(.175,.885,.32,1.275);--color-primary: var(--error-color);--color-secondary: var(--error-color-dark)}.picmo__picker .picmo__error .picmo__title{animation:appear .25s;animation-delay:50ms;animation-fill-mode:both}.picmo__picker .picmo__error button{padding:8px 16px;cursor:pointer;background:var(--background-color);border:1px solid var(--text-color);border-radius:5px;color:var(--text-color)}.picmo__picker .picmo__error button:hover{background:var(--text-color);color:var(--background-color)}.picmo__emojiButton{background:transparent;border:none;border-radius:15px;cursor:pointer;display:flex;font-family:var(--emoji-font);font-size:var(--emoji-size);height:100%;justify-content:center;align-items:center;margin:0;overflow:hidden;padding:0;width:100%}.picmo__emojiButton:hover{background:var(--hover-background-color)}.picmo__emojiButton:focus{border-radius:0;background:var(--focus-indicator-background-color);outline:1px solid var(--focus-indicator-color)}.picmo__picker .picmo__emojiArea{height:var(--emoji-area-height);overflow-y:auto;position:relative}.picmo__picker .picmo__emojiCategory{position:relative}.picmo__picker .picmo__emojiCategory .picmo__categoryName{font-size:.9em;padding:.5rem;margin:0;background:var(--category-name-background-color);color:var(--category-name-text-color);top:0;z-index:1;display:grid;gap:4px;grid-template-columns:auto 1fr auto;align-items:center;line-height:1;box-sizing:border-box;height:var(--category-name-height);justify-content:flex-start;text-transform:uppercase}.picmo__picker .picmo__emojiCategory .picmo__categoryName button{background:transparent;border:none;display:flex;align-items:center;cursor:pointer;color:var(--category-name-button-color)}.picmo__picker .picmo__emojiCategory .picmo__categoryName button:hover{opacity:1}.picmo__picker .picmo__emojiCategory .picmo__noRecents{color:var(--secondary-text-color);grid-column:1 / span var(--emojis-per-row);font-size:.9em;text-align:center;display:flex;align-items:center;justify-content:center;min-height:calc(var(--emoji-size) * var(--emoji-size-multiplier))}.picmo__picker .picmo__emojiCategory .picmo__recentEmojis[data-empty=true]{display:none}:is(.picmo__picker .picmo__emojiCategory) .picmo__recentEmojis[data-empty=false]+div{display:none}.picmo__picker .picmo__emojiContainer{display:grid;justify-content:space-between;gap:1px;padding:0 .5em;grid-template-columns:repeat(var(--emojis-per-row),calc(var(--emoji-size) * var(--emoji-size-multiplier)));grid-auto-rows:calc(var(--emoji-size) * var(--emoji-size-multiplier));align-items:center;justify-items:center}.picmo__picker.picmo__picker{--border-radius: 5px;--emoji-area-height: calc( (var(--row-count) * var(--emoji-size) * var(--emoji-size-multiplier)) + var(--category-name-height) );--content-height: var(--emoji-area-height);--emojis-per-row: 8;--row-count: 6;--emoji-preview-margin: 4px;--emoji-preview-height: calc(var(--emoji-preview-size) + 1em + 1px);--emoji-preview-height-full: calc(var(--emoji-preview-height) + var(--emoji-preview-margin));--emoji-preview-size: 2.75em;--emoji-size: 2rem;--emoji-size-multiplier: 1.3;--content-margin: 8px;--category-tabs-height:calc(1.5em + 9px);--category-tabs-offset: 8px;--category-tab-size: 1.2rem;--category-name-height: 2rem;--category-name-padding-y: 6px;--search-height: 2em;--search-margin: .5em;--search-margin-bottom: 4px;--search-height-full: calc(var(--search-height) + var(--search-margin) + var(--search-margin-bottom));--overlay-background-color: rgba(0, 0, 0, .8);--emoji-font: \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Segoe UI\", \"Apple Color Emoji\", \"Twemoji Mozilla\", \"Noto Color Emoji\", \"EmojiOne Color\", \"Android Emoji\";--ui-font: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", sans-serif;--ui-font-size: 16px;--picker-width: calc(var(--emojis-per-row) * var(--emoji-size) * var(--emoji-size-multiplier) + 2.75rem);--preview-background-color: var(--secondary-background-color);background:var(--background-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-family:var(--ui-font);font-size:var(--ui-font-size);overflow:hidden;position:relative;width:var(--picker-width);display:grid;gap:8px}.picmo__picker.picmo__picker>*{font-family:var(--ui-font)}.picmo__picker.picmo__skeleton{background:var(--background-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-family:var(--ui-font);width:var(--picker-width);color:var(--secondary-text-color)}.picmo__picker.picmo__skeleton *{box-sizing:border-box}.picmo__picker.picmo__skeleton .picmo__placeholder{background:var(--placeholder-background-color);position:relative;overflow:hidden}.picmo__picker.picmo__skeleton .picmo__placeholder:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0) 100%);animation:shine 2s infinite;content:\"\"}.picmo__picker.picmo__skeleton .picmo__headerSkeleton{background-color:var(--secondary-background-color);padding-top:8px;padding-bottom:8px;display:flex;flex-direction:column;overflow:hidden;gap:8px;border-bottom:1px solid var(--border-color);width:var(--picker-width)}.picmo__picker.picmo__skeleton .picmo__searchSkeleton{padding:0 8px;height:var(--search-height)}.picmo__picker.picmo__skeleton .picmo__searchSkeleton .picmo__searchInput{width:100%;height:28px;border-radius:3px}.picmo__picker.picmo__skeleton .picmo__categoryTabsSkeleton{height:var(--category-tabs-height);display:flex;flex-direction:row;align-items:center;justify-self:center;width:calc(2rem * var(--category-count, 1))}.picmo__picker.picmo__skeleton .picmo__categoryTabsSkeleton .picmo__categoryTab{width:25px;height:25px;padding:2px;border-radius:5px;margin:.25em}.picmo__picker.picmo__skeleton .picmo__contentSkeleton{height:var(--content-height);padding-right:8px;opacity:.7}.picmo__picker.picmo__skeleton .picmo__contentSkeleton .picmo__categoryName{width:50%;height:1rem;margin:.5rem;box-sizing:border-box}.picmo__picker.picmo__skeleton .picmo__contentSkeleton .picmo__emojiGrid{display:grid;justify-content:space-between;gap:1px;padding:0 .5em;grid-template-columns:repeat(var(--emojis-per-row),calc(var(--emoji-size) * var(--emoji-size-multiplier)));grid-auto-rows:calc(var(--emoji-size) * var(--emoji-size-multiplier));align-items:center;justify-items:center;width:var(--picker-width)}.picmo__picker.picmo__skeleton .picmo__contentSkeleton .picmo__emojiGrid .picmo__emoji{width:var(--emoji-size);height:var(--emoji-size);border-radius:50%}.picmo__picker.picmo__skeleton .picmo__previewSkeleton{height:var(--emoji-preview-height);border-top:1px solid var(--border-color);display:grid;align-items:center;padding:.5em;gap:6px;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;grid-template-areas:\"emoji name\" \"emoji tags\"}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__previewEmoji{grid-area:emoji;border-radius:50%;width:var(--emoji-preview-size);height:var(--emoji-preview-size)}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__previewName{grid-area:name;height:.8em;width:80%}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__tagList{grid-area:tags;list-style-type:none;display:flex;flex-direction:row;padding:0;margin:0}.picmo__picker.picmo__skeleton .picmo__previewSkeleton .picmo__tagList .picmo__tag{border-radius:3px;padding:2px 8px;margin-right:.25em;height:1em;width:20%}.picmo__overlay{background:rgba(0,0,0,.75);height:100%;left:0;position:fixed;top:0;width:100%;z-index:1000}.picmo__content{position:relative;overflow:hidden;height:var(--content-height)}.picmo__content.picmo__fullHeight{height:calc(var(--content-height) + var(--category-tabs-height) + var(--category-tabs-offset));overflow-y:auto}.picmo__pluginContainer{margin:.5em;display:flex;flex-direction:row}.picmo__header{background-color:var(--secondary-background-color);padding-top:8px;padding-bottom:8px;display:grid;gap:8px;border-bottom:1px solid var(--border-color)}@media (prefers-reduced-motion: reduce){.picmo__placeholder{background:var(--placeholder-background-color);position:relative;overflow:hidden}.picmo__placeholder:after{display:none}}.picmo__picker .picmo__preview{border-top:1px solid var(--border-color);display:grid;align-items:center;gap:6px;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;grid-template-areas:\"emoji name\" \"emoji tags\";height:var(--emoji-preview-height);box-sizing:border-box;padding:.5em;position:relative;background:var(--preview-background-color)}.picmo__picker .picmo__preview .picmo__previewEmoji{grid-area:emoji;font-size:var(--emoji-preview-size);font-family:var(--emoji-font);width:1.25em;display:flex;align-items:center;justify-content:center}.picmo__picker .picmo__preview .picmo__previewName{grid-area:name;color:var(--text-color);font-size:.8em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}.picmo__picker .picmo__preview .picmo__tagList{grid-area:tags;list-style-type:none;display:flex;flex-direction:row;padding:0;margin:0;font-size:.75em;overflow:hidden}.picmo__picker .picmo__preview .picmo__tag{border-radius:3px;background:var(--tag-background-color);color:var(--text-color);padding:2px 8px;margin-right:.25em;white-space:nowrap}.picmo__picker .picmo__preview .picmo__tag:last-child{margin-right:0}.picmo__picker .picmo__searchContainer{display:flex;height:var(--search-height);box-sizing:border-box;padding:0 8px;position:relative}.picmo__picker .picmo__searchContainer .picmo__searchField{background:var(--search-background-color);border-radius:3px;border:none;box-sizing:border-box;color:var(--text-color);font-size:.9em;outline:none;padding:.5em 2.25em .5em .5em;width:100%}.picmo__picker .picmo__searchContainer .picmo__searchField:focus{background:var(--search-focus-background-color)}.picmo__picker .picmo__searchContainer .picmo__searchField::placeholder{color:var(--search-placeholder-color)}.picmo__picker .picmo__searchContainer .picmo__searchAccessory{color:var(--search-icon-color);height:100%;position:absolute;right:1em;top:0;width:1.25rem;display:flex;align-items:center}.picmo__picker .picmo__searchContainer .picmo__searchAccessory svg{fill:var(--search-icon-color)}.picmo__picker .picmo__searchContainer .picmo__clearButton{border:0;color:var(--search-icon-color);background:transparent;cursor:pointer}.picmo__picker .picmo__searchContainer .picmo__clearSearchButton{cursor:pointer;border:none;background:transparent;color:var(--search-icon-color);font-size:1em;width:100%;height:100%;display:flex;align-items:center;padding:0}.picmo__picker .picmo__searchContainer .picmo__notFound [data-icon]{fill:#f3e265}.picmo__picker .picmo__variantOverlay{background:var(--overlay-background-color);border-radius:5px;display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:1}.picmo__picker .picmo__variantOverlay .picmo__variantPopup{background:var(--variant-popup-background-color);border-radius:5px;margin:.5em;padding:.5em;text-align:center;user-select:none;display:flex;align-items:center;justify-content:center}.picmo__customEmoji{width:1em;height:1em}@keyframes shine{to{transform:translate(100%)}}.picmo__picker .picmo__imagePlaceholder{width:2rem;height:2rem;border-radius:50%}.picmo__placeholder{background:#DDDBDD;position:relative}.picmo__placeholder:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0) 100%);animation:shine 2s infinite;content:\"\"}\n`;\nfunction zo(o) {\n  return ne(o.locale, o.dataStore, o.messages, o.emojiData);\n}\nlet Fo = 0;\nfunction Lo() {\n  return `picmo-${Date.now()}-${Fo++}`;\n}\nconst $o = So();\nfunction Ho(o) {\n  $o(Po);\n  const e = Lt(o), t = ((e == null ? void 0 : e.custom) || []).map((l) => ({\n    ...l,\n    custom: !0,\n    tags: [\"custom\", ...l.tags || []]\n  })), s = new At(), i = zo(e), r = new Eo(e.i18n);\n  i.then((l) => {\n    s.emit(\"data:ready\", l);\n  }).catch((l) => {\n    s.emit(\"error\", l);\n  });\n  const n = new ko({\n    events: s,\n    i18n: r,\n    customEmojis: t,\n    renderer: e.renderer,\n    options: e,\n    emojiData: i,\n    pickerId: Lo()\n  }).create(_o);\n  return n.renderSync(), n;\n}\nconst Ao = {\n  \"categories.activities\": \"Aktivitäten\",\n  \"categories.animals-nature\": \"Tiere & Natur\",\n  \"categories.custom\": \"Benutzerdefiniert\",\n  \"categories.flags\": \"Flaggen\",\n  \"categories.food-drink\": \"Essen & Trinken\",\n  \"categories.objects\": \"Gegenstände\",\n  \"categories.people-body\": \"Mensch & Körper\",\n  \"categories.recents\": \"Zuletzt genutzt\",\n  \"categories.smileys-emotion\": \"Smileys & Emotionen\",\n  \"categories.symbols\": \"Symbole\",\n  \"categories.travel-places\": \"Reisen & Orte\",\n  \"error.load\": \"Emojis wurden nicht geladen\",\n  \"recents.clear\": \"Zuletzt genutzte Emojis löschen\",\n  \"recents.none\": \"Kein Emoji ausgewählt.\",\n  retry: \"Erneut versuchen\",\n  \"search.clear\": \"Suche löschen\",\n  \"search.error\": \"Suche erfolglos\",\n  \"search.notFound\": \"Kein Emoji gefunden\",\n  search: \"Emojis durchsuchen ...\"\n}, Io = {\n  \"categories.activities\": \"Aktiviteetit\",\n  \"categories.animals-nature\": \"Eläimet & luonto\",\n  \"categories.custom\": \"Mukautettu\",\n  \"categories.flags\": \"Liput\",\n  \"categories.food-drink\": \"Ruoka & juoma\",\n  \"categories.objects\": \"Esineet\",\n  \"categories.people-body\": \"Ihmiset & keho\",\n  \"categories.recents\": \"Viimeksi käytetty\",\n  \"categories.smileys-emotion\": \"Hymiöt & tunne\",\n  \"categories.symbols\": \"Symbolit\",\n  \"categories.travel-places\": \"Matkustus & paikat\",\n  \"error.load\": \"Emojien lataaminen epäonnistui\",\n  \"recents.clear\": \"Tyhjennä viimeksi käytetyt emojit\",\n  \"recents.none\": \"Et ole valinnut vielä emojia.\",\n  retry: \"Kokeile uudestaan\",\n  \"search.clear\": \"Tyhjennä haku\",\n  \"search.error\": \"Emojien etsiminen epäonnistui\",\n  \"search.notFound\": \"Emojia ei löytynyt\",\n  search: \"Etsi emojia...\"\n}, To = {\n  \"categories.activities\": \"Activités\",\n  \"categories.animals-nature\": \"Animaux et nature\",\n  \"categories.custom\": \"Personnalisé\",\n  \"categories.flags\": \"Drapeaux\",\n  \"categories.food-drink\": \"Nourriture et boissons\",\n  \"categories.objects\": \"Objets\",\n  \"categories.people-body\": \"Personnes et corps\",\n  \"categories.recents\": \"Récemment utilisé\",\n  \"categories.smileys-emotion\": \"Visages et émotions\",\n  \"categories.symbols\": \"Symboles\",\n  \"categories.travel-places\": \"Voyages et lieux\",\n  \"error.load\": \"Échec du chargement des émojis\",\n  \"recents.clear\": \"Effacez les émojis récents\",\n  \"recents.none\": \"Vous n'avez pas encore sélectionné d'émojis.\",\n  retry: \"Essayez à nouveau\",\n  \"search.clear\": \"Effacer la recherche\",\n  \"search.error\": \"Échec de la recherche d'émojis\",\n  \"search.notFound\": \"Aucun émoji trouvé\",\n  search: \"Rechercher des émojis...\"\n}, Ro = {\n  \"categories.activities\": \"Activiteiten\",\n  \"categories.animals-nature\": \"Dieren & Natuur\",\n  \"categories.custom\": \"Aangepast\",\n  \"categories.flags\": \"Vlaggen\",\n  \"categories.food-drink\": \"Eten & Drinken\",\n  \"categories.objects\": \"Voorwerpen\",\n  \"categories.people-body\": \"Mens & Lichaam\",\n  \"categories.recents\": \"Laatst gebruikt\",\n  \"categories.smileys-emotion\": \"Smileys en emoties\",\n  \"categories.symbols\": \"Symbolen\",\n  \"categories.travel-places\": \"Reizen & Plaatsen\",\n  \"error.load\": \"Kan emoji's niet laden\",\n  \"recents.clear\": \"Wis recente emoji's\",\n  \"recents.none\": \"Geen emoji geselecteerd.\",\n  retry: \"Probeer het nog eens\",\n  \"search.clear\": \"Zoekopdracht wissen\",\n  \"search.error\": \"Zoeken mislukt\",\n  \"search.notFound\": \"Geen emoji gevonden\",\n  search: \"Zoek emoji...\"\n}, Mo = {\n  \"categories.activities\": \"Aktiviteter\",\n  \"categories.animals-nature\": \"Dyr & natur\",\n  \"categories.custom\": \"Tilpasset\",\n  \"categories.flags\": \"Flagg\",\n  \"categories.food-drink\": \"Mat & drikke\",\n  \"categories.objects\": \"Objekter\",\n  \"categories.people-body\": \"Mennesker & kropp\",\n  \"categories.recents\": \"Nylig brukte\",\n  \"categories.smileys-emotion\": \"Smilefjes & følelser\",\n  \"categories.symbols\": \"Symboler\",\n  \"categories.travel-places\": \"Reise & steder\",\n  \"error.load\": \"Klarte ikke laste inn emojis\",\n  \"recents.clear\": \"Fjern nylige emojis\",\n  \"recents.none\": \"Du har ikke valgt noen emojis enda.\",\n  retry: \"Prøv igjen\",\n  \"search.clear\": \"Tøm søk\",\n  \"search.error\": \"Klarte ikke å søke etter emojis\",\n  \"search.notFound\": \"Ingen emojis funnet\",\n  search: \"Søk etter emojis...\"\n}, Vo = {\n  \"categories.activities\": \"Aktiviteter\",\n  \"categories.animals-nature\": \"Djur & natur\",\n  \"categories.custom\": \"Anpassad\",\n  \"categories.flags\": \"Flagga\",\n  \"categories.food-drink\": \"Mat & dryck\",\n  \"categories.objects\": \"Objekt\",\n  \"categories.people-body\": \"Människor & kropp\",\n  \"categories.recents\": \"Nyligen använd\",\n  \"categories.smileys-emotion\": \"Humör & känslor\",\n  \"categories.symbols\": \"Symboler\",\n  \"categories.travel-places\": \"Resor & platser\",\n  \"error.load\": \"Det gick inte att ladda emojis\",\n  \"recents.clear\": \"Ta bort de senaste emojis\",\n  \"recents.none\": \"Du har inte valt några emojis än\",\n  retry: \"Försök igen\",\n  \"search.clear\": \"Tom sökning\",\n  \"search.error\": \"Det gick inte att söka efter emojis\",\n  \"search.notFound\": \"Inga emojis hittades\",\n  search: \"Sök efter emojis...\"\n}, Ko = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  de: Ao,\n  en: ze,\n  fi: Io,\n  fr: To,\n  nl: Ro,\n  no: Mo,\n  sv: Vo\n}, Symbol.toStringTag, { value: \"Module\" }));\nclass Uo extends $e {\n  constructor() {\n    super(sessionStorage);\n  }\n}\nclass qo extends Le {\n  constructor() {\n    super(...arguments), this.recents = [];\n  }\n  clear() {\n    this.recents = [];\n  }\n  getRecents(e) {\n    return this.recents.slice(0, e);\n  }\n  addOrUpdateRecent(e, t) {\n    this.recents = [\n      e,\n      ...this.getRecents(t).filter((s) => s.hexcode !== e.hexcode)\n    ].slice(0, t);\n  }\n}\nasync function Go(o, e, t, s) {\n  (await ne(o, e, t, s)).close();\n}\nexport {\n  _o as EmojiPicker,\n  ce as Events,\n  tt as FocusTrap,\n  qo as InMemoryProvider,\n  xe as InMemoryStoreFactory,\n  Fe as IndexedDbStoreFactory,\n  zt as LocalStorageProvider,\n  St as NativeRenderer,\n  Le as RecentsProvider,\n  Et as Renderer,\n  Uo as SessionStorageProvider,\n  I as animate,\n  Oo as autoTheme,\n  me as caseInsensitiveIncludes,\n  He as computeHash,\n  Go as createDatabase,\n  Ho as createPicker,\n  So as createStyleInjector,\n  No as darkTheme,\n  Oe as debounce,\n  Bo as deleteDatabase,\n  M as empty,\n  ze as en,\n  U as getEmojiForEvent,\n  Lt as getOptions,\n  p as getPrefixedClasses,\n  $t as globalConfig,\n  Ko as i18n,\n  Ue as isLocalStorageAvailable,\n  Ke as isSessionStorageAvailable,\n  ot as lightTheme,\n  ae as prefixClassName,\n  w as replaceChildren,\n  je as shouldAnimate,\n  Ne as throttle,\n  Y as toElement\n};\n","import { getPrefixedClasses as xt, Events as bt, getOptions as Et, createPicker as Lt, FocusTrap as Ct, animate as et, createStyleInjector as Pt } from \"picmo\";\nfunction W(t) {\n  return t.split(\"-\")[0];\n}\nfunction _(t) {\n  return t.split(\"-\")[1];\n}\nfunction G(t) {\n  return [\"top\", \"bottom\"].includes(W(t)) ? \"x\" : \"y\";\n}\nfunction ht(t) {\n  return t === \"y\" ? \"height\" : \"width\";\n}\nfunction nt(t, e, n) {\n  let { reference: i, floating: r } = t;\n  const s = i.x + i.width / 2 - r.width / 2, l = i.y + i.height / 2 - r.height / 2, o = G(e), c = ht(o), f = i[c] / 2 - r[c] / 2, u = o === \"x\";\n  let a;\n  switch (W(e)) {\n    case \"top\":\n      a = { x: s, y: i.y - r.height };\n      break;\n    case \"bottom\":\n      a = { x: s, y: i.y + i.height };\n      break;\n    case \"right\":\n      a = { x: i.x + i.width, y: l };\n      break;\n    case \"left\":\n      a = { x: i.x - r.width, y: l };\n      break;\n    default:\n      a = { x: i.x, y: i.y };\n  }\n  switch (_(e)) {\n    case \"start\":\n      a[o] -= f * (n && u ? -1 : 1);\n      break;\n    case \"end\":\n      a[o] += f * (n && u ? -1 : 1);\n  }\n  return a;\n}\nconst Rt = async (t, e, n) => {\n  const { placement: i = \"bottom\", strategy: r = \"absolute\", middleware: s = [], platform: l } = n, o = await (l.isRTL == null ? void 0 : l.isRTL(e));\n  let c = await l.getElementRects({ reference: t, floating: e, strategy: r }), { x: f, y: u } = nt(c, i, o), a = i, p = {}, m = 0;\n  for (let h = 0; h < s.length; h++) {\n    const { name: d, fn: g } = s[h], { x: w, y: v, data: x, reset: y } = await g({ x: f, y: u, initialPlacement: i, placement: a, strategy: r, middlewareData: p, rects: c, platform: l, elements: { reference: t, floating: e } });\n    f = w ?? f, u = v ?? u, p = { ...p, [d]: { ...p[d], ...x } }, y && m <= 50 && (m++, typeof y == \"object\" && (y.placement && (a = y.placement), y.rects && (c = y.rects === !0 ? await l.getElementRects({ reference: t, floating: e, strategy: r }) : y.rects), { x: f, y: u } = nt(c, a, o)), h = -1);\n  }\n  return { x: f, y: u, placement: a, strategy: r, middlewareData: p };\n};\nfunction kt(t) {\n  return typeof t != \"number\" ? function(e) {\n    return { top: 0, right: 0, bottom: 0, left: 0, ...e };\n  }(t) : { top: t, right: t, bottom: t, left: t };\n}\nfunction K(t) {\n  return { ...t, top: t.y, left: t.x, right: t.x + t.width, bottom: t.y + t.height };\n}\nasync function tt(t, e) {\n  var n;\n  e === void 0 && (e = {});\n  const { x: i, y: r, platform: s, rects: l, elements: o, strategy: c } = t, { boundary: f = \"clippingAncestors\", rootBoundary: u = \"viewport\", elementContext: a = \"floating\", altBoundary: p = !1, padding: m = 0 } = e, h = kt(m), d = o[p ? a === \"floating\" ? \"reference\" : \"floating\" : a], g = K(await s.getClippingRect({ element: (n = await (s.isElement == null ? void 0 : s.isElement(d))) == null || n ? d : d.contextElement || await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(o.floating)), boundary: f, rootBoundary: u, strategy: c })), w = K(s.convertOffsetParentRelativeRectToViewportRelativeRect ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({ rect: a === \"floating\" ? { ...l.floating, x: i, y: r } : l.reference, offsetParent: await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(o.floating)), strategy: c }) : l[a]);\n  return { top: g.top - w.top + h.top, bottom: w.bottom - g.bottom + h.bottom, left: g.left - w.left + h.left, right: w.right - g.right + h.right };\n}\nconst At = Math.min, Tt = Math.max;\nfunction it(t, e, n) {\n  return Tt(t, At(e, n));\n}\nconst Ot = { left: \"right\", right: \"left\", bottom: \"top\", top: \"bottom\" };\nfunction q(t) {\n  return t.replace(/left|right|bottom|top/g, (e) => Ot[e]);\n}\nfunction pt(t, e, n) {\n  n === void 0 && (n = !1);\n  const i = _(t), r = G(t), s = ht(r);\n  let l = r === \"x\" ? i === (n ? \"end\" : \"start\") ? \"right\" : \"left\" : i === \"start\" ? \"bottom\" : \"top\";\n  return e.reference[s] > e.floating[s] && (l = q(l)), { main: l, cross: q(l) };\n}\nconst Bt = { start: \"end\", end: \"start\" };\nfunction U(t) {\n  return t.replace(/start|end/g, (e) => Bt[e]);\n}\nconst $t = [\"top\", \"right\", \"bottom\", \"left\"], Dt = $t.reduce((t, e) => t.concat(e, e + \"-start\", e + \"-end\"), []), Ht = function(t) {\n  return t === void 0 && (t = {}), { name: \"autoPlacement\", options: t, async fn(e) {\n    var n, i, r, s, l;\n    const { x: o, y: c, rects: f, middlewareData: u, placement: a, platform: p, elements: m } = e, { alignment: h = null, allowedPlacements: d = Dt, autoAlignment: g = !0, ...w } = t, v = function(L, j, M) {\n      return (L ? [...M.filter((C) => _(C) === L), ...M.filter((C) => _(C) !== L)] : M.filter((C) => W(C) === C)).filter((C) => !L || _(C) === L || !!j && U(C) !== C);\n    }(h, g, d), x = await tt(e, w), y = (n = (i = u.autoPlacement) == null ? void 0 : i.index) != null ? n : 0, O = v[y];\n    if (O == null)\n      return {};\n    const { main: z, cross: I } = pt(O, f, await (p.isRTL == null ? void 0 : p.isRTL(m.floating)));\n    if (a !== O)\n      return { x: o, y: c, reset: { placement: v[0] } };\n    const b = [x[W(O)], x[z], x[I]], E = [...(r = (s = u.autoPlacement) == null ? void 0 : s.overflows) != null ? r : [], { placement: O, overflows: b }], H = v[y + 1];\n    if (H)\n      return { data: { index: y + 1, overflows: E }, reset: { placement: H } };\n    const N = E.slice().sort((L, j) => L.overflows[0] - j.overflows[0]), S = (l = N.find((L) => {\n      let { overflows: j } = L;\n      return j.every((M) => M <= 0);\n    })) == null ? void 0 : l.placement, B = S ?? N[0].placement;\n    return B !== a ? { data: { index: y + 1, overflows: E }, reset: { placement: B } } : {};\n  } };\n}, St = function(t) {\n  return t === void 0 && (t = {}), { name: \"flip\", options: t, async fn(e) {\n    var n;\n    const { placement: i, middlewareData: r, rects: s, initialPlacement: l, platform: o, elements: c } = e, { mainAxis: f = !0, crossAxis: u = !0, fallbackPlacements: a, fallbackStrategy: p = \"bestFit\", flipAlignment: m = !0, ...h } = t, d = W(i), g = a || (d === l || !m ? [q(l)] : function(b) {\n      const E = q(b);\n      return [U(b), E, U(E)];\n    }(l)), w = [l, ...g], v = await tt(e, h), x = [];\n    let y = ((n = r.flip) == null ? void 0 : n.overflows) || [];\n    if (f && x.push(v[d]), u) {\n      const { main: b, cross: E } = pt(i, s, await (o.isRTL == null ? void 0 : o.isRTL(c.floating)));\n      x.push(v[b], v[E]);\n    }\n    if (y = [...y, { placement: i, overflows: x }], !x.every((b) => b <= 0)) {\n      var O, z;\n      const b = ((O = (z = r.flip) == null ? void 0 : z.index) != null ? O : 0) + 1, E = w[b];\n      if (E)\n        return { data: { index: b, overflows: y }, reset: { placement: E } };\n      let H = \"bottom\";\n      switch (p) {\n        case \"bestFit\": {\n          var I;\n          const N = (I = y.map((S) => [S, S.overflows.filter((B) => B > 0).reduce((B, L) => B + L, 0)]).sort((S, B) => S[1] - B[1])[0]) == null ? void 0 : I[0].placement;\n          N && (H = N);\n          break;\n        }\n        case \"initialPlacement\":\n          H = l;\n      }\n      if (i !== H)\n        return { reset: { placement: H } };\n    }\n    return {};\n  } };\n}, ot = function(t) {\n  return t === void 0 && (t = 0), { name: \"offset\", options: t, async fn(e) {\n    const { x: n, y: i } = e, r = await async function(s, l) {\n      const { placement: o, platform: c, elements: f } = s, u = await (c.isRTL == null ? void 0 : c.isRTL(f.floating)), a = W(o), p = _(o), m = G(o) === \"x\", h = [\"left\", \"top\"].includes(a) ? -1 : 1, d = u && m ? -1 : 1, g = typeof l == \"function\" ? l(s) : l;\n      let { mainAxis: w, crossAxis: v, alignmentAxis: x } = typeof g == \"number\" ? { mainAxis: g, crossAxis: 0, alignmentAxis: null } : { mainAxis: 0, crossAxis: 0, alignmentAxis: null, ...g };\n      return p && typeof x == \"number\" && (v = p === \"end\" ? -1 * x : x), m ? { x: v * d, y: w * h } : { x: w * h, y: v * d };\n    }(e, t);\n    return { x: n + r.x, y: i + r.y, data: r };\n  } };\n};\nfunction Wt(t) {\n  return t === \"x\" ? \"y\" : \"x\";\n}\nconst st = function(t) {\n  return t === void 0 && (t = {}), { name: \"shift\", options: t, async fn(e) {\n    const { x: n, y: i, placement: r } = e, { mainAxis: s = !0, crossAxis: l = !1, limiter: o = { fn: (g) => {\n      let { x: w, y: v } = g;\n      return { x: w, y: v };\n    } }, ...c } = t, f = { x: n, y: i }, u = await tt(e, c), a = G(W(r)), p = Wt(a);\n    let m = f[a], h = f[p];\n    if (s) {\n      const g = a === \"y\" ? \"bottom\" : \"right\";\n      m = it(m + u[a === \"y\" ? \"top\" : \"left\"], m, m - u[g]);\n    }\n    if (l) {\n      const g = p === \"y\" ? \"bottom\" : \"right\";\n      h = it(h + u[p === \"y\" ? \"top\" : \"left\"], h, h - u[g]);\n    }\n    const d = o.fn({ ...e, [a]: m, [p]: h });\n    return { ...d, data: { x: d.x - n, y: d.y - i } };\n  } };\n};\nfunction dt(t) {\n  return t && t.document && t.location && t.alert && t.setInterval;\n}\nfunction T(t) {\n  if (t == null)\n    return window;\n  if (!dt(t)) {\n    const e = t.ownerDocument;\n    return e && e.defaultView || window;\n  }\n  return t;\n}\nfunction P(t) {\n  return T(t).getComputedStyle(t);\n}\nfunction k(t) {\n  return dt(t) ? \"\" : t ? (t.nodeName || \"\").toLowerCase() : \"\";\n}\nfunction mt() {\n  const t = navigator.userAgentData;\n  return t != null && t.brands ? t.brands.map((e) => e.brand + \"/\" + e.version).join(\" \") : navigator.userAgent;\n}\nfunction R(t) {\n  return t instanceof T(t).HTMLElement;\n}\nfunction D(t) {\n  return t instanceof T(t).Element;\n}\nfunction F(t) {\n  return typeof ShadowRoot > \"u\" ? !1 : t instanceof T(t).ShadowRoot || t instanceof ShadowRoot;\n}\nfunction J(t) {\n  const { overflow: e, overflowX: n, overflowY: i } = P(t);\n  return /auto|scroll|overlay|hidden/.test(e + i + n);\n}\nfunction _t(t) {\n  return [\"table\", \"td\", \"th\"].includes(k(t));\n}\nfunction rt(t) {\n  const e = /firefox/i.test(mt()), n = P(t);\n  return n.transform !== \"none\" || n.perspective !== \"none\" || n.contain === \"paint\" || [\"transform\", \"perspective\"].includes(n.willChange) || e && n.willChange === \"filter\" || e && !!n.filter && n.filter !== \"none\";\n}\nfunction gt() {\n  return !/^((?!chrome|android).)*safari/i.test(mt());\n}\nconst lt = Math.min, V = Math.max, X = Math.round;\nfunction A(t, e, n) {\n  var i, r, s, l;\n  e === void 0 && (e = !1), n === void 0 && (n = !1);\n  const o = t.getBoundingClientRect();\n  let c = 1, f = 1;\n  e && R(t) && (c = t.offsetWidth > 0 && X(o.width) / t.offsetWidth || 1, f = t.offsetHeight > 0 && X(o.height) / t.offsetHeight || 1);\n  const u = D(t) ? T(t) : window, a = !gt() && n, p = (o.left + (a && (i = (r = u.visualViewport) == null ? void 0 : r.offsetLeft) != null ? i : 0)) / c, m = (o.top + (a && (s = (l = u.visualViewport) == null ? void 0 : l.offsetTop) != null ? s : 0)) / f, h = o.width / c, d = o.height / f;\n  return { width: h, height: d, top: m, right: p + h, bottom: m + d, left: p, x: p, y: m };\n}\nfunction $(t) {\n  return (e = t, (e instanceof T(e).Node ? t.ownerDocument : t.document) || window.document).documentElement;\n  var e;\n}\nfunction Q(t) {\n  return D(t) ? { scrollLeft: t.scrollLeft, scrollTop: t.scrollTop } : { scrollLeft: t.pageXOffset, scrollTop: t.pageYOffset };\n}\nfunction yt(t) {\n  return A($(t)).left + Q(t).scrollLeft;\n}\nfunction Ft(t, e, n) {\n  const i = R(e), r = $(e), s = A(t, i && function(c) {\n    const f = A(c);\n    return X(f.width) !== c.offsetWidth || X(f.height) !== c.offsetHeight;\n  }(e), n === \"fixed\");\n  let l = { scrollLeft: 0, scrollTop: 0 };\n  const o = { x: 0, y: 0 };\n  if (i || !i && n !== \"fixed\")\n    if ((k(e) !== \"body\" || J(r)) && (l = Q(e)), R(e)) {\n      const c = A(e, !0);\n      o.x = c.x + e.clientLeft, o.y = c.y + e.clientTop;\n    } else\n      r && (o.x = yt(r));\n  return { x: s.left + l.scrollLeft - o.x, y: s.top + l.scrollTop - o.y, width: s.width, height: s.height };\n}\nfunction wt(t) {\n  return k(t) === \"html\" ? t : t.assignedSlot || t.parentNode || (F(t) ? t.host : null) || $(t);\n}\nfunction ct(t) {\n  return R(t) && P(t).position !== \"fixed\" ? function(e) {\n    let { offsetParent: n } = e, i = e, r = !1;\n    for (; i && i !== n; ) {\n      const { assignedSlot: s } = i;\n      if (s) {\n        let l = s.offsetParent;\n        if (P(s).display === \"contents\") {\n          const o = s.hasAttribute(\"style\"), c = s.style.display;\n          s.style.display = P(i).display, l = s.offsetParent, s.style.display = c, o || s.removeAttribute(\"style\");\n        }\n        i = s, n !== l && (n = l, r = !0);\n      } else if (F(i) && i.host && r)\n        break;\n      i = F(i) && i.host || i.parentNode;\n    }\n    return n;\n  }(t) : null;\n}\nfunction Z(t) {\n  const e = T(t);\n  let n = ct(t);\n  for (; n && _t(n) && P(n).position === \"static\"; )\n    n = ct(n);\n  return n && (k(n) === \"html\" || k(n) === \"body\" && P(n).position === \"static\" && !rt(n)) ? e : n || function(i) {\n    let r = wt(i);\n    for (F(r) && (r = r.host); R(r) && ![\"html\", \"body\"].includes(k(r)); ) {\n      if (rt(r))\n        return r;\n      {\n        const s = r.parentNode;\n        r = F(s) ? s.host : s;\n      }\n    }\n    return null;\n  }(t) || e;\n}\nfunction at(t) {\n  if (R(t))\n    return { width: t.offsetWidth, height: t.offsetHeight };\n  const e = A(t);\n  return { width: e.width, height: e.height };\n}\nfunction vt(t) {\n  const e = wt(t);\n  return [\"html\", \"body\", \"#document\"].includes(k(e)) ? t.ownerDocument.body : R(e) && J(e) ? e : vt(e);\n}\nfunction Y(t, e) {\n  var n;\n  e === void 0 && (e = []);\n  const i = vt(t), r = i === ((n = t.ownerDocument) == null ? void 0 : n.body), s = T(i), l = r ? [s].concat(s.visualViewport || [], J(i) ? i : []) : i, o = e.concat(l);\n  return r ? o : o.concat(Y(l));\n}\nfunction ut(t, e, n) {\n  return e === \"viewport\" ? K(function(i, r) {\n    const s = T(i), l = $(i), o = s.visualViewport;\n    let c = l.clientWidth, f = l.clientHeight, u = 0, a = 0;\n    if (o) {\n      c = o.width, f = o.height;\n      const p = gt();\n      (p || !p && r === \"fixed\") && (u = o.offsetLeft, a = o.offsetTop);\n    }\n    return { width: c, height: f, x: u, y: a };\n  }(t, n)) : D(e) ? function(i, r) {\n    const s = A(i, !1, r === \"fixed\"), l = s.top + i.clientTop, o = s.left + i.clientLeft;\n    return { top: l, left: o, x: o, y: l, right: o + i.clientWidth, bottom: l + i.clientHeight, width: i.clientWidth, height: i.clientHeight };\n  }(e, n) : K(function(i) {\n    var r;\n    const s = $(i), l = Q(i), o = (r = i.ownerDocument) == null ? void 0 : r.body, c = V(s.scrollWidth, s.clientWidth, o ? o.scrollWidth : 0, o ? o.clientWidth : 0), f = V(s.scrollHeight, s.clientHeight, o ? o.scrollHeight : 0, o ? o.clientHeight : 0);\n    let u = -l.scrollLeft + yt(i);\n    const a = -l.scrollTop;\n    return P(o || s).direction === \"rtl\" && (u += V(s.clientWidth, o ? o.clientWidth : 0) - c), { width: c, height: f, x: u, y: a };\n  }($(t)));\n}\nfunction Nt(t) {\n  const e = Y(t), n = [\"absolute\", \"fixed\"].includes(P(t).position) && R(t) ? Z(t) : t;\n  return D(n) ? e.filter((i) => D(i) && function(r, s) {\n    const l = s.getRootNode == null ? void 0 : s.getRootNode();\n    if (r.contains(s))\n      return !0;\n    if (l && F(l)) {\n      let o = s;\n      do {\n        if (o && r === o)\n          return !0;\n        o = o.parentNode || o.host;\n      } while (o);\n    }\n    return !1;\n  }(i, n) && k(i) !== \"body\") : [];\n}\nconst jt = { getClippingRect: function(t) {\n  let { element: e, boundary: n, rootBoundary: i, strategy: r } = t;\n  const s = [...n === \"clippingAncestors\" ? Nt(e) : [].concat(n), i], l = s[0], o = s.reduce((c, f) => {\n    const u = ut(e, f, r);\n    return c.top = V(u.top, c.top), c.right = lt(u.right, c.right), c.bottom = lt(u.bottom, c.bottom), c.left = V(u.left, c.left), c;\n  }, ut(e, l, r));\n  return { width: o.right - o.left, height: o.bottom - o.top, x: o.left, y: o.top };\n}, convertOffsetParentRelativeRectToViewportRelativeRect: function(t) {\n  let { rect: e, offsetParent: n, strategy: i } = t;\n  const r = R(n), s = $(n);\n  if (n === s)\n    return e;\n  let l = { scrollLeft: 0, scrollTop: 0 };\n  const o = { x: 0, y: 0 };\n  if ((r || !r && i !== \"fixed\") && ((k(n) !== \"body\" || J(s)) && (l = Q(n)), R(n))) {\n    const c = A(n, !0);\n    o.x = c.x + n.clientLeft, o.y = c.y + n.clientTop;\n  }\n  return { ...e, x: e.x - l.scrollLeft + o.x, y: e.y - l.scrollTop + o.y };\n}, isElement: D, getDimensions: at, getOffsetParent: Z, getDocumentElement: $, getElementRects: (t) => {\n  let { reference: e, floating: n, strategy: i } = t;\n  return { reference: Ft(e, Z(n), i), floating: { ...at(n), x: 0, y: 0 } };\n}, getClientRects: (t) => Array.from(t.getClientRects()), isRTL: (t) => P(t).direction === \"rtl\" };\nfunction Mt(t, e, n, i) {\n  i === void 0 && (i = {});\n  const { ancestorScroll: r = !0, ancestorResize: s = !0, elementResize: l = !0, animationFrame: o = !1 } = i, c = r && !o, f = s && !o, u = c || f ? [...D(t) ? Y(t) : [], ...Y(e)] : [];\n  u.forEach((h) => {\n    c && h.addEventListener(\"scroll\", n, { passive: !0 }), f && h.addEventListener(\"resize\", n);\n  });\n  let a, p = null;\n  if (l) {\n    let h = !0;\n    p = new ResizeObserver(() => {\n      h || n(), h = !1;\n    }), D(t) && !o && p.observe(t), p.observe(e);\n  }\n  let m = o ? A(t) : null;\n  return o && function h() {\n    const d = A(t);\n    !m || d.x === m.x && d.y === m.y && d.width === m.width && d.height === m.height || n(), m = d, a = requestAnimationFrame(h);\n  }(), n(), () => {\n    var h;\n    u.forEach((d) => {\n      c && d.removeEventListener(\"scroll\", n), f && d.removeEventListener(\"resize\", n);\n    }), (h = p) == null || h.disconnect(), p = null, o && cancelAnimationFrame(a);\n  };\n}\nconst Vt = (t, e, n) => Rt(t, e, { platform: jt, ...n });\nasync function zt(t, e, n, i) {\n  if (!i)\n    throw new Error(\"Must provide a positioning option\");\n  return await (typeof i == \"string\" ? It(t, e, n, i) : Kt(e, i));\n}\nasync function It(t, e, n, i) {\n  if (!n)\n    throw new Error(\"Reference element is required for relative positioning\");\n  let r;\n  return i === \"auto\" ? r = {\n    middleware: [\n      Ht(),\n      st(),\n      ot({ mainAxis: 5, crossAxis: 12 })\n    ]\n  } : r = {\n    placement: i,\n    middleware: [\n      St(),\n      st(),\n      ot(5)\n    ]\n  }, Mt(n, e, async () => {\n    if ((!n.isConnected || !n.offsetParent) && qt(t))\n      return;\n    const { x: s, y: l } = await Vt(n, e, r);\n    Object.assign(e.style, {\n      position: \"absolute\",\n      left: `${s}px`,\n      top: `${l}px`\n    });\n  });\n}\nfunction Kt(t, e) {\n  return t.style.position = \"fixed\", Object.entries(e).forEach(([n, i]) => {\n    t.style[n] = i;\n  }), () => {\n  };\n}\nfunction qt(t) {\n  switch (t.options.onPositionLost) {\n    case \"close\":\n      return t.close(), !0;\n    case \"destroy\":\n      return t.destroy(), !0;\n    case \"hold\":\n      return !0;\n  }\n}\nconst Xt = {\n  hideOnClickOutside: !0,\n  hideOnEmojiSelect: !0,\n  hideOnEscape: !0,\n  position: \"auto\",\n  showCloseButton: !0,\n  onPositionLost: \"none\"\n};\nfunction Yt(t = {}) {\n  return {\n    ...Xt,\n    rootElement: document.body,\n    ...t\n  };\n}\nconst Gt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg>', ft = xt(\n  \"popupContainer\",\n  \"closeButton\"\n);\nclass Jt {\n  constructor(e, n) {\n    this.isOpen = !1, this.externalEvents = new bt(), this.options = { ...Yt(n), ...Et(e) }, this.popupEl = document.createElement(\"div\"), this.popupEl.classList.add(ft.popupContainer), this.popupEl.classList.add(this.options.theme), n.className && this.popupEl.classList.add(n.className), this.options.showCloseButton && (this.closeButton = document.createElement(\"button\"), this.closeButton.type = \"button\", this.closeButton.classList.add(ft.closeButton), this.closeButton.innerHTML = Gt, this.closeButton.addEventListener(\"click\", () => {\n      this.close();\n    }), this.popupEl.appendChild(this.closeButton));\n    const i = document.createElement(\"div\");\n    this.popupEl.appendChild(i), this.picker = Lt({ ...this.options, rootElement: i }), this.focusTrap = new Ct(), this.picker.addEventListener(\"data:ready\", () => {\n      this.focusTrap.activate(this.picker.el), this.picker.setInitialFocus();\n    }), this.options.hideOnEmojiSelect && this.picker.addEventListener(\"emoji:select\", () => {\n      var r;\n      this.close(), (r = this.triggerElement) == null || r.focus();\n    }), this.options.hideOnClickOutside && (this.onDocumentClick = this.onDocumentClick.bind(this), document.addEventListener(\"click\", this.onDocumentClick)), this.options.hideOnEscape && (this.handleKeydown = this.handleKeydown.bind(this), this.popupEl.addEventListener(\"keydown\", this.handleKeydown)), this.referenceElement = this.options.referenceElement, this.triggerElement = this.options.triggerElement;\n  }\n  /**\n   * Listens for a picker event.\n   *\n   * @param event The event to listen for\n   * @param callback The callback to call when the event is triggered\n   */\n  addEventListener(e, n) {\n    this.externalEvents.on(e, n), this.picker.addEventListener(e, n);\n  }\n  removeEventListener(e, n) {\n    this.externalEvents.off(e, n), this.picker.removeEventListener(e, n);\n  }\n  handleKeydown(e) {\n    var n;\n    e.key === \"Escape\" && (this.close(), (n = this.triggerElement) == null || n.focus());\n  }\n  /**\n   * Destroys the picker when it is no longer needed.\n   * After calling this method, the picker will no longer be usable.\n   *\n   * If this is called while the picker is open, it will be closed first.\n   *\n   * @returns a Promise that resolves when the close/destroy is complete.\n   */\n  async destroy() {\n    this.isOpen && await this.close(), document.removeEventListener(\"click\", this.onDocumentClick), this.picker.destroy(), this.externalEvents.removeAll();\n  }\n  /**\n   * Toggles the visible state of the picker\n   * If the picker is currently open, it will be closed, and if it si currently closed, it will be opened.\n   *\n   * @returns a Promise that resolves when the visibility state change is complete\n   */\n  toggle(e) {\n    return this.isOpen ? this.close() : this.open(e);\n  }\n  /**\n   * Opens the picker.\n   *\n   * @returns a Promise that resolves when the picker is finished opening\n   */\n  async open({ triggerElement: e, referenceElement: n } = {}) {\n    this.isOpen || (e && (this.triggerElement = e), n && (this.referenceElement = n), await this.initiateOpenStateChange(!0), this.popupEl.style.opacity = \"0\", this.options.rootElement.appendChild(this.popupEl), await this.setPosition(), this.picker.reset(!1), await this.animatePopup(!0), await this.animateCloseButton(!0), this.picker.setInitialFocus(), this.externalEvents.emit(\"picker:open\"));\n  }\n  /**\n   * Closes the picker.\n   *\n   * @returns a Promise that resolves when the picker is finished closing\n   */\n  async close() {\n    var e;\n    this.isOpen && (await this.initiateOpenStateChange(!1), await this.animateCloseButton(!1), await this.animatePopup(!1), this.popupEl.remove(), this.picker.reset(), (e = this.positionCleanup) == null || e.call(this), this.focusTrap.deactivate(), this.externalEvents.emit(\"picker:close\"));\n  }\n  /**\n   * Finds any pending (running) animations on the picker element.\n   *\n   * @returns an array of Animation objects that are in the 'running' state.\n   */\n  getRunningAnimations() {\n    return this.picker.el.getAnimations().filter((e) => e.playState === \"running\");\n  }\n  /**\n   * Sets up the picker positioning.\n   */\n  async setPosition() {\n    var e;\n    (e = this.positionCleanup) == null || e.call(this), this.positionCleanup = await zt(\n      this,\n      this.popupEl,\n      this.referenceElement,\n      this.options.position\n    );\n  }\n  /**\n   * Waits for all pending animations on the picker element to finish.\n   *\n   * @returns a Promise that resolves when all animations have finished\n   */\n  awaitPendingAnimations() {\n    return Promise.all(this.getRunningAnimations().map((e) => e.finished));\n  }\n  /**\n   * Handles a click on the document, so that the picker is closed\n   * if the mouse is clicked outside of it.\n   *\n   * The picker will only be closed if:\n   * - The picker is currently open\n   * - The click target is not the trigger element or any of its children\n   * - The click target is not the picker or any of its children\n   *\n   * @param event The MouseEvent that was dispatched.\n   */\n  onDocumentClick(e) {\n    var r;\n    const n = e.target, i = (r = this.triggerElement) == null ? void 0 : r.contains(n);\n    this.isOpen && !this.picker.isPickerClick(e) && !i && this.close();\n  }\n  animatePopup(e) {\n    return et(\n      this.popupEl,\n      {\n        opacity: [0, 1],\n        transform: [\"scale(0.9)\", \"scale(1)\"]\n      },\n      {\n        duration: 150,\n        id: e ? \"show-picker\" : \"hide-picker\",\n        easing: \"ease-in-out\",\n        direction: e ? \"normal\" : \"reverse\",\n        fill: \"both\"\n      },\n      this.options\n    );\n  }\n  animateCloseButton(e) {\n    if (this.closeButton)\n      return et(\n        this.closeButton,\n        {\n          opacity: [0, 1]\n        },\n        {\n          duration: 25,\n          id: e ? \"show-close\" : \"hide-close\",\n          easing: \"ease-in-out\",\n          direction: e ? \"normal\" : \"reverse\",\n          fill: \"both\"\n        },\n        this.options\n      );\n  }\n  /**\n   * Prepares for an animation either for opening or closing the picker.\n   * If other animations are still running (this will happen when toggled rapidly), this will wait for them to finish.\n   *\n   * It will mark the new open state immediately then wait for pending animations to finish.\n   *\n   * @param openState The desired open state\n   */\n  async initiateOpenStateChange(e) {\n    this.isOpen = e, await this.awaitPendingAnimations();\n  }\n}\nconst Qt = `.picmo__popupContainer{display:flex;flex-direction:column;position:absolute}.picmo__popupContainer .picmo__closeButton{position:absolute;opacity:0;background:transparent;border:none;z-index:1;right:0;top:0;cursor:pointer;padding:4px;align-self:flex-end;transform:translate(50%,-50%);background:#999999;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center;border-radius:50%}.picmo__popupContainer .picmo__closeButton:hover{background:var(--accent-color)}.picmo__popupContainer .picmo__closeButton svg{fill:#fff;width:1.25rem;height:1.25rem}\n`, Ut = Pt();\nfunction te(t, e) {\n  return Ut(Qt), new Jt({\n    autoFocus: \"auto\",\n    ...t\n  }, e);\n}\nexport {\n  Jt as PopupPickerController,\n  te as createPopup\n};\n","/**\n * PicMo is a plain JavaScript emoji picker widget. It can be used in two ways:\n *\n * - As a standalone emoji picker inline in the page. The picker is rendered immediately on the page.\n * - As a popup emoji picker. The popup is triggered by a button or other interactive element.\n *\n * PicMo's emoji data comes from the Emojibase project. The data is cached locally in an IndexedDB database.\n */\nimport {createPopup} from '@picmo/popup-picker'\nimport {EmojiSelection} from 'picmo'\n\n(function() {\n    // MARK: - Properties\n    let rootElement = document.querySelector('body')\n\n    // MARK: - Initializers\n    window.picmo = createPopup({\n        // picker options go here\n        rootElement: rootElement,\n    }, {\n        className: 'z-50',\n\n        // Specify how to position the popup\n        position: 'bottom-start',\n\n        // Whether to show the close button\n        showCloseButton: false\n    })\n\n    // MARK: - Events\n    window.picmo.addEventListener('emoji:select', handleEmojiSelect)\n\n    // MARK: - Functions\n    /**\n     * Inserts a text to the given textarea while preserving the selected start and end positions of the cursor.\n     *\n     * @param {HTMLTextAreaElement} element - textarea element\n     * @param {string} text - text to insert\n     */\n    function insertTextInTextarea(element, text) {\n        let [start, end] = [element.selectionStart, element.selectionEnd]\n        element.setRangeText(text, start, end, 'end')\n        element.focus()\n        element.dispatchEvent(new Event('input'))\n    }\n\n    /**\n     * Handle event when selecting an emoji.\n     *\n     * @param {EmojiSelection} event - event\n     */\n    function handleEmojiSelect(event) {\n        let id = localStorage.getItem('_x_selectedCommentBox')\n        let input = document.querySelector('#comment-box-' + id)\n        insertTextInTextarea(input, event.emoji)\n    }\n})()\n"],"names":["K","o","e","t","has","TypeError","y","call","get","f","WeakSet","add","set","A","s","g","async","re","local","version","cdnUrl","i","r","a","Me","n","localStorage","sessionStorage","l","d","getItem","Promise","resolve","JSON","parse","m","fetch","credentials","mode","redirect","ok","Error","h","json","setItem","stringify","Ve","discord","slack","de","k","length","Set","shortcodes","forEach","hexcode","Array","isArray","skins","be","compact","flat","all","map","includes","split","catch","push","tags","De","Be","Ce","U","target","closest","find","emoji","dataset","je","window","matchMedia","animate","matches","me","toLowerCase","I","finished","direction","Object","entries","reduce","assign","style","Y","document","createElement","innerHTML","content","firstElementChild","p","ae","M","firstChild","removeChild","w","append","_e","ke","keys","clear","key","removeItem","E","label","order","custom","D","some","group","Ee","constructor","this","locale","qe","filter","B","Ge","q","xe","We","deleteDatabase","open","delete","close","isPopulated","getEmojiCount","emojis","getEtags","foo","getHash","populate","categories","groups","getCategories","showRecents","unshift","sort","indexOf","getEmojis","searchEmojis","setMeta","meta","ue","method","headers","Se","console","warn","Xe","emojisUrl","messagesUrl","Je","Ze","storedEmojisEtag","storedMessagesEtag","emojisEtag","messagesEtag","Ye","et","TextEncoder","encode","crypto","subtle","digest","from","Uint8Array","toString","padStart","join","He","Qe","hash","ne","defineProperty","value","tt","handleKeyDown","bind","activate","rootElement","addEventListener","deactivate","removeEventListener","focusableElements","querySelectorAll","lastFocusableElement","firstFocusableElement","checkFocus","focus","preventDefault","shiftKey","light","ot","dark","No","auto","Oo","c","template","classes","parent","isDestroyed","appEvents","uiEvents","uiElements","ui","keyBindingHandler","initialize","bindAppEvents","setCustomEmojis","customEmojis","setEvents","events","setPickerId","pickerId","emit","setI18n","i18n","setRenderer","renderer","setEmojiData","emojiDataPromise","then","emojiData","updateEmojiData","setOptions","options","renderSync","el","postRender","renderAsync","bindUIElements","bindKeyBindings","bindUIEvents","scheduleShowAnimation","on","unbindAppEvents","off","keyBindings","unbindKeyBindings","querySelector","handler","event","unbindUIEvents","destroy","remove","MutationObserver","type","addedNodes","animateShow","disconnect","observe","childList","static","pe","clock","flag","frown","gamepad","lightbulb","mug","plane","robot","sad","search","smiley","symbols","tree","users","warning","xmark","N","recents","activities","objects","flags","Pe","icon","classList","wt","bt","b","x","S","Q","P","X","z","ee","u","render","WeakMap","view","replaceWith","size","placeholder","Ct","jt","imagePlaceholder","_t","classNames","super","load","className","once","src","kt","Et","renderElement","renderImage","resolver","doRender","renderCustom","Element","doEmit","emitCustom","url","data","customEmoji","trim","xt","St","ze","retry","te","Fe","Pt","indexedDB","db","result","createObjectStore","keyPath","createIndex","waitForRequest","transaction","objectStore","count","oncomplete","Boolean","put","removeAllObjects","addObjects","getAll","index","openCursor","he","O","Te","H","continue","onsuccess","onerror","withTransaction","Le","G","$e","storage","getRecents","slice","addOrUpdateRecent","zt","Ft","dataStore","theme","showCategoryTabs","showPreview","showSearch","showVariants","emojisPerRow","visibleRows","emojiVersion","maxRecents","Lt","recentsProvider","v","C","V","F","oe","ce","Map","apply","context","removeAll","$t","injectStyles","At","It","se","le","category","lazyLoader","baseUIElements","categoryName","byClass","setActive","emojiContainer","Tt","emojiButton","Rt","Ae","uiEvent","handleFocus","activateFocus","tabIndex","deactivateFocus","emojiContent","Mt","keyHandlers","ArrowLeft","focusPrevious","ArrowRight","focusNext","ArrowUp","focusUp","ArrowDown","focusDown","rowCount","Math","ceil","columnCount","focusedRow","focusedColumn","emojiCount","wrap","setCell","getIndex","min","to","performFocus","setFocusedIndex","floor","focusToIndex","getCell","row","column","getRowCount","Vt","Dt","$","preview","fullHeight","setFocus","triggerNextCategory","triggerPreviousCategory","grid","selectEmoji","hidePreview","capture","setFocusedView","findIndex","setTimeout","emojiViews","scrollIntoView","parentElement","previousElementSibling","scrollTop","offsetHeight","offset","viewFactory","create","emojiElements","stopPropagation","cloneNode","Bt","emojiCategory","message","Nt","Ot","insertBefore","childElementCount","lastElementChild","Ht","recentEmojis","noRecents","Ut","Ie","elements","lazyLoad","IntersectionObserver","intersectionRatio","unobserve","root","ge","Gt","emojiArea","Wt","provider","addRecent","addOrUpdate","empty","Yt","categoryTabs","selectedCategory","scrollListenerState","handleScroll","Ne","handleCategorySelect","focusPreviousCategory","focusNextCategory","updateFocusedCategory","focusableEmoji","emojiCategories","createCategory","observer","overflow","selectCategory","determineInitialCategory","initialCategory","determineFocusTarget","initialEmoji","reset","scroll","getCategoryIndex","focusCategory","setActiveTab","offsetTop","changeFocusable","scrollHeight","Qt","iconContainer","title","ye","ie","error","Xt","eo","dataError","retryButton","childEvent","onRetry","messages","j","oo","tag","so","previewEmoji","previewName","tagList","io","name","textContent","display","ro","clearSearchButton","ao","searchContainer","searchField","searchAccessory","_","no","clearTimeout","Oe","onKeyDown","onSearchInput","searchIcon","notFoundMessage","notFound","errorMessage","onClearSearch","showSearchIcon","showSearchAccessory","showClearSearchButton","resultsContainer","handleResultsKeydown","co","variantOverlay","variantPopup","fe","W","easing","duration","fill","ve","opacity","we","transform","lo","focusedEmojiIndex","focusTrap","popup","handleClick","handleKeydown","animateHide","hide","contains","getEmoji","renderedEmojis","setFocusedEmoji","setProperty","ho","categoryTab","categoryButton","J","mo","isActive","button","ariaSelected","toggle","categoryTabActive","uo","categoryButtonsContainer","categoryButtons","po","go","activeCategoryIndex","stepSelectedTab","checkOverflow","abs","scrollLeft","scrollWidth","offsetWidth","tabViews","tabs","currentCategory","currentTabView","getTargetCategory","yo","String","fromCodePoint","fo","getContext","textBaseline","font","fillText","getImageData","vo","Z","Co","categoryCount","skeleton","picker","showHeader","headerSkeleton","searchSkeleton","searchInput","categoryTabsSkeleton","contentSkeleton","emojiGrid","previewSkeleton","jo","isLoaded","header","wo","bo","T","R","emojiSize","_o","pickerReady","externalEvents","updaters","styleProperty","updateStyleProperty","pickerContent","onError","reinitialize","onDataReady","showContent","hideVariantPopup","clearRecents","initializePickerView","ctrlKey","metaKey","buildChildViews","currentView","setStyleProperties","height","parseFloat","setInitialFocus","getInitialFocusTarget","autoFocus","autoFocusSearch","appendChild","isPickerClick","isVariantPopupOpen","showVariantPopup","emitEmoji","activeElement","updateOptions","ko","L","Eo","So","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","xo","Po","Fo","$o","Ho","zo","Date","now","Symbol","toStringTag","reference","floating","width","top","left","right","bottom","platform","rects","strategy","boundary","rootBoundary","elementContext","altBoundary","padding","getClippingRect","element","isElement","contextElement","getDocumentElement","convertOffsetParentRelativeRectToViewportRelativeRect","rect","offsetParent","getOffsetParent","max","replace","main","cross","start","end","concat","middlewareData","placement","alignment","allowedPlacements","autoAlignment","autoPlacement","isRTL","overflows","every","initialPlacement","mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment","flip","alignmentAxis","limiter","fn","location","alert","setInterval","ownerDocument","defaultView","getComputedStyle","nodeName","navigator","userAgentData","brands","brand","userAgent","HTMLElement","ShadowRoot","overflowX","overflowY","test","perspective","contain","willChange","round","getBoundingClientRect","visualViewport","offsetLeft","Node","documentElement","pageXOffset","pageYOffset","clientLeft","clientTop","assignedSlot","parentNode","host","position","hasAttribute","removeAttribute","body","clientWidth","clientHeight","getRootNode","getDimensions","getElementRects","getClientRects","middleware","ancestorScroll","ancestorResize","elementResize","animationFrame","passive","ResizeObserver","requestAnimationFrame","cancelAnimationFrame","isConnected","onPositionLost","hideOnClickOutside","hideOnEmojiSelect","hideOnEscape","showCloseButton","isOpen","popupEl","popupContainer","closeButton","triggerElement","onDocumentClick","referenceElement","initiateOpenStateChange","setPosition","animatePopup","animateCloseButton","positionCleanup","getRunningAnimations","getAnimations","playState","awaitPendingAnimations","id","picmo","text","_ref","selectionStart","selectionEnd","setRangeText","dispatchEvent","Event"],"sourceRoot":""}