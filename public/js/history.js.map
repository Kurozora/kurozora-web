{"version":3,"file":"/js/history.js","mappings":"+6DAEqBA,EAAc,WAO9B,O,EAFD,SAAAA,I,qGAAcC,CAAA,KAAAD,G,IAAA,K,EAAAE,G,SAJdC,EAAA,KAAAC,EAAS,IACTD,EAAA,KAAAE,EAAc,sBACdF,EAAA,KAAAG,GAAc,GAGVC,EAAKH,EAALI,KAAcC,EAAAP,EAAAM,KAAKE,GAAUC,KAAfH,MAClB,E,EAAC,EAAAI,IAAA,WAAAC,MAkBD,SAASC,GAAoC,IAA7BC,EAAGC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGP,EAAAP,EAAAM,KAAKW,GAAcR,KAAnBH,MAClB,GAAIY,EAAKd,EAALE,MACAD,EAAKD,EAALE,MAAmB,OADvB,CAKA,IAAMa,EAAOD,EAAKhB,EAALI,MAAYY,EAAKhB,EAALI,MAAYS,OAAS,GACzCI,GAAQA,EAAKN,MAAQA,IACtBK,EAAKhB,EAALI,MAAYc,KAAK,CAAER,MAAAA,EAAOC,IAAAA,IAC1BN,EAAAP,EAAAM,KAAKe,GAAUZ,KAAfH,MALJ,CAOJ,GAAC,CAAAI,IAAA,UAAAC,MAED,WACIN,EAAKD,EAALE,MAAmB,GACnBY,EAAKhB,EAALI,MAAYgB,MACZf,EAAAP,EAAAM,KAAKe,GAAUZ,KAAfH,KACJ,GAAC,CAAAI,IAAA,QAAAa,IAED,WACI,OAAAC,EAAWN,EAAKhB,EAALI,MACf,GAAC,CAAAI,IAAA,SAAAa,IAED,WACI,OAAOL,EAAKhB,EAALI,MAAYS,MACvB,GAAC,CAAAL,IAAA,eAAAa,IAED,WACI,OAAOL,EAAKhB,EAALI,MAAYS,QAAU,EAAIG,EAAKhB,EAALI,MAAYY,EAAKhB,EAALI,MAAYS,OAAS,GAAK,IAC3E,GAAC,CAAAL,IAAA,OAAAC,MAED,WAAyB,IAApBc,EAAWX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACfY,OAAOC,QAAQC,OAETH,GACFI,WAAW,WACPH,OAAOI,SAASC,KAAON,CAC3B,EAAG,IAEX,I,4FAAC,CAhE8B,GAgE9B,SAAAjB,IAtDG,IACI,OAAOwB,KAAKC,MAAMC,eAAeC,QAAQjB,EAAKf,EAALG,SAAsB,EACnE,CAAE,MAAA8B,GACE,MAAO,EACX,CACJ,CAAC,SAAAf,IAGGa,eAAeG,QAAQnB,EAAKf,EAALG,MAAkB0B,KAAKM,UAAUpB,EAAKhB,EAALI,OAC5D,CAAC,SAAAW,IAGG,OAAOS,OAAOI,SAASS,SAAWb,OAAOI,SAASU,MACtD,CCvBJC,SAASC,iBAAiB,mBAAoB,WAC1CC,eAAeC,SAASH,SAAS7B,MACrC,GAEAc,OAAOiB,eAAiB,IAAI7C,C","sources":["webpack:///./resources/js/helpers/history.js","webpack:///./resources/js/history.js"],"sourcesContent":["// history.js\n\nexport default class HistoryManager {\n    #stack = []\n    #storageKey = 'customHistoryStack'\n    #isPopState = false\n\n    constructor() {\n        this.#stack = this.#loadStack()\n    }\n\n    #loadStack() {\n        try {\n            return JSON.parse(sessionStorage.getItem(this.#storageKey)) || []\n        } catch {\n            return []\n        }\n    }\n\n    #saveStack() {\n        sessionStorage.setItem(this.#storageKey, JSON.stringify(this.#stack))\n    }\n\n    #getCurrentUrl() {\n        return window.location.pathname + window.location.search\n    }\n\n    pushPage(title, url = this.#getCurrentUrl()) {\n        if (this.#isPopState) {\n            this.#isPopState = false\n            return // Don't push during back/forward navigation\n        }\n\n        const last = this.#stack[this.#stack.length - 1]\n        if (!last || last.url !== url) {\n            this.#stack.push({ title, url })\n            this.#saveStack()\n        }\n    }\n\n    popPage() {\n        this.#isPopState = true\n        this.#stack.pop()\n        this.#saveStack()\n    }\n\n    get stack() {\n        return [...this.#stack]\n    }\n\n    get length() {\n        return this.#stack.length\n    }\n\n    get previousPage() {\n        return this.#stack.length >= 2 ? this.#stack[this.#stack.length - 2] : null\n    }\n\n    back(fallbackUrl = null) {\n        window.history.back()\n\n        if (!!fallbackUrl) {\n            setTimeout(() => {\n                window.location.href = fallbackUrl;\n            }, 500);\n        }\n    }\n}\n","import HistoryManager from './helpers/history'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    historyManager.pushPage(document.title)\n})\n\nwindow.historyManager = new HistoryManager()\n"],"names":["HistoryManager","_classCallCheck","_HistoryManager_brand","_classPrivateFieldInitSpec","_stack","_storageKey","_isPopState","_classPrivateFieldSet","this","_assertClassBrand","_loadStack","call","key","value","title","url","arguments","length","undefined","_getCurrentUrl","_classPrivateFieldGet","last","push","_saveStack","pop","get","_toConsumableArray","fallbackUrl","window","history","back","setTimeout","location","href","JSON","parse","sessionStorage","getItem","_unused","setItem","stringify","pathname","search","document","addEventListener","historyManager","pushPage"],"sourceRoot":""}