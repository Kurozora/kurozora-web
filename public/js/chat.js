/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/chat.js":
/*!******************************!*\
  !*** ./resources/js/chat.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _picmo_popup_picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @picmo/popup-picker */ \"./node_modules/@picmo/popup-picker/dist/index.js\");\n/**\n * PicMo is a plain JavaScript emoji picker widget. It can be used in two ways:\n *\n * - As a standalone emoji picker inline in the page. The picker is rendered immediately on the page.\n * - As a popup emoji picker. The popup is triggered by a button or other interactive element.\n *\n * PicMo's emoji data comes from the Emojibase project. The data is cached locally in an IndexedDB database.\n */\n\nvar emojiButton = document.querySelector('.emoji-button');\nwindow.picmo = (0,_picmo_popup_picker__WEBPACK_IMPORTED_MODULE_0__.createPopup)({}, {\n  // The element that triggers the popup\n  triggerElement: emojiButton,\n  // The element to position the picker relative to - often this is also the trigger element,\n  referenceElement: emojiButton,\n  // specify how to position the popup\n  position: 'bottom-start'\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvY2hhdC5qcy5qcyIsIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLElBQUlDLFdBQVcsR0FBR0MsUUFBUSxDQUFDQyxhQUFULENBQXVCLGVBQXZCLENBQWxCO0FBQ0FDLE1BQU0sQ0FBQ0MsS0FBUCxHQUFlTCxnRUFBVyxDQUFDLEVBQUQsRUFBSztFQUMzQjtFQUNBTSxjQUFjLEVBQUVMLFdBRlc7RUFJM0I7RUFDQU0sZ0JBQWdCLEVBQUVOLFdBTFM7RUFPM0I7RUFDQU8sUUFBUSxFQUFFO0FBUmlCLENBQUwsQ0FBMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY2hhdC5qcz81MzAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUGljTW8gaXMgYSBwbGFpbiBKYXZhU2NyaXB0IGVtb2ppIHBpY2tlciB3aWRnZXQuIEl0IGNhbiBiZSB1c2VkIGluIHR3byB3YXlzOlxuICpcbiAqIC0gQXMgYSBzdGFuZGFsb25lIGVtb2ppIHBpY2tlciBpbmxpbmUgaW4gdGhlIHBhZ2UuIFRoZSBwaWNrZXIgaXMgcmVuZGVyZWQgaW1tZWRpYXRlbHkgb24gdGhlIHBhZ2UuXG4gKiAtIEFzIGEgcG9wdXAgZW1vamkgcGlja2VyLiBUaGUgcG9wdXAgaXMgdHJpZ2dlcmVkIGJ5IGEgYnV0dG9uIG9yIG90aGVyIGludGVyYWN0aXZlIGVsZW1lbnQuXG4gKlxuICogUGljTW8ncyBlbW9qaSBkYXRhIGNvbWVzIGZyb20gdGhlIEVtb2ppYmFzZSBwcm9qZWN0LiBUaGUgZGF0YSBpcyBjYWNoZWQgbG9jYWxseSBpbiBhbiBJbmRleGVkREIgZGF0YWJhc2UuXG4gKi9cbmltcG9ydCB7Y3JlYXRlUG9wdXB9IGZyb20gXCJAcGljbW8vcG9wdXAtcGlja2VyXCJcblxubGV0IGVtb2ppQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVtb2ppLWJ1dHRvbicpXG53aW5kb3cucGljbW8gPSBjcmVhdGVQb3B1cCh7fSwge1xuICAgIC8vIFRoZSBlbGVtZW50IHRoYXQgdHJpZ2dlcnMgdGhlIHBvcHVwXG4gICAgdHJpZ2dlckVsZW1lbnQ6IGVtb2ppQnV0dG9uLFxuXG4gICAgLy8gVGhlIGVsZW1lbnQgdG8gcG9zaXRpb24gdGhlIHBpY2tlciByZWxhdGl2ZSB0byAtIG9mdGVuIHRoaXMgaXMgYWxzbyB0aGUgdHJpZ2dlciBlbGVtZW50LFxuICAgIHJlZmVyZW5jZUVsZW1lbnQ6IGVtb2ppQnV0dG9uLFxuXG4gICAgLy8gc3BlY2lmeSBob3cgdG8gcG9zaXRpb24gdGhlIHBvcHVwXG4gICAgcG9zaXRpb246ICdib3R0b20tc3RhcnQnXG59KVxuIl0sIm5hbWVzIjpbImNyZWF0ZVBvcHVwIiwiZW1vamlCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJwaWNtbyIsInRyaWdnZXJFbGVtZW50IiwicmVmZXJlbmNlRWxlbWVudCIsInBvc2l0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/chat.js\n");

/***/ }),

/***/ "./node_modules/@picmo/popup-picker/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@picmo/popup-picker/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PopupPickerController\": () => (/* binding */ ce),\n/* harmony export */   \"createPopup\": () => (/* binding */ ue)\n/* harmony export */ });\n/* harmony import */ var picmo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! picmo */ \"./node_modules/picmo/dist/index.js\");\n\nfunction V(t) {\n  return t.split(\"-\")[0];\n}\nfunction N(t) {\n  return t.split(\"-\")[1];\n}\nfunction K(t) {\n  return [\"top\", \"bottom\"].includes(V(t)) ? \"x\" : \"y\";\n}\nfunction at(t) {\n  return t === \"y\" ? \"height\" : \"width\";\n}\nfunction tt(t, e, n) {\n  let {\n    reference: o,\n    floating: i\n  } = t;\n  const r = o.x + o.width / 2 - i.width / 2, c = o.y + o.height / 2 - i.height / 2, s = K(e), l = at(s), a = o[l] / 2 - i[l] / 2, p = V(e), f = s === \"x\";\n  let u;\n  switch (p) {\n    case \"top\":\n      u = {\n        x: r,\n        y: o.y - i.height\n      };\n      break;\n    case \"bottom\":\n      u = {\n        x: r,\n        y: o.y + o.height\n      };\n      break;\n    case \"right\":\n      u = {\n        x: o.x + o.width,\n        y: c\n      };\n      break;\n    case \"left\":\n      u = {\n        x: o.x - i.width,\n        y: c\n      };\n      break;\n    default:\n      u = {\n        x: o.x,\n        y: o.y\n      };\n  }\n  switch (N(e)) {\n    case \"start\":\n      u[s] -= a * (n && f ? -1 : 1);\n      break;\n    case \"end\":\n      u[s] += a * (n && f ? -1 : 1);\n      break;\n  }\n  return u;\n}\nconst At = async (t, e, n) => {\n  const {\n    placement: o = \"bottom\",\n    strategy: i = \"absolute\",\n    middleware: r = [],\n    platform: c\n  } = n, s = await (c.isRTL == null ? void 0 : c.isRTL(e));\n  let l = await c.getElementRects({\n    reference: t,\n    floating: e,\n    strategy: i\n  }), {\n    x: a,\n    y: p\n  } = tt(l, o, s), f = o, u = {}, h = 0;\n  for (let m = 0; m < r.length; m++) {\n    const {\n      name: d,\n      fn: w\n    } = r[m], {\n      x: y,\n      y: g,\n      data: v,\n      reset: x\n    } = await w({\n      x: a,\n      y: p,\n      initialPlacement: o,\n      placement: f,\n      strategy: i,\n      middlewareData: u,\n      rects: l,\n      platform: c,\n      elements: {\n        reference: t,\n        floating: e\n      }\n    });\n    if (a = y != null ? y : a, p = g != null ? g : p, u = {\n      ...u,\n      [d]: {\n        ...u[d],\n        ...v\n      }\n    }, x && h <= 50) {\n      h++, typeof x == \"object\" && (x.placement && (f = x.placement), x.rects && (l = x.rects === !0 ? await c.getElementRects({\n        reference: t,\n        floating: e,\n        strategy: i\n      }) : x.rects), {\n        x: a,\n        y: p\n      } = tt(l, f, s)), m = -1;\n      continue;\n    }\n  }\n  return {\n    x: a,\n    y: p,\n    placement: f,\n    strategy: i,\n    middlewareData: u\n  };\n};\nfunction Pt(t) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...t\n  };\n}\nfunction Ot(t) {\n  return typeof t != \"number\" ? Pt(t) : {\n    top: t,\n    right: t,\n    bottom: t,\n    left: t\n  };\n}\nfunction I(t) {\n  return {\n    ...t,\n    top: t.y,\n    left: t.x,\n    right: t.x + t.width,\n    bottom: t.y + t.height\n  };\n}\nasync function Q(t, e) {\n  var n;\n  e === void 0 && (e = {});\n  const {\n    x: o,\n    y: i,\n    platform: r,\n    rects: c,\n    elements: s,\n    strategy: l\n  } = t, {\n    boundary: a = \"clippingAncestors\",\n    rootBoundary: p = \"viewport\",\n    elementContext: f = \"floating\",\n    altBoundary: u = !1,\n    padding: h = 0\n  } = e, m = Ot(h), w = s[u ? f === \"floating\" ? \"reference\" : \"floating\" : f], y = I(await r.getClippingRect({\n    element: (n = await (r.isElement == null ? void 0 : r.isElement(w))) == null || n ? w : w.contextElement || await (r.getDocumentElement == null ? void 0 : r.getDocumentElement(s.floating)),\n    boundary: a,\n    rootBoundary: p,\n    strategy: l\n  })), g = I(r.convertOffsetParentRelativeRectToViewportRelativeRect ? await r.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect: f === \"floating\" ? {\n      ...c.floating,\n      x: o,\n      y: i\n    } : c.reference,\n    offsetParent: await (r.getOffsetParent == null ? void 0 : r.getOffsetParent(s.floating)),\n    strategy: l\n  }) : c[f]);\n  return {\n    top: y.top - g.top + m.top,\n    bottom: g.bottom - y.bottom + m.bottom,\n    left: y.left - g.left + m.left,\n    right: g.right - y.right + m.right\n  };\n}\nconst Lt = Math.min, Rt = Math.max;\nfunction et(t, e, n) {\n  return Rt(t, Lt(e, n));\n}\nconst kt = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nfunction z(t) {\n  return t.replace(/left|right|bottom|top/g, (e) => kt[e]);\n}\nfunction ft(t, e, n) {\n  n === void 0 && (n = !1);\n  const o = N(t), i = K(t), r = at(i);\n  let c = i === \"x\" ? o === (n ? \"end\" : \"start\") ? \"right\" : \"left\" : o === \"start\" ? \"bottom\" : \"top\";\n  return e.reference[r] > e.floating[r] && (c = z(c)), {\n    main: c,\n    cross: z(c)\n  };\n}\nconst Tt = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction G(t) {\n  return t.replace(/start|end/g, (e) => Tt[e]);\n}\nconst Bt = [\"top\", \"right\", \"bottom\", \"left\"], St = /* @__PURE__ */ Bt.reduce((t, e) => t.concat(e, e + \"-start\", e + \"-end\"), []);\nfunction Dt(t, e, n) {\n  return (t ? [...n.filter((i) => N(i) === t), ...n.filter((i) => N(i) !== t)] : n.filter((i) => V(i) === i)).filter((i) => t ? N(i) === t || (e ? G(i) !== i : !1) : !0);\n}\nconst Vt = function(t) {\n  return t === void 0 && (t = {}), {\n    name: \"autoPlacement\",\n    options: t,\n    async fn(e) {\n      var n, o, i, r, c;\n      const {\n        x: s,\n        y: l,\n        rects: a,\n        middlewareData: p,\n        placement: f,\n        platform: u,\n        elements: h\n      } = e, {\n        alignment: m = null,\n        allowedPlacements: d = St,\n        autoAlignment: w = !0,\n        ...y\n      } = t, g = Dt(m, w, d), v = await Q(e, y), x = (n = (o = p.autoPlacement) == null ? void 0 : o.index) != null ? n : 0, b = g[x];\n      if (b == null)\n        return {};\n      const {\n        main: H,\n        cross: j\n      } = ft(b, a, await (u.isRTL == null ? void 0 : u.isRTL(h.floating)));\n      if (f !== b)\n        return {\n          x: s,\n          y: l,\n          reset: {\n            placement: g[0]\n          }\n        };\n      const _ = [v[V(b)], v[H], v[j]], E = [...(i = (r = p.autoPlacement) == null ? void 0 : r.overflows) != null ? i : [], {\n        placement: b,\n        overflows: _\n      }], B = g[x + 1];\n      if (B)\n        return {\n          data: {\n            index: x + 1,\n            overflows: E\n          },\n          reset: {\n            placement: B\n          }\n        };\n      const S = E.slice().sort((P, W) => P.overflows[0] - W.overflows[0]), $ = (c = S.find((P) => {\n        let {\n          overflows: W\n        } = P;\n        return W.every((yt) => yt <= 0);\n      })) == null ? void 0 : c.placement, D = $ != null ? $ : S[0].placement;\n      return D !== f ? {\n        data: {\n          index: x + 1,\n          overflows: E\n        },\n        reset: {\n          placement: D\n        }\n      } : {};\n    }\n  };\n};\nfunction Nt(t) {\n  const e = z(t);\n  return [G(t), e, G(e)];\n}\nconst Ft = function(t) {\n  return t === void 0 && (t = {}), {\n    name: \"flip\",\n    options: t,\n    async fn(e) {\n      var n;\n      const {\n        placement: o,\n        middlewareData: i,\n        rects: r,\n        initialPlacement: c,\n        platform: s,\n        elements: l\n      } = e, {\n        mainAxis: a = !0,\n        crossAxis: p = !0,\n        fallbackPlacements: f,\n        fallbackStrategy: u = \"bestFit\",\n        flipAlignment: h = !0,\n        ...m\n      } = t, d = V(o), y = f || (d === c || !h ? [z(c)] : Nt(c)), g = [c, ...y], v = await Q(e, m), x = [];\n      let b = ((n = i.flip) == null ? void 0 : n.overflows) || [];\n      if (a && x.push(v[d]), p) {\n        const {\n          main: E,\n          cross: B\n        } = ft(o, r, await (s.isRTL == null ? void 0 : s.isRTL(l.floating)));\n        x.push(v[E], v[B]);\n      }\n      if (b = [...b, {\n        placement: o,\n        overflows: x\n      }], !x.every((E) => E <= 0)) {\n        var H, j;\n        const E = ((H = (j = i.flip) == null ? void 0 : j.index) != null ? H : 0) + 1, B = g[E];\n        if (B)\n          return {\n            data: {\n              index: E,\n              overflows: b\n            },\n            reset: {\n              placement: B\n            }\n          };\n        let S = \"bottom\";\n        switch (u) {\n          case \"bestFit\": {\n            var _;\n            const $ = (_ = b.map((D) => [D, D.overflows.filter((P) => P > 0).reduce((P, W) => P + W, 0)]).sort((D, P) => D[1] - P[1])[0]) == null ? void 0 : _[0].placement;\n            $ && (S = $);\n            break;\n          }\n          case \"initialPlacement\":\n            S = c;\n            break;\n        }\n        if (o !== S)\n          return {\n            reset: {\n              placement: S\n            }\n          };\n      }\n      return {};\n    }\n  };\n};\nasync function $t(t, e) {\n  const {\n    placement: n,\n    platform: o,\n    elements: i\n  } = t, r = await (o.isRTL == null ? void 0 : o.isRTL(i.floating)), c = V(n), s = N(n), l = K(n) === \"x\", a = [\"left\", \"top\"].includes(c) ? -1 : 1, p = r && l ? -1 : 1, f = typeof e == \"function\" ? e(t) : e;\n  let {\n    mainAxis: u,\n    crossAxis: h,\n    alignmentAxis: m\n  } = typeof f == \"number\" ? {\n    mainAxis: f,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...f\n  };\n  return s && typeof m == \"number\" && (h = s === \"end\" ? m * -1 : m), l ? {\n    x: h * p,\n    y: u * a\n  } : {\n    x: u * a,\n    y: h * p\n  };\n}\nconst nt = function(t) {\n  return t === void 0 && (t = 0), {\n    name: \"offset\",\n    options: t,\n    async fn(e) {\n      const {\n        x: n,\n        y: o\n      } = e, i = await $t(e, t);\n      return {\n        x: n + i.x,\n        y: o + i.y,\n        data: i\n      };\n    }\n  };\n};\nfunction Wt(t) {\n  return t === \"x\" ? \"y\" : \"x\";\n}\nconst it = function(t) {\n  return t === void 0 && (t = {}), {\n    name: \"shift\",\n    options: t,\n    async fn(e) {\n      const {\n        x: n,\n        y: o,\n        placement: i\n      } = e, {\n        mainAxis: r = !0,\n        crossAxis: c = !1,\n        limiter: s = {\n          fn: (w) => {\n            let {\n              x: y,\n              y: g\n            } = w;\n            return {\n              x: y,\n              y: g\n            };\n          }\n        },\n        ...l\n      } = t, a = {\n        x: n,\n        y: o\n      }, p = await Q(e, l), f = K(V(i)), u = Wt(f);\n      let h = a[f], m = a[u];\n      if (r) {\n        const w = f === \"y\" ? \"top\" : \"left\", y = f === \"y\" ? \"bottom\" : \"right\", g = h + p[w], v = h - p[y];\n        h = et(g, h, v);\n      }\n      if (c) {\n        const w = u === \"y\" ? \"top\" : \"left\", y = u === \"y\" ? \"bottom\" : \"right\", g = m + p[w], v = m - p[y];\n        m = et(g, m, v);\n      }\n      const d = s.fn({\n        ...e,\n        [f]: h,\n        [u]: m\n      });\n      return {\n        ...d,\n        data: {\n          x: d.x - n,\n          y: d.y - o\n        }\n      };\n    }\n  };\n};\nfunction ut(t) {\n  return t && t.document && t.location && t.alert && t.setInterval;\n}\nfunction R(t) {\n  if (t == null)\n    return window;\n  if (!ut(t)) {\n    const e = t.ownerDocument;\n    return e && e.defaultView || window;\n  }\n  return t;\n}\nfunction C(t) {\n  return R(t).getComputedStyle(t);\n}\nfunction O(t) {\n  return ut(t) ? \"\" : t ? (t.nodeName || \"\").toLowerCase() : \"\";\n}\nfunction pt() {\n  const t = navigator.userAgentData;\n  return t != null && t.brands ? t.brands.map((e) => e.brand + \"/\" + e.version).join(\" \") : navigator.userAgent;\n}\nfunction A(t) {\n  return t instanceof R(t).HTMLElement;\n}\nfunction k(t) {\n  return t instanceof R(t).Element;\n}\nfunction Mt(t) {\n  return t instanceof R(t).Node;\n}\nfunction F(t) {\n  if (typeof ShadowRoot > \"u\")\n    return !1;\n  const e = R(t).ShadowRoot;\n  return t instanceof e || t instanceof ShadowRoot;\n}\nfunction U(t) {\n  const {\n    overflow: e,\n    overflowX: n,\n    overflowY: o\n  } = C(t);\n  return /auto|scroll|overlay|hidden/.test(e + o + n);\n}\nfunction Ht(t) {\n  return [\"table\", \"td\", \"th\"].includes(O(t));\n}\nfunction dt(t) {\n  const e = /firefox/i.test(pt()), n = C(t);\n  return n.transform !== \"none\" || n.perspective !== \"none\" || n.contain === \"paint\" || [\"transform\", \"perspective\"].includes(n.willChange) || e && n.willChange === \"filter\" || e && (n.filter ? n.filter !== \"none\" : !1);\n}\nfunction ht() {\n  return !/^((?!chrome|android).)*safari/i.test(pt());\n}\nconst ot = Math.min, M = Math.max, X = Math.round;\nfunction L(t, e, n) {\n  var o, i, r, c;\n  e === void 0 && (e = !1), n === void 0 && (n = !1);\n  const s = t.getBoundingClientRect();\n  let l = 1, a = 1;\n  e && A(t) && (l = t.offsetWidth > 0 && X(s.width) / t.offsetWidth || 1, a = t.offsetHeight > 0 && X(s.height) / t.offsetHeight || 1);\n  const p = k(t) ? R(t) : window, f = !ht() && n, u = (s.left + (f && (o = (i = p.visualViewport) == null ? void 0 : i.offsetLeft) != null ? o : 0)) / l, h = (s.top + (f && (r = (c = p.visualViewport) == null ? void 0 : c.offsetTop) != null ? r : 0)) / a, m = s.width / l, d = s.height / a;\n  return {\n    width: m,\n    height: d,\n    top: h,\n    right: u + m,\n    bottom: h + d,\n    left: u,\n    x: u,\n    y: h\n  };\n}\nfunction T(t) {\n  return ((Mt(t) ? t.ownerDocument : t.document) || window.document).documentElement;\n}\nfunction q(t) {\n  return k(t) ? {\n    scrollLeft: t.scrollLeft,\n    scrollTop: t.scrollTop\n  } : {\n    scrollLeft: t.pageXOffset,\n    scrollTop: t.pageYOffset\n  };\n}\nfunction mt(t) {\n  return L(T(t)).left + q(t).scrollLeft;\n}\nfunction jt(t) {\n  const e = L(t);\n  return X(e.width) !== t.offsetWidth || X(e.height) !== t.offsetHeight;\n}\nfunction _t(t, e, n) {\n  const o = A(e), i = T(e), r = L(\n    t,\n    o && jt(e),\n    n === \"fixed\"\n  );\n  let c = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const s = {\n    x: 0,\n    y: 0\n  };\n  if (o || !o && n !== \"fixed\")\n    if ((O(e) !== \"body\" || U(i)) && (c = q(e)), A(e)) {\n      const l = L(e, !0);\n      s.x = l.x + e.clientLeft, s.y = l.y + e.clientTop;\n    } else\n      i && (s.x = mt(i));\n  return {\n    x: r.left + c.scrollLeft - s.x,\n    y: r.top + c.scrollTop - s.y,\n    width: r.width,\n    height: r.height\n  };\n}\nfunction gt(t) {\n  return O(t) === \"html\" ? t : t.assignedSlot || t.parentNode || (F(t) ? t.host : null) || T(t);\n}\nfunction st(t) {\n  return !A(t) || C(t).position === \"fixed\" ? null : It(t);\n}\nfunction It(t) {\n  let {\n    offsetParent: e\n  } = t, n = t, o = !1;\n  for (; n && n !== e; ) {\n    const {\n      assignedSlot: i\n    } = n;\n    if (i) {\n      let r = i.offsetParent;\n      if (C(i).display === \"contents\") {\n        const c = i.hasAttribute(\"style\"), s = i.style.display;\n        i.style.display = C(n).display, r = i.offsetParent, i.style.display = s, c || i.removeAttribute(\"style\");\n      }\n      n = i, e !== r && (e = r, o = !0);\n    } else if (F(n) && n.host && o)\n      break;\n    n = F(n) && n.host || n.parentNode;\n  }\n  return e;\n}\nfunction zt(t) {\n  let e = gt(t);\n  for (F(e) && (e = e.host); A(e) && ![\"html\", \"body\"].includes(O(e)); ) {\n    if (dt(e))\n      return e;\n    {\n      const n = e.parentNode;\n      e = F(n) ? n.host : n;\n    }\n  }\n  return null;\n}\nfunction J(t) {\n  const e = R(t);\n  let n = st(t);\n  for (; n && Ht(n) && C(n).position === \"static\"; )\n    n = st(n);\n  return n && (O(n) === \"html\" || O(n) === \"body\" && C(n).position === \"static\" && !dt(n)) ? e : n || zt(t) || e;\n}\nfunction rt(t) {\n  if (A(t))\n    return {\n      width: t.offsetWidth,\n      height: t.offsetHeight\n    };\n  const e = L(t);\n  return {\n    width: e.width,\n    height: e.height\n  };\n}\nfunction Xt(t) {\n  let {\n    rect: e,\n    offsetParent: n,\n    strategy: o\n  } = t;\n  const i = A(n), r = T(n);\n  if (n === r)\n    return e;\n  let c = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const s = {\n    x: 0,\n    y: 0\n  };\n  if ((i || !i && o !== \"fixed\") && ((O(n) !== \"body\" || U(r)) && (c = q(n)), A(n))) {\n    const l = L(n, !0);\n    s.x = l.x + n.clientLeft, s.y = l.y + n.clientTop;\n  }\n  return {\n    ...e,\n    x: e.x - c.scrollLeft + s.x,\n    y: e.y - c.scrollTop + s.y\n  };\n}\nfunction Yt(t, e) {\n  const n = R(t), o = T(t), i = n.visualViewport;\n  let r = o.clientWidth, c = o.clientHeight, s = 0, l = 0;\n  if (i) {\n    r = i.width, c = i.height;\n    const a = ht();\n    (a || !a && e === \"fixed\") && (s = i.offsetLeft, l = i.offsetTop);\n  }\n  return {\n    width: r,\n    height: c,\n    x: s,\n    y: l\n  };\n}\nfunction Kt(t) {\n  var e;\n  const n = T(t), o = q(t), i = (e = t.ownerDocument) == null ? void 0 : e.body, r = M(n.scrollWidth, n.clientWidth, i ? i.scrollWidth : 0, i ? i.clientWidth : 0), c = M(n.scrollHeight, n.clientHeight, i ? i.scrollHeight : 0, i ? i.clientHeight : 0);\n  let s = -o.scrollLeft + mt(t);\n  const l = -o.scrollTop;\n  return C(i || n).direction === \"rtl\" && (s += M(n.clientWidth, i ? i.clientWidth : 0) - r), {\n    width: r,\n    height: c,\n    x: s,\n    y: l\n  };\n}\nfunction wt(t) {\n  const e = gt(t);\n  return [\"html\", \"body\", \"#document\"].includes(O(e)) ? t.ownerDocument.body : A(e) && U(e) ? e : wt(e);\n}\nfunction Y(t, e) {\n  var n;\n  e === void 0 && (e = []);\n  const o = wt(t), i = o === ((n = t.ownerDocument) == null ? void 0 : n.body), r = R(o), c = i ? [r].concat(r.visualViewport || [], U(o) ? o : []) : o, s = e.concat(c);\n  return i ? s : s.concat(Y(c));\n}\nfunction Ut(t, e) {\n  const n = e.getRootNode == null ? void 0 : e.getRootNode();\n  if (t.contains(e))\n    return !0;\n  if (n && F(n)) {\n    let o = e;\n    do {\n      if (o && t === o)\n        return !0;\n      o = o.parentNode || o.host;\n    } while (o);\n  }\n  return !1;\n}\nfunction qt(t, e) {\n  const n = L(t, !1, e === \"fixed\"), o = n.top + t.clientTop, i = n.left + t.clientLeft;\n  return {\n    top: o,\n    left: i,\n    x: i,\n    y: o,\n    right: i + t.clientWidth,\n    bottom: o + t.clientHeight,\n    width: t.clientWidth,\n    height: t.clientHeight\n  };\n}\nfunction ct(t, e, n) {\n  return e === \"viewport\" ? I(Yt(t, n)) : k(e) ? qt(e, n) : I(Kt(T(t)));\n}\nfunction Gt(t) {\n  const e = Y(t), o = [\"absolute\", \"fixed\"].includes(C(t).position) && A(t) ? J(t) : t;\n  return k(o) ? e.filter((i) => k(i) && Ut(i, o) && O(i) !== \"body\") : [];\n}\nfunction Jt(t) {\n  let {\n    element: e,\n    boundary: n,\n    rootBoundary: o,\n    strategy: i\n  } = t;\n  const c = [...n === \"clippingAncestors\" ? Gt(e) : [].concat(n), o], s = c[0], l = c.reduce((a, p) => {\n    const f = ct(e, p, i);\n    return a.top = M(f.top, a.top), a.right = ot(f.right, a.right), a.bottom = ot(f.bottom, a.bottom), a.left = M(f.left, a.left), a;\n  }, ct(e, s, i));\n  return {\n    width: l.right - l.left,\n    height: l.bottom - l.top,\n    x: l.left,\n    y: l.top\n  };\n}\nconst Qt = {\n  getClippingRect: Jt,\n  convertOffsetParentRelativeRectToViewportRelativeRect: Xt,\n  isElement: k,\n  getDimensions: rt,\n  getOffsetParent: J,\n  getDocumentElement: T,\n  getElementRects: (t) => {\n    let {\n      reference: e,\n      floating: n,\n      strategy: o\n    } = t;\n    return {\n      reference: _t(e, J(n), o),\n      floating: {\n        ...rt(n),\n        x: 0,\n        y: 0\n      }\n    };\n  },\n  getClientRects: (t) => Array.from(t.getClientRects()),\n  isRTL: (t) => C(t).direction === \"rtl\"\n};\nfunction Zt(t, e, n, o) {\n  o === void 0 && (o = {});\n  const {\n    ancestorScroll: i = !0,\n    ancestorResize: r = !0,\n    elementResize: c = !0,\n    animationFrame: s = !1\n  } = o, l = i && !s, a = r && !s, p = l || a ? [...k(t) ? Y(t) : [], ...Y(e)] : [];\n  p.forEach((d) => {\n    l && d.addEventListener(\"scroll\", n, {\n      passive: !0\n    }), a && d.addEventListener(\"resize\", n);\n  });\n  let f = null;\n  if (c) {\n    let d = !0;\n    f = new ResizeObserver(() => {\n      d || n(), d = !1;\n    }), k(t) && !s && f.observe(t), f.observe(e);\n  }\n  let u, h = s ? L(t) : null;\n  s && m();\n  function m() {\n    const d = L(t);\n    h && (d.x !== h.x || d.y !== h.y || d.width !== h.width || d.height !== h.height) && n(), h = d, u = requestAnimationFrame(m);\n  }\n  return n(), () => {\n    var d;\n    p.forEach((w) => {\n      l && w.removeEventListener(\"scroll\", n), a && w.removeEventListener(\"resize\", n);\n    }), (d = f) == null || d.disconnect(), f = null, s && cancelAnimationFrame(u);\n  };\n}\nconst te = (t, e, n) => At(t, e, {\n  platform: Qt,\n  ...n\n});\nasync function ee(t, e, n) {\n  if (!n)\n    throw new Error(\"Must provide a positioning option\");\n  return await (typeof n == \"string\" ? ne(t, e, n) : ie(t, n));\n}\nasync function ne(t, e, n) {\n  if (!e)\n    throw new Error(\"Reference element is required for relative positioning\");\n  let o;\n  return n === \"auto\" ? o = {\n    middleware: [\n      Vt(),\n      it(),\n      nt({ mainAxis: 5, crossAxis: 12 })\n    ]\n  } : o = {\n    placement: n,\n    middleware: [\n      Ft(),\n      it(),\n      nt(5)\n    ]\n  }, Zt(e, t, async () => {\n    const { x: i, y: r } = await te(e, t, o);\n    Object.assign(t.style, {\n      position: \"absolute\",\n      left: `${i}px`,\n      top: `${r}px`\n    });\n  });\n}\nfunction ie(t, e) {\n  return t.style.position = \"fixed\", Object.entries(e).forEach(([n, o]) => {\n    t.style[n] = o;\n  }), () => {\n  };\n}\nconst oe = {\n  hideOnClickOutside: !0,\n  hideOnEmojiSelect: !0,\n  hideOnEscape: !0,\n  position: \"auto\",\n  showCloseButton: !0\n};\nfunction se(t = {}) {\n  return {\n    ...oe,\n    rootElement: document.body,\n    ...t\n  };\n}\nconst re = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg>', lt = {\n  popupContainer: \"popupContainer\",\n  closeButton: \"closeButton\"\n};\nclass ce {\n  constructor(e, n) {\n    this.isOpen = !1, this.externalEvents = new picmo__WEBPACK_IMPORTED_MODULE_0__.Events(), this.options = { ...se(n), ...(0,picmo__WEBPACK_IMPORTED_MODULE_0__.getOptions)(e) }, this.popupEl = document.createElement(\"div\"), this.popupEl.classList.add(lt.popupContainer), this.popupEl.classList.add(this.options.theme), n.className && this.popupEl.classList.add(n.className), this.options.showCloseButton && (this.closeButton = document.createElement(\"button\"), this.closeButton.type = \"button\", this.closeButton.classList.add(lt.closeButton), this.closeButton.innerHTML = re, this.popupEl.appendChild(this.closeButton));\n    const o = document.createElement(\"div\");\n    this.popupEl.appendChild(o), this.picker = (0,picmo__WEBPACK_IMPORTED_MODULE_0__.createPicker)({ ...this.options, rootElement: o }), this.focusTrap = new picmo__WEBPACK_IMPORTED_MODULE_0__.FocusTrap(), this.picker.addEventListener(\"data:ready\", () => {\n      this.focusTrap.activate(this.picker.el), this.picker.setInitialFocus();\n    }), this.options.hideOnEmojiSelect && this.picker.addEventListener(\"emoji:select\", () => {\n      var i;\n      this.close(), (i = this.triggerElement) == null || i.focus();\n    }), this.options.hideOnClickOutside && (this.onDocumentClick = this.onDocumentClick.bind(this), document.addEventListener(\"click\", this.onDocumentClick)), this.options.hideOnEscape && (this.handleKeydown = this.handleKeydown.bind(this), this.popupEl.addEventListener(\"keydown\", this.handleKeydown)), this.referenceElement = this.options.referenceElement, this.triggerElement = this.options.triggerElement;\n  }\n  addEventListener(e, n) {\n    this.externalEvents.on(e, n), this.picker.addEventListener(e, n);\n  }\n  removeEventListener(e, n) {\n    this.externalEvents.off(e, n), this.picker.removeEventListener(e, n);\n  }\n  handleKeydown(e) {\n    var n;\n    e.key === \"Escape\" && (this.close(), (n = this.triggerElement) == null || n.focus());\n  }\n  async destroy() {\n    this.isOpen && await this.close(), document.removeEventListener(\"click\", this.onDocumentClick), this.picker.destroy(), this.externalEvents.removeAll();\n  }\n  toggle(e) {\n    return this.isOpen ? this.close() : this.open(e);\n  }\n  async open({ triggerElement: e, referenceElement: n } = {}) {\n    this.isOpen || (e && (this.triggerElement = e), n && (this.referenceElement = n), await this.initiateOpenStateChange(!0), this.popupEl.style.opacity = \"0\", this.options.rootElement.appendChild(this.popupEl), await this.setPosition(), this.picker.reset(!1), await this.animatePopup(!0), await this.animateCloseButton(!0), this.picker.setInitialFocus(), this.externalEvents.emit(\"picker:open\"));\n  }\n  async close() {\n    var e;\n    !this.isOpen || (await this.initiateOpenStateChange(!1), await this.animateCloseButton(!1), await this.animatePopup(!1), this.popupEl.remove(), this.picker.reset(), (e = this.positionCleanup) == null || e.call(this), this.focusTrap.deactivate(), this.externalEvents.emit(\"picker:close\"));\n  }\n  getRunningAnimations() {\n    return this.picker.el.getAnimations().filter((e) => e.playState === \"running\");\n  }\n  async setPosition() {\n    var e;\n    (e = this.positionCleanup) == null || e.call(this), this.positionCleanup = await ee(\n      this.popupEl,\n      this.referenceElement,\n      this.options.position\n    );\n  }\n  awaitPendingAnimations() {\n    return Promise.all(this.getRunningAnimations().map((e) => e.finished));\n  }\n  onDocumentClick(e) {\n    var i;\n    const n = e.target, o = (i = this.triggerElement) == null ? void 0 : i.contains(n);\n    this.isOpen && !this.picker.isPickerClick(e) && !o && this.close();\n  }\n  animatePopup(e) {\n    return (0,picmo__WEBPACK_IMPORTED_MODULE_0__.animate)(\n      this.popupEl,\n      {\n        opacity: [0, 1],\n        transform: [\"scale(0.9)\", \"scale(1)\"]\n      },\n      {\n        duration: 150,\n        id: e ? \"show-picker\" : \"hide-picker\",\n        easing: \"ease-in-out\",\n        direction: e ? \"normal\" : \"reverse\",\n        fill: \"both\"\n      },\n      this.options\n    );\n  }\n  animateCloseButton(e) {\n    if (this.closeButton)\n      return (0,picmo__WEBPACK_IMPORTED_MODULE_0__.animate)(\n        this.closeButton,\n        {\n          opacity: [0, 1]\n        },\n        {\n          duration: 25,\n          id: e ? \"show-close\" : \"hide-close\",\n          easing: \"ease-in-out\",\n          direction: e ? \"normal\" : \"reverse\",\n          fill: \"both\"\n        },\n        this.options\n      );\n  }\n  async initiateOpenStateChange(e) {\n    this.isOpen = e, await this.awaitPendingAnimations();\n  }\n}\nconst le = `.popupContainer{display:flex;flex-direction:column;position:absolute}.popupContainer .closeButton{position:absolute;opacity:0;background:transparent;border:none;z-index:1;right:0;top:0;cursor:pointer;padding:4px;align-self:flex-end;transform:translate(50%,-50%);background:#999999;width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center;border-radius:50%}.popupContainer .closeButton:hover{background:var(--accent-color)}.popupContainer .closeButton svg{fill:#fff;width:1.25rem;height:1.25rem}\n`, ae = (0,picmo__WEBPACK_IMPORTED_MODULE_0__.createStyleInjector)();\nfunction ue(t, e) {\n  return ae(le), new ce({\n    autoFocus: \"auto\",\n    ...t\n  }, e);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHBpY21vL3BvcHVwLXBpY2tlci9kaXN0L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxSTtBQUNySTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSSw0QkFBNEI7QUFDaEMsa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFNBQVMsY0FBYztBQUN2QjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDBDQUEwQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBDQUEwQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QztBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakIsY0FBYyxFQUFFO0FBQ2hCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx5Q0FBRSxxQkFBcUIsYUFBYSxpREFBRSxLQUFLO0FBQzNGO0FBQ0EsK0NBQStDLG1EQUFFLEdBQUcsaUNBQWlDLHdCQUF3Qiw0Q0FBRTtBQUMvRztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHlDQUF5QyxJQUFJO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhDQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhDQUFDO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLHNCQUFzQixrQkFBa0IsNkJBQTZCLGtCQUFrQixVQUFVLHVCQUF1QixZQUFZLFVBQVUsUUFBUSxNQUFNLGVBQWUsWUFBWSxvQkFBb0IsOEJBQThCLG1CQUFtQixhQUFhLGNBQWMsYUFBYSxtQkFBbUIsdUJBQXVCLGtCQUFrQixtQ0FBbUMsK0JBQStCLGlDQUFpQyxVQUFVLGNBQWM7QUFDcGdCLFFBQVEsMERBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaWNtby9wb3B1cC1waWNrZXIvZGlzdC9pbmRleC5qcz8wNjljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50cyBhcyB4dCwgZ2V0T3B0aW9ucyBhcyB2dCwgY3JlYXRlUGlja2VyIGFzIGJ0LCBGb2N1c1RyYXAgYXMgRXQsIGFuaW1hdGUgYXMgWiwgY3JlYXRlU3R5bGVJbmplY3RvciBhcyBDdCB9IGZyb20gXCJwaWNtb1wiO1xuZnVuY3Rpb24gVih0KSB7XG4gIHJldHVybiB0LnNwbGl0KFwiLVwiKVswXTtcbn1cbmZ1bmN0aW9uIE4odCkge1xuICByZXR1cm4gdC5zcGxpdChcIi1cIilbMV07XG59XG5mdW5jdGlvbiBLKHQpIHtcbiAgcmV0dXJuIFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhWKHQpKSA/IFwieFwiIDogXCJ5XCI7XG59XG5mdW5jdGlvbiBhdCh0KSB7XG4gIHJldHVybiB0ID09PSBcInlcIiA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG59XG5mdW5jdGlvbiB0dCh0LCBlLCBuKSB7XG4gIGxldCB7XG4gICAgcmVmZXJlbmNlOiBvLFxuICAgIGZsb2F0aW5nOiBpXG4gIH0gPSB0O1xuICBjb25zdCByID0gby54ICsgby53aWR0aCAvIDIgLSBpLndpZHRoIC8gMiwgYyA9IG8ueSArIG8uaGVpZ2h0IC8gMiAtIGkuaGVpZ2h0IC8gMiwgcyA9IEsoZSksIGwgPSBhdChzKSwgYSA9IG9bbF0gLyAyIC0gaVtsXSAvIDIsIHAgPSBWKGUpLCBmID0gcyA9PT0gXCJ4XCI7XG4gIGxldCB1O1xuICBzd2l0Y2ggKHApIHtcbiAgICBjYXNlIFwidG9wXCI6XG4gICAgICB1ID0ge1xuICAgICAgICB4OiByLFxuICAgICAgICB5OiBvLnkgLSBpLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgIHUgPSB7XG4gICAgICAgIHg6IHIsXG4gICAgICAgIHk6IG8ueSArIG8uaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICB1ID0ge1xuICAgICAgICB4OiBvLnggKyBvLndpZHRoLFxuICAgICAgICB5OiBjXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIHUgPSB7XG4gICAgICAgIHg6IG8ueCAtIGkud2lkdGgsXG4gICAgICAgIHk6IGNcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdSA9IHtcbiAgICAgICAgeDogby54LFxuICAgICAgICB5OiBvLnlcbiAgICAgIH07XG4gIH1cbiAgc3dpdGNoIChOKGUpKSB7XG4gICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICB1W3NdIC09IGEgKiAobiAmJiBmID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgIHVbc10gKz0gYSAqIChuICYmIGYgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHU7XG59XG5jb25zdCBBdCA9IGFzeW5jICh0LCBlLCBuKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQ6IG8gPSBcImJvdHRvbVwiLFxuICAgIHN0cmF0ZWd5OiBpID0gXCJhYnNvbHV0ZVwiLFxuICAgIG1pZGRsZXdhcmU6IHIgPSBbXSxcbiAgICBwbGF0Zm9ybTogY1xuICB9ID0gbiwgcyA9IGF3YWl0IChjLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBjLmlzUlRMKGUpKTtcbiAgbGV0IGwgPSBhd2FpdCBjLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgcmVmZXJlbmNlOiB0LFxuICAgIGZsb2F0aW5nOiBlLFxuICAgIHN0cmF0ZWd5OiBpXG4gIH0pLCB7XG4gICAgeDogYSxcbiAgICB5OiBwXG4gIH0gPSB0dChsLCBvLCBzKSwgZiA9IG8sIHUgPSB7fSwgaCA9IDA7XG4gIGZvciAobGV0IG0gPSAwOyBtIDwgci5sZW5ndGg7IG0rKykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWU6IGQsXG4gICAgICBmbjogd1xuICAgIH0gPSByW21dLCB7XG4gICAgICB4OiB5LFxuICAgICAgeTogZyxcbiAgICAgIGRhdGE6IHYsXG4gICAgICByZXNldDogeFxuICAgIH0gPSBhd2FpdCB3KHtcbiAgICAgIHg6IGEsXG4gICAgICB5OiBwLFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogbyxcbiAgICAgIHBsYWNlbWVudDogZixcbiAgICAgIHN0cmF0ZWd5OiBpLFxuICAgICAgbWlkZGxld2FyZURhdGE6IHUsXG4gICAgICByZWN0czogbCxcbiAgICAgIHBsYXRmb3JtOiBjLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlOiB0LFxuICAgICAgICBmbG9hdGluZzogZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChhID0geSAhPSBudWxsID8geSA6IGEsIHAgPSBnICE9IG51bGwgPyBnIDogcCwgdSA9IHtcbiAgICAgIC4uLnUsXG4gICAgICBbZF06IHtcbiAgICAgICAgLi4udVtkXSxcbiAgICAgICAgLi4udlxuICAgICAgfVxuICAgIH0sIHggJiYgaCA8PSA1MCkge1xuICAgICAgaCsrLCB0eXBlb2YgeCA9PSBcIm9iamVjdFwiICYmICh4LnBsYWNlbWVudCAmJiAoZiA9IHgucGxhY2VtZW50KSwgeC5yZWN0cyAmJiAobCA9IHgucmVjdHMgPT09ICEwID8gYXdhaXQgYy5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICByZWZlcmVuY2U6IHQsXG4gICAgICAgIGZsb2F0aW5nOiBlLFxuICAgICAgICBzdHJhdGVneTogaVxuICAgICAgfSkgOiB4LnJlY3RzKSwge1xuICAgICAgICB4OiBhLFxuICAgICAgICB5OiBwXG4gICAgICB9ID0gdHQobCwgZiwgcykpLCBtID0gLTE7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiBhLFxuICAgIHk6IHAsXG4gICAgcGxhY2VtZW50OiBmLFxuICAgIHN0cmF0ZWd5OiBpLFxuICAgIG1pZGRsZXdhcmVEYXRhOiB1XG4gIH07XG59O1xuZnVuY3Rpb24gUHQodCkge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMCxcbiAgICAuLi50XG4gIH07XG59XG5mdW5jdGlvbiBPdCh0KSB7XG4gIHJldHVybiB0eXBlb2YgdCAhPSBcIm51bWJlclwiID8gUHQodCkgOiB7XG4gICAgdG9wOiB0LFxuICAgIHJpZ2h0OiB0LFxuICAgIGJvdHRvbTogdCxcbiAgICBsZWZ0OiB0XG4gIH07XG59XG5mdW5jdGlvbiBJKHQpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi50LFxuICAgIHRvcDogdC55LFxuICAgIGxlZnQ6IHQueCxcbiAgICByaWdodDogdC54ICsgdC53aWR0aCxcbiAgICBib3R0b206IHQueSArIHQuaGVpZ2h0XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBRKHQsIGUpIHtcbiAgdmFyIG47XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IHt9KTtcbiAgY29uc3Qge1xuICAgIHg6IG8sXG4gICAgeTogaSxcbiAgICBwbGF0Zm9ybTogcixcbiAgICByZWN0czogYyxcbiAgICBlbGVtZW50czogcyxcbiAgICBzdHJhdGVneTogbFxuICB9ID0gdCwge1xuICAgIGJvdW5kYXJ5OiBhID0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiLFxuICAgIHJvb3RCb3VuZGFyeTogcCA9IFwidmlld3BvcnRcIixcbiAgICBlbGVtZW50Q29udGV4dDogZiA9IFwiZmxvYXRpbmdcIixcbiAgICBhbHRCb3VuZGFyeTogdSA9ICExLFxuICAgIHBhZGRpbmc6IGggPSAwXG4gIH0gPSBlLCBtID0gT3QoaCksIHcgPSBzW3UgPyBmID09PSBcImZsb2F0aW5nXCIgPyBcInJlZmVyZW5jZVwiIDogXCJmbG9hdGluZ1wiIDogZl0sIHkgPSBJKGF3YWl0IHIuZ2V0Q2xpcHBpbmdSZWN0KHtcbiAgICBlbGVtZW50OiAobiA9IGF3YWl0IChyLmlzRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogci5pc0VsZW1lbnQodykpKSA9PSBudWxsIHx8IG4gPyB3IDogdy5jb250ZXh0RWxlbWVudCB8fCBhd2FpdCAoci5nZXREb2N1bWVudEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHIuZ2V0RG9jdW1lbnRFbGVtZW50KHMuZmxvYXRpbmcpKSxcbiAgICBib3VuZGFyeTogYSxcbiAgICByb290Qm91bmRhcnk6IHAsXG4gICAgc3RyYXRlZ3k6IGxcbiAgfSkpLCBnID0gSShyLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0ID8gYXdhaXQgci5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCh7XG4gICAgcmVjdDogZiA9PT0gXCJmbG9hdGluZ1wiID8ge1xuICAgICAgLi4uYy5mbG9hdGluZyxcbiAgICAgIHg6IG8sXG4gICAgICB5OiBpXG4gICAgfSA6IGMucmVmZXJlbmNlLFxuICAgIG9mZnNldFBhcmVudDogYXdhaXQgKHIuZ2V0T2Zmc2V0UGFyZW50ID09IG51bGwgPyB2b2lkIDAgOiByLmdldE9mZnNldFBhcmVudChzLmZsb2F0aW5nKSksXG4gICAgc3RyYXRlZ3k6IGxcbiAgfSkgOiBjW2ZdKTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHkudG9wIC0gZy50b3AgKyBtLnRvcCxcbiAgICBib3R0b206IGcuYm90dG9tIC0geS5ib3R0b20gKyBtLmJvdHRvbSxcbiAgICBsZWZ0OiB5LmxlZnQgLSBnLmxlZnQgKyBtLmxlZnQsXG4gICAgcmlnaHQ6IGcucmlnaHQgLSB5LnJpZ2h0ICsgbS5yaWdodFxuICB9O1xufVxuY29uc3QgTHQgPSBNYXRoLm1pbiwgUnQgPSBNYXRoLm1heDtcbmZ1bmN0aW9uIGV0KHQsIGUsIG4pIHtcbiAgcmV0dXJuIFJ0KHQsIEx0KGUsIG4pKTtcbn1cbmNvbnN0IGt0ID0ge1xuICBsZWZ0OiBcInJpZ2h0XCIsXG4gIHJpZ2h0OiBcImxlZnRcIixcbiAgYm90dG9tOiBcInRvcFwiLFxuICB0b3A6IFwiYm90dG9tXCJcbn07XG5mdW5jdGlvbiB6KHQpIHtcbiAgcmV0dXJuIHQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIChlKSA9PiBrdFtlXSk7XG59XG5mdW5jdGlvbiBmdCh0LCBlLCBuKSB7XG4gIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgbyA9IE4odCksIGkgPSBLKHQpLCByID0gYXQoaSk7XG4gIGxldCBjID0gaSA9PT0gXCJ4XCIgPyBvID09PSAobiA/IFwiZW5kXCIgOiBcInN0YXJ0XCIpID8gXCJyaWdodFwiIDogXCJsZWZ0XCIgOiBvID09PSBcInN0YXJ0XCIgPyBcImJvdHRvbVwiIDogXCJ0b3BcIjtcbiAgcmV0dXJuIGUucmVmZXJlbmNlW3JdID4gZS5mbG9hdGluZ1tyXSAmJiAoYyA9IHooYykpLCB7XG4gICAgbWFpbjogYyxcbiAgICBjcm9zczogeihjKVxuICB9O1xufVxuY29uc3QgVHQgPSB7XG4gIHN0YXJ0OiBcImVuZFwiLFxuICBlbmQ6IFwic3RhcnRcIlxufTtcbmZ1bmN0aW9uIEcodCkge1xuICByZXR1cm4gdC5yZXBsYWNlKC9zdGFydHxlbmQvZywgKGUpID0+IFR0W2VdKTtcbn1cbmNvbnN0IEJ0ID0gW1widG9wXCIsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCJdLCBTdCA9IC8qIEBfX1BVUkVfXyAqLyBCdC5yZWR1Y2UoKHQsIGUpID0+IHQuY29uY2F0KGUsIGUgKyBcIi1zdGFydFwiLCBlICsgXCItZW5kXCIpLCBbXSk7XG5mdW5jdGlvbiBEdCh0LCBlLCBuKSB7XG4gIHJldHVybiAodCA/IFsuLi5uLmZpbHRlcigoaSkgPT4gTihpKSA9PT0gdCksIC4uLm4uZmlsdGVyKChpKSA9PiBOKGkpICE9PSB0KV0gOiBuLmZpbHRlcigoaSkgPT4gVihpKSA9PT0gaSkpLmZpbHRlcigoaSkgPT4gdCA/IE4oaSkgPT09IHQgfHwgKGUgPyBHKGkpICE9PSBpIDogITEpIDogITApO1xufVxuY29uc3QgVnQgPSBmdW5jdGlvbih0KSB7XG4gIHJldHVybiB0ID09PSB2b2lkIDAgJiYgKHQgPSB7fSksIHtcbiAgICBuYW1lOiBcImF1dG9QbGFjZW1lbnRcIixcbiAgICBvcHRpb25zOiB0LFxuICAgIGFzeW5jIGZuKGUpIHtcbiAgICAgIHZhciBuLCBvLCBpLCByLCBjO1xuICAgICAgY29uc3Qge1xuICAgICAgICB4OiBzLFxuICAgICAgICB5OiBsLFxuICAgICAgICByZWN0czogYSxcbiAgICAgICAgbWlkZGxld2FyZURhdGE6IHAsXG4gICAgICAgIHBsYWNlbWVudDogZixcbiAgICAgICAgcGxhdGZvcm06IHUsXG4gICAgICAgIGVsZW1lbnRzOiBoXG4gICAgICB9ID0gZSwge1xuICAgICAgICBhbGlnbm1lbnQ6IG0gPSBudWxsLFxuICAgICAgICBhbGxvd2VkUGxhY2VtZW50czogZCA9IFN0LFxuICAgICAgICBhdXRvQWxpZ25tZW50OiB3ID0gITAsXG4gICAgICAgIC4uLnlcbiAgICAgIH0gPSB0LCBnID0gRHQobSwgdywgZCksIHYgPSBhd2FpdCBRKGUsIHkpLCB4ID0gKG4gPSAobyA9IHAuYXV0b1BsYWNlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IG8uaW5kZXgpICE9IG51bGwgPyBuIDogMCwgYiA9IGdbeF07XG4gICAgICBpZiAoYiA9PSBudWxsKVxuICAgICAgICByZXR1cm4ge307XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW46IEgsXG4gICAgICAgIGNyb3NzOiBqXG4gICAgICB9ID0gZnQoYiwgYSwgYXdhaXQgKHUuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHUuaXNSVEwoaC5mbG9hdGluZykpKTtcbiAgICAgIGlmIChmICE9PSBiKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IHMsXG4gICAgICAgICAgeTogbCxcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBnWzBdXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgY29uc3QgXyA9IFt2W1YoYildLCB2W0hdLCB2W2pdXSwgRSA9IFsuLi4oaSA9IChyID0gcC5hdXRvUGxhY2VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogci5vdmVyZmxvd3MpICE9IG51bGwgPyBpIDogW10sIHtcbiAgICAgICAgcGxhY2VtZW50OiBiLFxuICAgICAgICBvdmVyZmxvd3M6IF9cbiAgICAgIH1dLCBCID0gZ1t4ICsgMV07XG4gICAgICBpZiAoQilcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbmRleDogeCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IEVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IEJcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICBjb25zdCBTID0gRS5zbGljZSgpLnNvcnQoKFAsIFcpID0+IFAub3ZlcmZsb3dzWzBdIC0gVy5vdmVyZmxvd3NbMF0pLCAkID0gKGMgPSBTLmZpbmQoKFApID0+IHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICBvdmVyZmxvd3M6IFdcbiAgICAgICAgfSA9IFA7XG4gICAgICAgIHJldHVybiBXLmV2ZXJ5KCh5dCkgPT4geXQgPD0gMCk7XG4gICAgICB9KSkgPT0gbnVsbCA/IHZvaWQgMCA6IGMucGxhY2VtZW50LCBEID0gJCAhPSBudWxsID8gJCA6IFNbMF0ucGxhY2VtZW50O1xuICAgICAgcmV0dXJuIEQgIT09IGYgPyB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpbmRleDogeCArIDEsXG4gICAgICAgICAgb3ZlcmZsb3dzOiBFXG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgcGxhY2VtZW50OiBEXG4gICAgICAgIH1cbiAgICAgIH0gOiB7fTtcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gTnQodCkge1xuICBjb25zdCBlID0geih0KTtcbiAgcmV0dXJuIFtHKHQpLCBlLCBHKGUpXTtcbn1cbmNvbnN0IEZ0ID0gZnVuY3Rpb24odCkge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0ge30pLCB7XG4gICAgbmFtZTogXCJmbGlwXCIsXG4gICAgb3B0aW9uczogdCxcbiAgICBhc3luYyBmbihlKSB7XG4gICAgICB2YXIgbjtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50OiBvLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YTogaSxcbiAgICAgICAgcmVjdHM6IHIsXG4gICAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IGMsXG4gICAgICAgIHBsYXRmb3JtOiBzLFxuICAgICAgICBlbGVtZW50czogbFxuICAgICAgfSA9IGUsIHtcbiAgICAgICAgbWFpbkF4aXM6IGEgPSAhMCxcbiAgICAgICAgY3Jvc3NBeGlzOiBwID0gITAsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogZixcbiAgICAgICAgZmFsbGJhY2tTdHJhdGVneTogdSA9IFwiYmVzdEZpdFwiLFxuICAgICAgICBmbGlwQWxpZ25tZW50OiBoID0gITAsXG4gICAgICAgIC4uLm1cbiAgICAgIH0gPSB0LCBkID0gVihvKSwgeSA9IGYgfHwgKGQgPT09IGMgfHwgIWggPyBbeihjKV0gOiBOdChjKSksIGcgPSBbYywgLi4ueV0sIHYgPSBhd2FpdCBRKGUsIG0pLCB4ID0gW107XG4gICAgICBsZXQgYiA9ICgobiA9IGkuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4ub3ZlcmZsb3dzKSB8fCBbXTtcbiAgICAgIGlmIChhICYmIHgucHVzaCh2W2RdKSwgcCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbWFpbjogRSxcbiAgICAgICAgICBjcm9zczogQlxuICAgICAgICB9ID0gZnQobywgciwgYXdhaXQgKHMuaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHMuaXNSVEwobC5mbG9hdGluZykpKTtcbiAgICAgICAgeC5wdXNoKHZbRV0sIHZbQl0pO1xuICAgICAgfVxuICAgICAgaWYgKGIgPSBbLi4uYiwge1xuICAgICAgICBwbGFjZW1lbnQ6IG8sXG4gICAgICAgIG92ZXJmbG93czogeFxuICAgICAgfV0sICF4LmV2ZXJ5KChFKSA9PiBFIDw9IDApKSB7XG4gICAgICAgIHZhciBILCBqO1xuICAgICAgICBjb25zdCBFID0gKChIID0gKGogPSBpLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBqLmluZGV4KSAhPSBudWxsID8gSCA6IDApICsgMSwgQiA9IGdbRV07XG4gICAgICAgIGlmIChCKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBFLFxuICAgICAgICAgICAgICBvdmVyZmxvd3M6IGJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IEJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICBsZXQgUyA9IFwiYm90dG9tXCI7XG4gICAgICAgIHN3aXRjaCAodSkge1xuICAgICAgICAgIGNhc2UgXCJiZXN0Rml0XCI6IHtcbiAgICAgICAgICAgIHZhciBfO1xuICAgICAgICAgICAgY29uc3QgJCA9IChfID0gYi5tYXAoKEQpID0+IFtELCBELm92ZXJmbG93cy5maWx0ZXIoKFApID0+IFAgPiAwKS5yZWR1Y2UoKFAsIFcpID0+IFAgKyBXLCAwKV0pLnNvcnQoKEQsIFApID0+IERbMV0gLSBQWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9bMF0ucGxhY2VtZW50O1xuICAgICAgICAgICAgJCAmJiAoUyA9ICQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJpbml0aWFsUGxhY2VtZW50XCI6XG4gICAgICAgICAgICBTID0gYztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvICE9PSBTKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiAkdCh0LCBlKSB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQ6IG4sXG4gICAgcGxhdGZvcm06IG8sXG4gICAgZWxlbWVudHM6IGlcbiAgfSA9IHQsIHIgPSBhd2FpdCAoby5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogby5pc1JUTChpLmZsb2F0aW5nKSksIGMgPSBWKG4pLCBzID0gTihuKSwgbCA9IEsobikgPT09IFwieFwiLCBhID0gW1wibGVmdFwiLCBcInRvcFwiXS5pbmNsdWRlcyhjKSA/IC0xIDogMSwgcCA9IHIgJiYgbCA/IC0xIDogMSwgZiA9IHR5cGVvZiBlID09IFwiZnVuY3Rpb25cIiA/IGUodCkgOiBlO1xuICBsZXQge1xuICAgIG1haW5BeGlzOiB1LFxuICAgIGNyb3NzQXhpczogaCxcbiAgICBhbGlnbm1lbnRBeGlzOiBtXG4gIH0gPSB0eXBlb2YgZiA9PSBcIm51bWJlclwiID8ge1xuICAgIG1haW5BeGlzOiBmLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gIH0gOiB7XG4gICAgbWFpbkF4aXM6IDAsXG4gICAgY3Jvc3NBeGlzOiAwLFxuICAgIGFsaWdubWVudEF4aXM6IG51bGwsXG4gICAgLi4uZlxuICB9O1xuICByZXR1cm4gcyAmJiB0eXBlb2YgbSA9PSBcIm51bWJlclwiICYmIChoID0gcyA9PT0gXCJlbmRcIiA/IG0gKiAtMSA6IG0pLCBsID8ge1xuICAgIHg6IGggKiBwLFxuICAgIHk6IHUgKiBhXG4gIH0gOiB7XG4gICAgeDogdSAqIGEsXG4gICAgeTogaCAqIHBcbiAgfTtcbn1cbmNvbnN0IG50ID0gZnVuY3Rpb24odCkge1xuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gMCksIHtcbiAgICBuYW1lOiBcIm9mZnNldFwiLFxuICAgIG9wdGlvbnM6IHQsXG4gICAgYXN5bmMgZm4oZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4OiBuLFxuICAgICAgICB5OiBvXG4gICAgICB9ID0gZSwgaSA9IGF3YWl0ICR0KGUsIHQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogbiArIGkueCxcbiAgICAgICAgeTogbyArIGkueSxcbiAgICAgICAgZGF0YTogaVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gV3QodCkge1xuICByZXR1cm4gdCA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xufVxuY29uc3QgaXQgPSBmdW5jdGlvbih0KSB7XG4gIHJldHVybiB0ID09PSB2b2lkIDAgJiYgKHQgPSB7fSksIHtcbiAgICBuYW1lOiBcInNoaWZ0XCIsXG4gICAgb3B0aW9uczogdCxcbiAgICBhc3luYyBmbihlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHg6IG4sXG4gICAgICAgIHk6IG8sXG4gICAgICAgIHBsYWNlbWVudDogaVxuICAgICAgfSA9IGUsIHtcbiAgICAgICAgbWFpbkF4aXM6IHIgPSAhMCxcbiAgICAgICAgY3Jvc3NBeGlzOiBjID0gITEsXG4gICAgICAgIGxpbWl0ZXI6IHMgPSB7XG4gICAgICAgICAgZm46ICh3KSA9PiB7XG4gICAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgICB4OiB5LFxuICAgICAgICAgICAgICB5OiBnXG4gICAgICAgICAgICB9ID0gdztcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHg6IHksXG4gICAgICAgICAgICAgIHk6IGdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAuLi5sXG4gICAgICB9ID0gdCwgYSA9IHtcbiAgICAgICAgeDogbixcbiAgICAgICAgeTogb1xuICAgICAgfSwgcCA9IGF3YWl0IFEoZSwgbCksIGYgPSBLKFYoaSkpLCB1ID0gV3QoZik7XG4gICAgICBsZXQgaCA9IGFbZl0sIG0gPSBhW3VdO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgY29uc3QgdyA9IGYgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiLCB5ID0gZiA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiLCBnID0gaCArIHBbd10sIHYgPSBoIC0gcFt5XTtcbiAgICAgICAgaCA9IGV0KGcsIGgsIHYpO1xuICAgICAgfVxuICAgICAgaWYgKGMpIHtcbiAgICAgICAgY29uc3QgdyA9IHUgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiLCB5ID0gdSA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiLCBnID0gbSArIHBbd10sIHYgPSBtIC0gcFt5XTtcbiAgICAgICAgbSA9IGV0KGcsIG0sIHYpO1xuICAgICAgfVxuICAgICAgY29uc3QgZCA9IHMuZm4oe1xuICAgICAgICAuLi5lLFxuICAgICAgICBbZl06IGgsXG4gICAgICAgIFt1XTogbVxuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgeDogZC54IC0gbixcbiAgICAgICAgICB5OiBkLnkgLSBvXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcbmZ1bmN0aW9uIHV0KHQpIHtcbiAgcmV0dXJuIHQgJiYgdC5kb2N1bWVudCAmJiB0LmxvY2F0aW9uICYmIHQuYWxlcnQgJiYgdC5zZXRJbnRlcnZhbDtcbn1cbmZ1bmN0aW9uIFIodCkge1xuICBpZiAodCA9PSBudWxsKVxuICAgIHJldHVybiB3aW5kb3c7XG4gIGlmICghdXQodCkpIHtcbiAgICBjb25zdCBlID0gdC5vd25lckRvY3VtZW50O1xuICAgIHJldHVybiBlICYmIGUuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuICB9XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gQyh0KSB7XG4gIHJldHVybiBSKHQpLmdldENvbXB1dGVkU3R5bGUodCk7XG59XG5mdW5jdGlvbiBPKHQpIHtcbiAgcmV0dXJuIHV0KHQpID8gXCJcIiA6IHQgPyAodC5ub2RlTmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpIDogXCJcIjtcbn1cbmZ1bmN0aW9uIHB0KCkge1xuICBjb25zdCB0ID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGE7XG4gIHJldHVybiB0ICE9IG51bGwgJiYgdC5icmFuZHMgPyB0LmJyYW5kcy5tYXAoKGUpID0+IGUuYnJhbmQgKyBcIi9cIiArIGUudmVyc2lvbikuam9pbihcIiBcIikgOiBuYXZpZ2F0b3IudXNlckFnZW50O1xufVxuZnVuY3Rpb24gQSh0KSB7XG4gIHJldHVybiB0IGluc3RhbmNlb2YgUih0KS5IVE1MRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGsodCkge1xuICByZXR1cm4gdCBpbnN0YW5jZW9mIFIodCkuRWxlbWVudDtcbn1cbmZ1bmN0aW9uIE10KHQpIHtcbiAgcmV0dXJuIHQgaW5zdGFuY2VvZiBSKHQpLk5vZGU7XG59XG5mdW5jdGlvbiBGKHQpIHtcbiAgaWYgKHR5cGVvZiBTaGFkb3dSb290ID4gXCJ1XCIpXG4gICAgcmV0dXJuICExO1xuICBjb25zdCBlID0gUih0KS5TaGFkb3dSb290O1xuICByZXR1cm4gdCBpbnN0YW5jZW9mIGUgfHwgdCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q7XG59XG5mdW5jdGlvbiBVKHQpIHtcbiAgY29uc3Qge1xuICAgIG92ZXJmbG93OiBlLFxuICAgIG92ZXJmbG93WDogbixcbiAgICBvdmVyZmxvd1k6IG9cbiAgfSA9IEModCk7XG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW4vLnRlc3QoZSArIG8gKyBuKTtcbn1cbmZ1bmN0aW9uIEh0KHQpIHtcbiAgcmV0dXJuIFtcInRhYmxlXCIsIFwidGRcIiwgXCJ0aFwiXS5pbmNsdWRlcyhPKHQpKTtcbn1cbmZ1bmN0aW9uIGR0KHQpIHtcbiAgY29uc3QgZSA9IC9maXJlZm94L2kudGVzdChwdCgpKSwgbiA9IEModCk7XG4gIHJldHVybiBuLnRyYW5zZm9ybSAhPT0gXCJub25lXCIgfHwgbi5wZXJzcGVjdGl2ZSAhPT0gXCJub25lXCIgfHwgbi5jb250YWluID09PSBcInBhaW50XCIgfHwgW1widHJhbnNmb3JtXCIsIFwicGVyc3BlY3RpdmVcIl0uaW5jbHVkZXMobi53aWxsQ2hhbmdlKSB8fCBlICYmIG4ud2lsbENoYW5nZSA9PT0gXCJmaWx0ZXJcIiB8fCBlICYmIChuLmZpbHRlciA/IG4uZmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKTtcbn1cbmZ1bmN0aW9uIGh0KCkge1xuICByZXR1cm4gIS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QocHQoKSk7XG59XG5jb25zdCBvdCA9IE1hdGgubWluLCBNID0gTWF0aC5tYXgsIFggPSBNYXRoLnJvdW5kO1xuZnVuY3Rpb24gTCh0LCBlLCBuKSB7XG4gIHZhciBvLCBpLCByLCBjO1xuICBlID09PSB2b2lkIDAgJiYgKGUgPSAhMSksIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcbiAgY29uc3QgcyA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGxldCBsID0gMSwgYSA9IDE7XG4gIGUgJiYgQSh0KSAmJiAobCA9IHQub2Zmc2V0V2lkdGggPiAwICYmIFgocy53aWR0aCkgLyB0Lm9mZnNldFdpZHRoIHx8IDEsIGEgPSB0Lm9mZnNldEhlaWdodCA+IDAgJiYgWChzLmhlaWdodCkgLyB0Lm9mZnNldEhlaWdodCB8fCAxKTtcbiAgY29uc3QgcCA9IGsodCkgPyBSKHQpIDogd2luZG93LCBmID0gIWh0KCkgJiYgbiwgdSA9IChzLmxlZnQgKyAoZiAmJiAobyA9IChpID0gcC52aXN1YWxWaWV3cG9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IGkub2Zmc2V0TGVmdCkgIT0gbnVsbCA/IG8gOiAwKSkgLyBsLCBoID0gKHMudG9wICsgKGYgJiYgKHIgPSAoYyA9IHAudmlzdWFsVmlld3BvcnQpID09IG51bGwgPyB2b2lkIDAgOiBjLm9mZnNldFRvcCkgIT0gbnVsbCA/IHIgOiAwKSkgLyBhLCBtID0gcy53aWR0aCAvIGwsIGQgPSBzLmhlaWdodCAvIGE7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG0sXG4gICAgaGVpZ2h0OiBkLFxuICAgIHRvcDogaCxcbiAgICByaWdodDogdSArIG0sXG4gICAgYm90dG9tOiBoICsgZCxcbiAgICBsZWZ0OiB1LFxuICAgIHg6IHUsXG4gICAgeTogaFxuICB9O1xufVxuZnVuY3Rpb24gVCh0KSB7XG4gIHJldHVybiAoKE10KHQpID8gdC5vd25lckRvY3VtZW50IDogdC5kb2N1bWVudCkgfHwgd2luZG93LmRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBxKHQpIHtcbiAgcmV0dXJuIGsodCkgPyB7XG4gICAgc2Nyb2xsTGVmdDogdC5zY3JvbGxMZWZ0LFxuICAgIHNjcm9sbFRvcDogdC5zY3JvbGxUb3BcbiAgfSA6IHtcbiAgICBzY3JvbGxMZWZ0OiB0LnBhZ2VYT2Zmc2V0LFxuICAgIHNjcm9sbFRvcDogdC5wYWdlWU9mZnNldFxuICB9O1xufVxuZnVuY3Rpb24gbXQodCkge1xuICByZXR1cm4gTChUKHQpKS5sZWZ0ICsgcSh0KS5zY3JvbGxMZWZ0O1xufVxuZnVuY3Rpb24ganQodCkge1xuICBjb25zdCBlID0gTCh0KTtcbiAgcmV0dXJuIFgoZS53aWR0aCkgIT09IHQub2Zmc2V0V2lkdGggfHwgWChlLmhlaWdodCkgIT09IHQub2Zmc2V0SGVpZ2h0O1xufVxuZnVuY3Rpb24gX3QodCwgZSwgbikge1xuICBjb25zdCBvID0gQShlKSwgaSA9IFQoZSksIHIgPSBMKFxuICAgIHQsXG4gICAgbyAmJiBqdChlKSxcbiAgICBuID09PSBcImZpeGVkXCJcbiAgKTtcbiAgbGV0IGMgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3QgcyA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbiAgaWYgKG8gfHwgIW8gJiYgbiAhPT0gXCJmaXhlZFwiKVxuICAgIGlmICgoTyhlKSAhPT0gXCJib2R5XCIgfHwgVShpKSkgJiYgKGMgPSBxKGUpKSwgQShlKSkge1xuICAgICAgY29uc3QgbCA9IEwoZSwgITApO1xuICAgICAgcy54ID0gbC54ICsgZS5jbGllbnRMZWZ0LCBzLnkgPSBsLnkgKyBlLmNsaWVudFRvcDtcbiAgICB9IGVsc2VcbiAgICAgIGkgJiYgKHMueCA9IG10KGkpKTtcbiAgcmV0dXJuIHtcbiAgICB4OiByLmxlZnQgKyBjLnNjcm9sbExlZnQgLSBzLngsXG4gICAgeTogci50b3AgKyBjLnNjcm9sbFRvcCAtIHMueSxcbiAgICB3aWR0aDogci53aWR0aCxcbiAgICBoZWlnaHQ6IHIuaGVpZ2h0XG4gIH07XG59XG5mdW5jdGlvbiBndCh0KSB7XG4gIHJldHVybiBPKHQpID09PSBcImh0bWxcIiA/IHQgOiB0LmFzc2lnbmVkU2xvdCB8fCB0LnBhcmVudE5vZGUgfHwgKEYodCkgPyB0Lmhvc3QgOiBudWxsKSB8fCBUKHQpO1xufVxuZnVuY3Rpb24gc3QodCkge1xuICByZXR1cm4gIUEodCkgfHwgQyh0KS5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gbnVsbCA6IEl0KHQpO1xufVxuZnVuY3Rpb24gSXQodCkge1xuICBsZXQge1xuICAgIG9mZnNldFBhcmVudDogZVxuICB9ID0gdCwgbiA9IHQsIG8gPSAhMTtcbiAgZm9yICg7IG4gJiYgbiAhPT0gZTsgKSB7XG4gICAgY29uc3Qge1xuICAgICAgYXNzaWduZWRTbG90OiBpXG4gICAgfSA9IG47XG4gICAgaWYgKGkpIHtcbiAgICAgIGxldCByID0gaS5vZmZzZXRQYXJlbnQ7XG4gICAgICBpZiAoQyhpKS5kaXNwbGF5ID09PSBcImNvbnRlbnRzXCIpIHtcbiAgICAgICAgY29uc3QgYyA9IGkuaGFzQXR0cmlidXRlKFwic3R5bGVcIiksIHMgPSBpLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGkuc3R5bGUuZGlzcGxheSA9IEMobikuZGlzcGxheSwgciA9IGkub2Zmc2V0UGFyZW50LCBpLnN0eWxlLmRpc3BsYXkgPSBzLCBjIHx8IGkucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgICB9XG4gICAgICBuID0gaSwgZSAhPT0gciAmJiAoZSA9IHIsIG8gPSAhMCk7XG4gICAgfSBlbHNlIGlmIChGKG4pICYmIG4uaG9zdCAmJiBvKVxuICAgICAgYnJlYWs7XG4gICAgbiA9IEYobikgJiYgbi5ob3N0IHx8IG4ucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHp0KHQpIHtcbiAgbGV0IGUgPSBndCh0KTtcbiAgZm9yIChGKGUpICYmIChlID0gZS5ob3N0KTsgQShlKSAmJiAhW1wiaHRtbFwiLCBcImJvZHlcIl0uaW5jbHVkZXMoTyhlKSk7ICkge1xuICAgIGlmIChkdChlKSlcbiAgICAgIHJldHVybiBlO1xuICAgIHtcbiAgICAgIGNvbnN0IG4gPSBlLnBhcmVudE5vZGU7XG4gICAgICBlID0gRihuKSA/IG4uaG9zdCA6IG47XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gSih0KSB7XG4gIGNvbnN0IGUgPSBSKHQpO1xuICBsZXQgbiA9IHN0KHQpO1xuICBmb3IgKDsgbiAmJiBIdChuKSAmJiBDKG4pLnBvc2l0aW9uID09PSBcInN0YXRpY1wiOyApXG4gICAgbiA9IHN0KG4pO1xuICByZXR1cm4gbiAmJiAoTyhuKSA9PT0gXCJodG1sXCIgfHwgTyhuKSA9PT0gXCJib2R5XCIgJiYgQyhuKS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiAmJiAhZHQobikpID8gZSA6IG4gfHwgenQodCkgfHwgZTtcbn1cbmZ1bmN0aW9uIHJ0KHQpIHtcbiAgaWYgKEEodCkpXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB0Lm9mZnNldFdpZHRoLFxuICAgICAgaGVpZ2h0OiB0Lm9mZnNldEhlaWdodFxuICAgIH07XG4gIGNvbnN0IGUgPSBMKHQpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBlLndpZHRoLFxuICAgIGhlaWdodDogZS5oZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIFh0KHQpIHtcbiAgbGV0IHtcbiAgICByZWN0OiBlLFxuICAgIG9mZnNldFBhcmVudDogbixcbiAgICBzdHJhdGVneTogb1xuICB9ID0gdDtcbiAgY29uc3QgaSA9IEEobiksIHIgPSBUKG4pO1xuICBpZiAobiA9PT0gcilcbiAgICByZXR1cm4gZTtcbiAgbGV0IGMgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3QgcyA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbiAgaWYgKChpIHx8ICFpICYmIG8gIT09IFwiZml4ZWRcIikgJiYgKChPKG4pICE9PSBcImJvZHlcIiB8fCBVKHIpKSAmJiAoYyA9IHEobikpLCBBKG4pKSkge1xuICAgIGNvbnN0IGwgPSBMKG4sICEwKTtcbiAgICBzLnggPSBsLnggKyBuLmNsaWVudExlZnQsIHMueSA9IGwueSArIG4uY2xpZW50VG9wO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4uZSxcbiAgICB4OiBlLnggLSBjLnNjcm9sbExlZnQgKyBzLngsXG4gICAgeTogZS55IC0gYy5zY3JvbGxUb3AgKyBzLnlcbiAgfTtcbn1cbmZ1bmN0aW9uIFl0KHQsIGUpIHtcbiAgY29uc3QgbiA9IFIodCksIG8gPSBUKHQpLCBpID0gbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHIgPSBvLmNsaWVudFdpZHRoLCBjID0gby5jbGllbnRIZWlnaHQsIHMgPSAwLCBsID0gMDtcbiAgaWYgKGkpIHtcbiAgICByID0gaS53aWR0aCwgYyA9IGkuaGVpZ2h0O1xuICAgIGNvbnN0IGEgPSBodCgpO1xuICAgIChhIHx8ICFhICYmIGUgPT09IFwiZml4ZWRcIikgJiYgKHMgPSBpLm9mZnNldExlZnQsIGwgPSBpLm9mZnNldFRvcCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IGMsXG4gICAgeDogcyxcbiAgICB5OiBsXG4gIH07XG59XG5mdW5jdGlvbiBLdCh0KSB7XG4gIHZhciBlO1xuICBjb25zdCBuID0gVCh0KSwgbyA9IHEodCksIGkgPSAoZSA9IHQub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYm9keSwgciA9IE0obi5zY3JvbGxXaWR0aCwgbi5jbGllbnRXaWR0aCwgaSA/IGkuc2Nyb2xsV2lkdGggOiAwLCBpID8gaS5jbGllbnRXaWR0aCA6IDApLCBjID0gTShuLnNjcm9sbEhlaWdodCwgbi5jbGllbnRIZWlnaHQsIGkgPyBpLnNjcm9sbEhlaWdodCA6IDAsIGkgPyBpLmNsaWVudEhlaWdodCA6IDApO1xuICBsZXQgcyA9IC1vLnNjcm9sbExlZnQgKyBtdCh0KTtcbiAgY29uc3QgbCA9IC1vLnNjcm9sbFRvcDtcbiAgcmV0dXJuIEMoaSB8fCBuKS5kaXJlY3Rpb24gPT09IFwicnRsXCIgJiYgKHMgKz0gTShuLmNsaWVudFdpZHRoLCBpID8gaS5jbGllbnRXaWR0aCA6IDApIC0gciksIHtcbiAgICB3aWR0aDogcixcbiAgICBoZWlnaHQ6IGMsXG4gICAgeDogcyxcbiAgICB5OiBsXG4gIH07XG59XG5mdW5jdGlvbiB3dCh0KSB7XG4gIGNvbnN0IGUgPSBndCh0KTtcbiAgcmV0dXJuIFtcImh0bWxcIiwgXCJib2R5XCIsIFwiI2RvY3VtZW50XCJdLmluY2x1ZGVzKE8oZSkpID8gdC5vd25lckRvY3VtZW50LmJvZHkgOiBBKGUpICYmIFUoZSkgPyBlIDogd3QoZSk7XG59XG5mdW5jdGlvbiBZKHQsIGUpIHtcbiAgdmFyIG47XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IFtdKTtcbiAgY29uc3QgbyA9IHd0KHQpLCBpID0gbyA9PT0gKChuID0gdC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogbi5ib2R5KSwgciA9IFIobyksIGMgPSBpID8gW3JdLmNvbmNhdChyLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBVKG8pID8gbyA6IFtdKSA6IG8sIHMgPSBlLmNvbmNhdChjKTtcbiAgcmV0dXJuIGkgPyBzIDogcy5jb25jYXQoWShjKSk7XG59XG5mdW5jdGlvbiBVdCh0LCBlKSB7XG4gIGNvbnN0IG4gPSBlLmdldFJvb3ROb2RlID09IG51bGwgPyB2b2lkIDAgOiBlLmdldFJvb3ROb2RlKCk7XG4gIGlmICh0LmNvbnRhaW5zKGUpKVxuICAgIHJldHVybiAhMDtcbiAgaWYgKG4gJiYgRihuKSkge1xuICAgIGxldCBvID0gZTtcbiAgICBkbyB7XG4gICAgICBpZiAobyAmJiB0ID09PSBvKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBvID0gby5wYXJlbnROb2RlIHx8IG8uaG9zdDtcbiAgICB9IHdoaWxlIChvKTtcbiAgfVxuICByZXR1cm4gITE7XG59XG5mdW5jdGlvbiBxdCh0LCBlKSB7XG4gIGNvbnN0IG4gPSBMKHQsICExLCBlID09PSBcImZpeGVkXCIpLCBvID0gbi50b3AgKyB0LmNsaWVudFRvcCwgaSA9IG4ubGVmdCArIHQuY2xpZW50TGVmdDtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IG8sXG4gICAgbGVmdDogaSxcbiAgICB4OiBpLFxuICAgIHk6IG8sXG4gICAgcmlnaHQ6IGkgKyB0LmNsaWVudFdpZHRoLFxuICAgIGJvdHRvbTogbyArIHQuY2xpZW50SGVpZ2h0LFxuICAgIHdpZHRoOiB0LmNsaWVudFdpZHRoLFxuICAgIGhlaWdodDogdC5jbGllbnRIZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIGN0KHQsIGUsIG4pIHtcbiAgcmV0dXJuIGUgPT09IFwidmlld3BvcnRcIiA/IEkoWXQodCwgbikpIDogayhlKSA/IHF0KGUsIG4pIDogSShLdChUKHQpKSk7XG59XG5mdW5jdGlvbiBHdCh0KSB7XG4gIGNvbnN0IGUgPSBZKHQpLCBvID0gW1wiYWJzb2x1dGVcIiwgXCJmaXhlZFwiXS5pbmNsdWRlcyhDKHQpLnBvc2l0aW9uKSAmJiBBKHQpID8gSih0KSA6IHQ7XG4gIHJldHVybiBrKG8pID8gZS5maWx0ZXIoKGkpID0+IGsoaSkgJiYgVXQoaSwgbykgJiYgTyhpKSAhPT0gXCJib2R5XCIpIDogW107XG59XG5mdW5jdGlvbiBKdCh0KSB7XG4gIGxldCB7XG4gICAgZWxlbWVudDogZSxcbiAgICBib3VuZGFyeTogbixcbiAgICByb290Qm91bmRhcnk6IG8sXG4gICAgc3RyYXRlZ3k6IGlcbiAgfSA9IHQ7XG4gIGNvbnN0IGMgPSBbLi4ubiA9PT0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiID8gR3QoZSkgOiBbXS5jb25jYXQobiksIG9dLCBzID0gY1swXSwgbCA9IGMucmVkdWNlKChhLCBwKSA9PiB7XG4gICAgY29uc3QgZiA9IGN0KGUsIHAsIGkpO1xuICAgIHJldHVybiBhLnRvcCA9IE0oZi50b3AsIGEudG9wKSwgYS5yaWdodCA9IG90KGYucmlnaHQsIGEucmlnaHQpLCBhLmJvdHRvbSA9IG90KGYuYm90dG9tLCBhLmJvdHRvbSksIGEubGVmdCA9IE0oZi5sZWZ0LCBhLmxlZnQpLCBhO1xuICB9LCBjdChlLCBzLCBpKSk7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGwucmlnaHQgLSBsLmxlZnQsXG4gICAgaGVpZ2h0OiBsLmJvdHRvbSAtIGwudG9wLFxuICAgIHg6IGwubGVmdCxcbiAgICB5OiBsLnRvcFxuICB9O1xufVxuY29uc3QgUXQgPSB7XG4gIGdldENsaXBwaW5nUmVjdDogSnQsXG4gIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0OiBYdCxcbiAgaXNFbGVtZW50OiBrLFxuICBnZXREaW1lbnNpb25zOiBydCxcbiAgZ2V0T2Zmc2V0UGFyZW50OiBKLFxuICBnZXREb2N1bWVudEVsZW1lbnQ6IFQsXG4gIGdldEVsZW1lbnRSZWN0czogKHQpID0+IHtcbiAgICBsZXQge1xuICAgICAgcmVmZXJlbmNlOiBlLFxuICAgICAgZmxvYXRpbmc6IG4sXG4gICAgICBzdHJhdGVneTogb1xuICAgIH0gPSB0O1xuICAgIHJldHVybiB7XG4gICAgICByZWZlcmVuY2U6IF90KGUsIEoobiksIG8pLFxuICAgICAgZmxvYXRpbmc6IHtcbiAgICAgICAgLi4ucnQobiksXG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBnZXRDbGllbnRSZWN0czogKHQpID0+IEFycmF5LmZyb20odC5nZXRDbGllbnRSZWN0cygpKSxcbiAgaXNSVEw6ICh0KSA9PiBDKHQpLmRpcmVjdGlvbiA9PT0gXCJydGxcIlxufTtcbmZ1bmN0aW9uIFp0KHQsIGUsIG4sIG8pIHtcbiAgbyA9PT0gdm9pZCAwICYmIChvID0ge30pO1xuICBjb25zdCB7XG4gICAgYW5jZXN0b3JTY3JvbGw6IGkgPSAhMCxcbiAgICBhbmNlc3RvclJlc2l6ZTogciA9ICEwLFxuICAgIGVsZW1lbnRSZXNpemU6IGMgPSAhMCxcbiAgICBhbmltYXRpb25GcmFtZTogcyA9ICExXG4gIH0gPSBvLCBsID0gaSAmJiAhcywgYSA9IHIgJiYgIXMsIHAgPSBsIHx8IGEgPyBbLi4uayh0KSA/IFkodCkgOiBbXSwgLi4uWShlKV0gOiBbXTtcbiAgcC5mb3JFYWNoKChkKSA9PiB7XG4gICAgbCAmJiBkLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbiwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgYSAmJiBkLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbik7XG4gIH0pO1xuICBsZXQgZiA9IG51bGw7XG4gIGlmIChjKSB7XG4gICAgbGV0IGQgPSAhMDtcbiAgICBmID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgIGQgfHwgbigpLCBkID0gITE7XG4gICAgfSksIGsodCkgJiYgIXMgJiYgZi5vYnNlcnZlKHQpLCBmLm9ic2VydmUoZSk7XG4gIH1cbiAgbGV0IHUsIGggPSBzID8gTCh0KSA6IG51bGw7XG4gIHMgJiYgbSgpO1xuICBmdW5jdGlvbiBtKCkge1xuICAgIGNvbnN0IGQgPSBMKHQpO1xuICAgIGggJiYgKGQueCAhPT0gaC54IHx8IGQueSAhPT0gaC55IHx8IGQud2lkdGggIT09IGgud2lkdGggfHwgZC5oZWlnaHQgIT09IGguaGVpZ2h0KSAmJiBuKCksIGggPSBkLCB1ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG0pO1xuICB9XG4gIHJldHVybiBuKCksICgpID0+IHtcbiAgICB2YXIgZDtcbiAgICBwLmZvckVhY2goKHcpID0+IHtcbiAgICAgIGwgJiYgdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIG4pLCBhICYmIHcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBuKTtcbiAgICB9KSwgKGQgPSBmKSA9PSBudWxsIHx8IGQuZGlzY29ubmVjdCgpLCBmID0gbnVsbCwgcyAmJiBjYW5jZWxBbmltYXRpb25GcmFtZSh1KTtcbiAgfTtcbn1cbmNvbnN0IHRlID0gKHQsIGUsIG4pID0+IEF0KHQsIGUsIHtcbiAgcGxhdGZvcm06IFF0LFxuICAuLi5uXG59KTtcbmFzeW5jIGZ1bmN0aW9uIGVlKHQsIGUsIG4pIHtcbiAgaWYgKCFuKVxuICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBhIHBvc2l0aW9uaW5nIG9wdGlvblwiKTtcbiAgcmV0dXJuIGF3YWl0ICh0eXBlb2YgbiA9PSBcInN0cmluZ1wiID8gbmUodCwgZSwgbikgOiBpZSh0LCBuKSk7XG59XG5hc3luYyBmdW5jdGlvbiBuZSh0LCBlLCBuKSB7XG4gIGlmICghZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWZlcmVuY2UgZWxlbWVudCBpcyByZXF1aXJlZCBmb3IgcmVsYXRpdmUgcG9zaXRpb25pbmdcIik7XG4gIGxldCBvO1xuICByZXR1cm4gbiA9PT0gXCJhdXRvXCIgPyBvID0ge1xuICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgIFZ0KCksXG4gICAgICBpdCgpLFxuICAgICAgbnQoeyBtYWluQXhpczogNSwgY3Jvc3NBeGlzOiAxMiB9KVxuICAgIF1cbiAgfSA6IG8gPSB7XG4gICAgcGxhY2VtZW50OiBuLFxuICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgIEZ0KCksXG4gICAgICBpdCgpLFxuICAgICAgbnQoNSlcbiAgICBdXG4gIH0sIFp0KGUsIHQsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHg6IGksIHk6IHIgfSA9IGF3YWl0IHRlKGUsIHQsIG8pO1xuICAgIE9iamVjdC5hc3NpZ24odC5zdHlsZSwge1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIGxlZnQ6IGAke2l9cHhgLFxuICAgICAgdG9wOiBgJHtyfXB4YFxuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGllKHQsIGUpIHtcbiAgcmV0dXJuIHQuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCIsIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtuLCBvXSkgPT4ge1xuICAgIHQuc3R5bGVbbl0gPSBvO1xuICB9KSwgKCkgPT4ge1xuICB9O1xufVxuY29uc3Qgb2UgPSB7XG4gIGhpZGVPbkNsaWNrT3V0c2lkZTogITAsXG4gIGhpZGVPbkVtb2ppU2VsZWN0OiAhMCxcbiAgaGlkZU9uRXNjYXBlOiAhMCxcbiAgcG9zaXRpb246IFwiYXV0b1wiLFxuICBzaG93Q2xvc2VCdXR0b246ICEwXG59O1xuZnVuY3Rpb24gc2UodCA9IHt9KSB7XG4gIHJldHVybiB7XG4gICAgLi4ub2UsXG4gICAgcm9vdEVsZW1lbnQ6IGRvY3VtZW50LmJvZHksXG4gICAgLi4udFxuICB9O1xufVxuY29uc3QgcmUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAzMjAgNTEyXCI+PCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD1cIk0zMTAuNiAzNjEuNGMxMi41IDEyLjUgMTIuNSAzMi43NSAwIDQ1LjI1QzMwNC40IDQxMi45IDI5Ni4yIDQxNiAyODggNDE2cy0xNi4zOC0zLjEyNS0yMi42Mi05LjM3NUwxNjAgMzAxLjNMNTQuNjMgNDA2LjZDNDguMzggNDEyLjkgNDAuMTkgNDE2IDMyIDQxNlMxNS42MyA0MTIuOSA5LjM3NSA0MDYuNmMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNWwxMDUuNC0xMDUuNEw5LjM3NSAxNTAuNmMtMTIuNS0xMi41LTEyLjUtMzIuNzUgMC00NS4yNXMzMi43NS0xMi41IDQ1LjI1IDBMMTYwIDIxMC44bDEwNS40LTEwNS40YzEyLjUtMTIuNSAzMi43NS0xMi41IDQ1LjI1IDBzMTIuNSAzMi43NSAwIDQ1LjI1bC0xMDUuNCAxMDUuNEwzMTAuNiAzNjEuNHpcIi8+PC9zdmc+JywgbHQgPSB7XG4gIHBvcHVwQ29udGFpbmVyOiBcInBvcHVwQ29udGFpbmVyXCIsXG4gIGNsb3NlQnV0dG9uOiBcImNsb3NlQnV0dG9uXCJcbn07XG5jbGFzcyBjZSB7XG4gIGNvbnN0cnVjdG9yKGUsIG4pIHtcbiAgICB0aGlzLmlzT3BlbiA9ICExLCB0aGlzLmV4dGVybmFsRXZlbnRzID0gbmV3IHh0KCksIHRoaXMub3B0aW9ucyA9IHsgLi4uc2UobiksIC4uLnZ0KGUpIH0sIHRoaXMucG9wdXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHRoaXMucG9wdXBFbC5jbGFzc0xpc3QuYWRkKGx0LnBvcHVwQ29udGFpbmVyKSwgdGhpcy5wb3B1cEVsLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLnRoZW1lKSwgbi5jbGFzc05hbWUgJiYgdGhpcy5wb3B1cEVsLmNsYXNzTGlzdC5hZGQobi5jbGFzc05hbWUpLCB0aGlzLm9wdGlvbnMuc2hvd0Nsb3NlQnV0dG9uICYmICh0aGlzLmNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgdGhpcy5jbG9zZUJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5jbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKGx0LmNsb3NlQnV0dG9uKSwgdGhpcy5jbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSByZSwgdGhpcy5wb3B1cEVsLmFwcGVuZENoaWxkKHRoaXMuY2xvc2VCdXR0b24pKTtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLnBvcHVwRWwuYXBwZW5kQ2hpbGQobyksIHRoaXMucGlja2VyID0gYnQoeyAuLi50aGlzLm9wdGlvbnMsIHJvb3RFbGVtZW50OiBvIH0pLCB0aGlzLmZvY3VzVHJhcCA9IG5ldyBFdCgpLCB0aGlzLnBpY2tlci5hZGRFdmVudExpc3RlbmVyKFwiZGF0YTpyZWFkeVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmZvY3VzVHJhcC5hY3RpdmF0ZSh0aGlzLnBpY2tlci5lbCksIHRoaXMucGlja2VyLnNldEluaXRpYWxGb2N1cygpO1xuICAgIH0pLCB0aGlzLm9wdGlvbnMuaGlkZU9uRW1vamlTZWxlY3QgJiYgdGhpcy5waWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcImVtb2ppOnNlbGVjdFwiLCAoKSA9PiB7XG4gICAgICB2YXIgaTtcbiAgICAgIHRoaXMuY2xvc2UoKSwgKGkgPSB0aGlzLnRyaWdnZXJFbGVtZW50KSA9PSBudWxsIHx8IGkuZm9jdXMoKTtcbiAgICB9KSwgdGhpcy5vcHRpb25zLmhpZGVPbkNsaWNrT3V0c2lkZSAmJiAodGhpcy5vbkRvY3VtZW50Q2xpY2sgPSB0aGlzLm9uRG9jdW1lbnRDbGljay5iaW5kKHRoaXMpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vbkRvY3VtZW50Q2xpY2spKSwgdGhpcy5vcHRpb25zLmhpZGVPbkVzY2FwZSAmJiAodGhpcy5oYW5kbGVLZXlkb3duID0gdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcyksIHRoaXMucG9wdXBFbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleWRvd24pKSwgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5vcHRpb25zLnJlZmVyZW5jZUVsZW1lbnQsIHRoaXMudHJpZ2dlckVsZW1lbnQgPSB0aGlzLm9wdGlvbnMudHJpZ2dlckVsZW1lbnQ7XG4gIH1cbiAgYWRkRXZlbnRMaXN0ZW5lcihlLCBuKSB7XG4gICAgdGhpcy5leHRlcm5hbEV2ZW50cy5vbihlLCBuKSwgdGhpcy5waWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihlLCBuKTtcbiAgfVxuICByZW1vdmVFdmVudExpc3RlbmVyKGUsIG4pIHtcbiAgICB0aGlzLmV4dGVybmFsRXZlbnRzLm9mZihlLCBuKSwgdGhpcy5waWNrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBuKTtcbiAgfVxuICBoYW5kbGVLZXlkb3duKGUpIHtcbiAgICB2YXIgbjtcbiAgICBlLmtleSA9PT0gXCJFc2NhcGVcIiAmJiAodGhpcy5jbG9zZSgpLCAobiA9IHRoaXMudHJpZ2dlckVsZW1lbnQpID09IG51bGwgfHwgbi5mb2N1cygpKTtcbiAgfVxuICBhc3luYyBkZXN0cm95KCkge1xuICAgIHRoaXMuaXNPcGVuICYmIGF3YWl0IHRoaXMuY2xvc2UoKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub25Eb2N1bWVudENsaWNrKSwgdGhpcy5waWNrZXIuZGVzdHJveSgpLCB0aGlzLmV4dGVybmFsRXZlbnRzLnJlbW92ZUFsbCgpO1xuICB9XG4gIHRvZ2dsZShlKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNPcGVuID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKGUpO1xuICB9XG4gIGFzeW5jIG9wZW4oeyB0cmlnZ2VyRWxlbWVudDogZSwgcmVmZXJlbmNlRWxlbWVudDogbiB9ID0ge30pIHtcbiAgICB0aGlzLmlzT3BlbiB8fCAoZSAmJiAodGhpcy50cmlnZ2VyRWxlbWVudCA9IGUpLCBuICYmICh0aGlzLnJlZmVyZW5jZUVsZW1lbnQgPSBuKSwgYXdhaXQgdGhpcy5pbml0aWF0ZU9wZW5TdGF0ZUNoYW5nZSghMCksIHRoaXMucG9wdXBFbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCIsIHRoaXMub3B0aW9ucy5yb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnBvcHVwRWwpLCBhd2FpdCB0aGlzLnNldFBvc2l0aW9uKCksIHRoaXMucGlja2VyLnJlc2V0KCExKSwgYXdhaXQgdGhpcy5hbmltYXRlUG9wdXAoITApLCBhd2FpdCB0aGlzLmFuaW1hdGVDbG9zZUJ1dHRvbighMCksIHRoaXMucGlja2VyLnNldEluaXRpYWxGb2N1cygpLCB0aGlzLmV4dGVybmFsRXZlbnRzLmVtaXQoXCJwaWNrZXI6b3BlblwiKSk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgdmFyIGU7XG4gICAgIXRoaXMuaXNPcGVuIHx8IChhd2FpdCB0aGlzLmluaXRpYXRlT3BlblN0YXRlQ2hhbmdlKCExKSwgYXdhaXQgdGhpcy5hbmltYXRlQ2xvc2VCdXR0b24oITEpLCBhd2FpdCB0aGlzLmFuaW1hdGVQb3B1cCghMSksIHRoaXMucG9wdXBFbC5yZW1vdmUoKSwgdGhpcy5waWNrZXIucmVzZXQoKSwgKGUgPSB0aGlzLnBvc2l0aW9uQ2xlYW51cCkgPT0gbnVsbCB8fCBlLmNhbGwodGhpcyksIHRoaXMuZm9jdXNUcmFwLmRlYWN0aXZhdGUoKSwgdGhpcy5leHRlcm5hbEV2ZW50cy5lbWl0KFwicGlja2VyOmNsb3NlXCIpKTtcbiAgfVxuICBnZXRSdW5uaW5nQW5pbWF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5waWNrZXIuZWwuZ2V0QW5pbWF0aW9ucygpLmZpbHRlcigoZSkgPT4gZS5wbGF5U3RhdGUgPT09IFwicnVubmluZ1wiKTtcbiAgfVxuICBhc3luYyBzZXRQb3NpdGlvbigpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMucG9zaXRpb25DbGVhbnVwKSA9PSBudWxsIHx8IGUuY2FsbCh0aGlzKSwgdGhpcy5wb3NpdGlvbkNsZWFudXAgPSBhd2FpdCBlZShcbiAgICAgIHRoaXMucG9wdXBFbCxcbiAgICAgIHRoaXMucmVmZXJlbmNlRWxlbWVudCxcbiAgICAgIHRoaXMub3B0aW9ucy5wb3NpdGlvblxuICAgICk7XG4gIH1cbiAgYXdhaXRQZW5kaW5nQW5pbWF0aW9ucygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5nZXRSdW5uaW5nQW5pbWF0aW9ucygpLm1hcCgoZSkgPT4gZS5maW5pc2hlZCkpO1xuICB9XG4gIG9uRG9jdW1lbnRDbGljayhlKSB7XG4gICAgdmFyIGk7XG4gICAgY29uc3QgbiA9IGUudGFyZ2V0LCBvID0gKGkgPSB0aGlzLnRyaWdnZXJFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogaS5jb250YWlucyhuKTtcbiAgICB0aGlzLmlzT3BlbiAmJiAhdGhpcy5waWNrZXIuaXNQaWNrZXJDbGljayhlKSAmJiAhbyAmJiB0aGlzLmNsb3NlKCk7XG4gIH1cbiAgYW5pbWF0ZVBvcHVwKGUpIHtcbiAgICByZXR1cm4gWihcbiAgICAgIHRoaXMucG9wdXBFbCxcbiAgICAgIHtcbiAgICAgICAgb3BhY2l0eTogWzAsIDFdLFxuICAgICAgICB0cmFuc2Zvcm06IFtcInNjYWxlKDAuOSlcIiwgXCJzY2FsZSgxKVwiXVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZHVyYXRpb246IDE1MCxcbiAgICAgICAgaWQ6IGUgPyBcInNob3ctcGlja2VyXCIgOiBcImhpZGUtcGlja2VyXCIsXG4gICAgICAgIGVhc2luZzogXCJlYXNlLWluLW91dFwiLFxuICAgICAgICBkaXJlY3Rpb246IGUgPyBcIm5vcm1hbFwiIDogXCJyZXZlcnNlXCIsXG4gICAgICAgIGZpbGw6IFwiYm90aFwiXG4gICAgICB9LFxuICAgICAgdGhpcy5vcHRpb25zXG4gICAgKTtcbiAgfVxuICBhbmltYXRlQ2xvc2VCdXR0b24oZSkge1xuICAgIGlmICh0aGlzLmNsb3NlQnV0dG9uKVxuICAgICAgcmV0dXJuIFooXG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24sXG4gICAgICAgIHtcbiAgICAgICAgICBvcGFjaXR5OiBbMCwgMV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGR1cmF0aW9uOiAyNSxcbiAgICAgICAgICBpZDogZSA/IFwic2hvdy1jbG9zZVwiIDogXCJoaWRlLWNsb3NlXCIsXG4gICAgICAgICAgZWFzaW5nOiBcImVhc2UtaW4tb3V0XCIsXG4gICAgICAgICAgZGlyZWN0aW9uOiBlID8gXCJub3JtYWxcIiA6IFwicmV2ZXJzZVwiLFxuICAgICAgICAgIGZpbGw6IFwiYm90aFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgKTtcbiAgfVxuICBhc3luYyBpbml0aWF0ZU9wZW5TdGF0ZUNoYW5nZShlKSB7XG4gICAgdGhpcy5pc09wZW4gPSBlLCBhd2FpdCB0aGlzLmF3YWl0UGVuZGluZ0FuaW1hdGlvbnMoKTtcbiAgfVxufVxuY29uc3QgbGUgPSBgLnBvcHVwQ29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47cG9zaXRpb246YWJzb2x1dGV9LnBvcHVwQ29udGFpbmVyIC5jbG9zZUJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6bm9uZTt6LWluZGV4OjE7cmlnaHQ6MDt0b3A6MDtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjRweDthbGlnbi1zZWxmOmZsZXgtZW5kO3RyYW5zZm9ybTp0cmFuc2xhdGUoNTAlLC01MCUpO2JhY2tncm91bmQ6Izk5OTk5OTt3aWR0aDoxLjVyZW07aGVpZ2h0OjEuNXJlbTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7Ym9yZGVyLXJhZGl1czo1MCV9LnBvcHVwQ29udGFpbmVyIC5jbG9zZUJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWFjY2VudC1jb2xvcil9LnBvcHVwQ29udGFpbmVyIC5jbG9zZUJ1dHRvbiBzdmd7ZmlsbDojZmZmO3dpZHRoOjEuMjVyZW07aGVpZ2h0OjEuMjVyZW19XG5gLCBhZSA9IEN0KCk7XG5mdW5jdGlvbiB1ZSh0LCBlKSB7XG4gIHJldHVybiBhZShsZSksIG5ldyBjZSh7XG4gICAgYXV0b0ZvY3VzOiBcImF1dG9cIixcbiAgICAuLi50XG4gIH0sIGUpO1xufVxuZXhwb3J0IHtcbiAgY2UgYXMgUG9wdXBQaWNrZXJDb250cm9sbGVyLFxuICB1ZSBhcyBjcmVhdGVQb3B1cFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@picmo/popup-picker/dist/index.js\n");

/***/ }),

/***/ "./node_modules/picmo/dist/index.js":
/*!******************************************!*\
  !*** ./node_modules/picmo/dist/index.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EmojiPicker\": () => (/* binding */ gs),\n/* harmony export */   \"Events\": () => (/* binding */ ae),\n/* harmony export */   \"FocusTrap\": () => (/* binding */ Ue),\n/* harmony export */   \"InMemoryStoreFactory\": () => (/* binding */ xs),\n/* harmony export */   \"IndexedDbStoreFactory\": () => (/* binding */ xe),\n/* harmony export */   \"LocalStorageProvider\": () => (/* binding */ Ct),\n/* harmony export */   \"NativeRenderer\": () => (/* binding */ pt),\n/* harmony export */   \"RecentsProvider\": () => (/* binding */ bt),\n/* harmony export */   \"Renderer\": () => (/* binding */ ut),\n/* harmony export */   \"SessionStorageProvider\": () => (/* binding */ Fs),\n/* harmony export */   \"animate\": () => (/* binding */ I),\n/* harmony export */   \"autoTheme\": () => (/* binding */ $s),\n/* harmony export */   \"caseInsensitiveIncludes\": () => (/* binding */ he),\n/* harmony export */   \"computeHash\": () => (/* binding */ Ve),\n/* harmony export */   \"createDatabase\": () => (/* binding */ As),\n/* harmony export */   \"createPicker\": () => (/* binding */ Ls),\n/* harmony export */   \"createStyleInjector\": () => (/* binding */ vs),\n/* harmony export */   \"darkTheme\": () => (/* binding */ zs),\n/* harmony export */   \"debounce\": () => (/* binding */ Re),\n/* harmony export */   \"deleteDatabase\": () => (/* binding */ Ps),\n/* harmony export */   \"en\": () => (/* binding */ yt),\n/* harmony export */   \"getEmojiForEvent\": () => (/* binding */ U),\n/* harmony export */   \"getOptions\": () => (/* binding */ kt),\n/* harmony export */   \"getPrefixedClasses\": () => (/* binding */ g),\n/* harmony export */   \"globalConfig\": () => (/* binding */ xt),\n/* harmony export */   \"lightTheme\": () => (/* binding */ Ke),\n/* harmony export */   \"prefixClassName\": () => (/* binding */ ie),\n/* harmony export */   \"shouldAnimate\": () => (/* binding */ be),\n/* harmony export */   \"throttle\": () => (/* binding */ Te),\n/* harmony export */   \"toElement\": () => (/* binding */ J)\n/* harmony export */ });\nvar O = (s, e, t) => {\n  if (!e.has(s))\n    throw TypeError(\"Cannot \" + t);\n};\nvar y = (s, e, t) => (O(s, e, \"read from private field\"), t ? t.call(s) : e.get(s)), f = (s, e, t) => {\n  if (e.has(s))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  e instanceof WeakSet ? e.add(s) : e.set(s, t);\n}, A = (s, e, t, o) => (O(s, e, \"write to private field\"), o ? o.call(s, t) : e.set(s, t), t);\nvar p = (s, e, t) => (O(s, e, \"access private method\"), t);\nconst $e = \"14.0\";\nfunction Le(s, e, t) {\n  let o = `https://cdn.jsdelivr.net/npm/emojibase-data@${e}/${s}`;\n  return typeof t == \"function\" ? o = t(s, e) : typeof t == \"string\" && (o = `${t}/${s}`), o;\n}\nasync function oe(s, e = {}) {\n  const {\n    local: t = !1,\n    version: o = \"latest\",\n    cdnUrl: i,\n    ...r\n  } = e, a = Le(s, o, i), n = t ? localStorage : sessionStorage, l = `emojibase/${o}/${s}`, m = n.getItem(l);\n  if (m)\n    return Promise.resolve(JSON.parse(m));\n  const d = await fetch(a, {\n    credentials: \"omit\",\n    mode: \"cors\",\n    redirect: \"error\",\n    ...r\n  });\n  if (!d.ok)\n    throw new Error(\"Failed to load Emojibase dataset.\");\n  const h = await d.json();\n  try {\n    n.setItem(l, JSON.stringify(h));\n  } catch {\n  }\n  return h;\n}\nconst Fe = {\n  discord: \"joypixels\",\n  slack: \"iamcal\"\n};\nasync function le(s, e, t) {\n  var o;\n  return oe(`${s}/shortcodes/${(o = Fe[e]) !== null && o !== void 0 ? o : e}.json`, t);\n}\nfunction k(s, e) {\n  if (e.length === 0)\n    return s;\n  const t = new Set(s.shortcodes);\n  return e.forEach((o) => {\n    const i = o[s.hexcode];\n    Array.isArray(i) ? i.forEach((r) => t.add(r)) : i && t.add(i);\n  }), s.shortcodes = [...t], s.skins && s.skins.forEach((o) => {\n    k(o, e);\n  }), s;\n}\nfunction Ae(s, e = []) {\n  const t = [];\n  return s.forEach((o) => {\n    if (o.skins) {\n      const {\n        skins: i,\n        ...r\n      } = o;\n      t.push(k(r, e)), i.forEach((a) => {\n        const n = {\n          ...a\n        };\n        r.tags && (n.tags = [...r.tags]), t.push(k(n, e));\n      });\n    } else\n      t.push(k(o, e));\n  }), t;\n}\nfunction Ie(s, e) {\n  return e.length === 0 || s.forEach((t) => {\n    k(t, e);\n  }), s;\n}\nasync function ve(s, e = {}) {\n  const {\n    compact: t = !1,\n    flat: o = !1,\n    shortcodes: i = [],\n    ...r\n  } = e, a = await oe(`${s}/${t ? \"compact\" : \"data\"}.json`, r);\n  let n = [];\n  return i.length > 0 && (n = await Promise.all(i.map((l) => {\n    let m;\n    if (l.includes(\"/\")) {\n      const [d, h] = l.split(\"/\");\n      m = le(d, h, r);\n    } else\n      m = le(s, l, r);\n    return m.catch(() => ({}));\n  }))), o ? Ae(a, n) : Ie(a, n);\n}\nasync function we(s, e) {\n  return oe(`${s}/messages.json`, e);\n}\nfunction U(s, e) {\n  const o = s.target.closest(\"[data-emoji]\");\n  if (o) {\n    const i = e.find((r) => r.emoji === o.dataset.emoji);\n    if (i)\n      return i;\n  }\n  return null;\n}\nfunction be(s) {\n  var t;\n  const e = (t = window.matchMedia) == null ? void 0 : t.call(window, \"(prefers-reduced-motion: reduce)\");\n  return s.animate && !(e != null && e.matches);\n}\nfunction he(s, e) {\n  return s.toLowerCase().includes(e.toLowerCase());\n}\nfunction Te(s, e) {\n  let t = null;\n  return () => {\n    t || (t = window.setTimeout(() => {\n      s(), t = null;\n    }, e));\n  };\n}\nfunction Re(s, e) {\n  let t = null;\n  return (...o) => {\n    t && window.clearTimeout(t), t = window.setTimeout(() => {\n      s(...o), t = null;\n    }, e);\n  };\n}\nfunction I(s, e, t, o) {\n  if (be(o) && s.animate)\n    return s.animate(e, t).finished;\n  const i = t.direction === \"normal\" ? 1 : 0, r = Object.entries(e).reduce((a, [n, l]) => ({\n    ...a,\n    [n]: l[i]\n  }), {});\n  return Object.assign(s.style, r), Promise.resolve();\n}\nfunction J(s) {\n  var t;\n  const e = document.createElement(\"template\");\n  return e.innerHTML = s, (t = e.content) == null ? void 0 : t.firstElementChild;\n}\nasync function Ve(s) {\n  const e = new TextEncoder().encode(s), t = await crypto.subtle.digest(\"SHA-256\", e);\n  return Array.from(new Uint8Array(t)).map((i) => i.toString(16).padStart(2, \"0\")).join(\"\");\n}\nfunction g(...s) {\n  return s.reduce((e, t) => ({\n    ...e,\n    [t]: ie(t)\n  }), {});\n}\nfunction ie(s) {\n  return `${s}`;\n}\nfunction Be(s, e) {\n  const t = `https://cdn.jsdelivr.net/npm/emojibase-data@${s}/${e}`;\n  return {\n    emojisUrl: `${t}/data.json`,\n    messagesUrl: `${t}/messages.json`\n  };\n}\nasync function de(s) {\n  try {\n    return (await fetch(s, { method: \"HEAD\" })).headers.get(\"etag\");\n  } catch {\n    return null;\n  }\n}\nfunction Me(s) {\n  const { emojisUrl: e, messagesUrl: t } = Be(\"latest\", s);\n  try {\n    return Promise.all([\n      de(e),\n      de(t)\n    ]);\n  } catch {\n    return Promise.all([null, null]);\n  }\n}\nasync function De(s, e, t) {\n  let o;\n  try {\n    o = await s.getEtags();\n  } catch {\n    o = {};\n  }\n  const { storedEmojisEtag: i, storedMessagesEtag: r } = o;\n  if (t !== r || e !== i) {\n    const [a, n] = await Promise.all([we(s.locale), ve(s.locale)]);\n    await s.populate({\n      groups: a.groups,\n      emojis: n,\n      emojisEtag: e,\n      messagesEtag: t\n    });\n  }\n}\nasync function He(s, e) {\n  const t = await s.getHash();\n  return e !== t;\n}\nasync function Ce(s, e, t) {\n  const o = t || e(s);\n  return await o.open(), o;\n}\nasync function Ne(s, e, t) {\n  const o = await Ce(s, e, t), [i, r] = await Me(s);\n  if (await o.isPopulated())\n    i && r && await De(o, i, r);\n  else {\n    const [a, n] = await Promise.all([we(s), ve(s)]);\n    await o.populate({ groups: a.groups, emojis: n, emojisEtag: i, messagesEtag: r });\n  }\n  return o;\n}\nasync function Oe(s, e, t, o, i) {\n  const r = await Ce(s, e, i), a = await Ve(o);\n  return (!await r.isPopulated() || await He(r, a)) && await r.populate({ groups: t.groups, emojis: o, hash: a }), r;\n}\nasync function re(s, e, t, o, i) {\n  return t && o ? Oe(s, e, t, o, i) : Ne(s, e, i);\n}\nfunction Ps(s, e) {\n  s.deleteDatabase(e);\n}\nclass Ue {\n  constructor() {\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n  activate(e) {\n    this.rootElement = e, this.rootElement.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  deactivate() {\n    var e;\n    (e = this.rootElement) == null || e.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n  get focusableElements() {\n    return this.rootElement.querySelectorAll('input, [tabindex=\"0\"]');\n  }\n  get lastFocusableElement() {\n    return this.focusableElements[this.focusableElements.length - 1];\n  }\n  get firstFocusableElement() {\n    return this.focusableElements[0];\n  }\n  checkFocus(e, t, o) {\n    e.target === t && (o.focus(), e.preventDefault());\n  }\n  handleKeyDown(e) {\n    e.key === \"Tab\" && this.checkFocus(\n      e,\n      e.shiftKey ? this.firstFocusableElement : this.lastFocusableElement,\n      e.shiftKey ? this.lastFocusableElement : this.firstFocusableElement\n    );\n  }\n}\nconst {\n  light: Ke,\n  dark: zs,\n  auto: $s\n} = g(\"light\", \"dark\", \"auto\");\nclass c {\n  constructor({ template: e, classes: t, parent: o }) {\n    this.isDestroyed = !1, this.appEvents = {}, this.uiEvents = [], this.uiElements = {}, this.ui = {}, this.template = e, this.classes = t, this.parent = o, this.keyBindingHandler = this.keyBindingHandler.bind(this);\n  }\n  initialize() {\n    this.bindAppEvents();\n  }\n  setCustomEmojis(e) {\n    this.customEmojis = e;\n  }\n  setEvents(e) {\n    this.events = e;\n  }\n  setPickerId(e) {\n    this.pickerId = e;\n  }\n  emit(e, ...t) {\n    this.events.emit(e, ...t);\n  }\n  setI18n(e) {\n    this.i18n = e;\n  }\n  setRenderer(e) {\n    this.renderer = e;\n  }\n  setEmojiData(e) {\n    this.emojiDataPromise = e, e.then((t) => {\n      this.emojiData = t;\n    });\n  }\n  updateEmojiData(e) {\n    this.emojiData = e, this.emojiDataPromise = Promise.resolve(e);\n  }\n  setOptions(e) {\n    this.options = e;\n  }\n  renderSync(e = {}) {\n    return this.el = this.template.renderSync({\n      classes: this.classes,\n      i18n: this.i18n,\n      pickerId: this.pickerId,\n      ...e\n    }), this.postRender(), this.el;\n  }\n  async render(e = {}) {\n    return await this.emojiDataPromise, this.el = await this.template.renderAsync({\n      classes: this.classes,\n      i18n: this.i18n,\n      pickerId: this.pickerId,\n      ...e\n    }), this.postRender(), this.el;\n  }\n  postRender() {\n    this.bindUIElements(), this.bindKeyBindings(), this.bindUIEvents(), this.scheduleShowAnimation();\n  }\n  bindAppEvents() {\n    Object.keys(this.appEvents).forEach((e) => {\n      this.events.on(e, this.appEvents[e], this);\n    }), this.events.on(\"data:ready\", this.updateEmojiData, this);\n  }\n  unbindAppEvents() {\n    Object.keys(this.appEvents).forEach((e) => {\n      this.events.off(e, this.appEvents[e]);\n    }), this.events.off(\"data:ready\", this.updateEmojiData);\n  }\n  keyBindingHandler(e) {\n    const t = this.keyBindings[e.key];\n    t && t.call(this, e);\n  }\n  bindKeyBindings() {\n    this.keyBindings && this.el.addEventListener(\"keydown\", this.keyBindingHandler);\n  }\n  unbindKeyBindings() {\n    this.keyBindings && this.el.removeEventListener(\"keydown\", this.keyBindingHandler);\n  }\n  bindUIElements() {\n    this.ui = Object.keys(this.uiElements).reduce((e, t) => ({\n      ...e,\n      [t]: this.el.querySelector(this.uiElements[t])\n    }), {});\n  }\n  bindUIEvents() {\n    this.uiEvents.forEach((e) => {\n      e.handler = e.handler.bind(this), (e.target ? this.ui[e.target] : this.el).addEventListener(e.event, e.handler, e.options);\n    });\n  }\n  unbindUIEvents() {\n    this.uiEvents.forEach((e) => {\n      (e.target ? this.ui[e.target] : this.el).removeEventListener(e.event, e.handler);\n    });\n  }\n  destroy() {\n    this.unbindAppEvents(), this.unbindUIEvents(), this.unbindKeyBindings(), this.el.remove(), this.isDestroyed = !0;\n  }\n  scheduleShowAnimation() {\n    if (this.parent) {\n      const e = new MutationObserver((t) => {\n        const [o] = t;\n        o.type === \"childList\" && o.addedNodes[0] === this.el && (be(this.options) && this.animateShow && this.animateShow(), e.disconnect);\n      });\n      e.observe(this.parent, { childList: !0 });\n    }\n  }\n  static childEvent(e, t, o, i = {}) {\n    return { target: e, event: t, handler: o, options: i };\n  }\n  static uiEvent(e, t, o = {}) {\n    return { event: e, handler: t, options: o };\n  }\n  static byClass(e) {\n    return `.${e}`;\n  }\n}\nconst qe = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z\"/></svg>', Ge = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z\"/></svg>', We = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240zM336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176zM259.9 369.4C288.8 369.4 316.2 375.2 340.6 385.5C352.9 390.7 366.7 381.3 361.4 369.1C344.8 330.9 305.6 303.1 259.9 303.1C214.3 303.1 175.1 330.8 158.4 369.1C153.1 381.3 166.1 390.6 179.3 385.4C203.7 375.1 231 369.4 259.9 369.4L259.9 369.4z\"/></svg>', _e = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M448 64H192C85.96 64 0 149.1 0 256s85.96 192 192 192h256c106 0 192-85.96 192-192S554 64 448 64zM247.1 280h-32v32c0 13.2-10.78 24-23.98 24c-13.2 0-24.02-10.8-24.02-24v-32L136 279.1C122.8 279.1 111.1 269.2 111.1 256c0-13.2 10.85-24.01 24.05-24.01L167.1 232v-32c0-13.2 10.82-24 24.02-24c13.2 0 23.98 10.8 23.98 24v32h32c13.2 0 24.02 10.8 24.02 24C271.1 269.2 261.2 280 247.1 280zM431.1 344c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40s39.1 17.88 39.1 40S454.1 344 431.1 344zM495.1 248c-22.12 0-39.1-17.87-39.1-39.1s17.87-40 39.1-40c22.12 0 39.1 17.88 39.1 40S518.1 248 495.1 248z\"/></svg>', Je = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z\"/></svg>', Ye = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M512 32H120c-13.25 0-24 10.75-24 24L96.01 288c0 53 43 96 96 96h192C437 384 480 341 480 288h32c70.63 0 128-57.38 128-128S582.6 32 512 32zM512 224h-32V96h32c35.25 0 64 28.75 64 64S547.3 224 512 224zM560 416h-544C7.164 416 0 423.2 0 432C0 458.5 21.49 480 48 480h480c26.51 0 48-21.49 48-48C576 423.2 568.8 416 560 416z\"/></svg>', Qe = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M482.3 192C516.5 192 576 221 576 256C576 292 516.5 320 482.3 320H365.7L265.2 495.9C259.5 505.8 248.9 512 237.4 512H181.2C170.6 512 162.9 501.8 165.8 491.6L214.9 320H112L68.8 377.6C65.78 381.6 61.04 384 56 384H14.03C6.284 384 0 377.7 0 369.1C0 368.7 .1818 367.4 .5398 366.1L32 256L.5398 145.9C.1818 144.6 0 143.3 0 142C0 134.3 6.284 128 14.03 128H56C61.04 128 65.78 130.4 68.8 134.4L112 192H214.9L165.8 20.4C162.9 10.17 170.6 0 181.2 0H237.4C248.9 0 259.5 6.153 265.2 16.12L365.7 192H482.3z\"/></svg>', Xe = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M9.375 233.4C3.375 239.4 0 247.5 0 256v128c0 8.5 3.375 16.62 9.375 22.62S23.5 416 32 416h32V224H32C23.5 224 15.38 227.4 9.375 233.4zM464 96H352V32c0-17.62-14.38-32-32-32S288 14.38 288 32v64H176C131.8 96 96 131.8 96 176V448c0 35.38 28.62 64 64 64h320c35.38 0 64-28.62 64-64V176C544 131.8 508.3 96 464 96zM256 416H192v-32h64V416zM224 296C201.9 296 184 278.1 184 256S201.9 216 224 216S264 233.9 264 256S246.1 296 224 296zM352 416H288v-32h64V416zM448 416h-64v-32h64V416zM416 296c-22.12 0-40-17.88-40-40S393.9 216 416 216S456 233.9 456 256S438.1 296 416 296zM630.6 233.4C624.6 227.4 616.5 224 608 224h-32v192h32c8.5 0 16.62-3.375 22.62-9.375S640 392.5 640 384V256C640 247.5 636.6 239.4 630.6 233.4z\"/></svg>', Ze = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n  <defs>\n    <radialGradient gradientUnits=\"userSpaceOnUse\" cy=\"10%\" id=\"gradient-0\">\n      <stop offset=\"0\" stop-color=\"hsl(50, 100%, 50%)\" />\n      <stop offset=\"1\" stop-color=\"hsl(50, 100%, 60%)\" />\n    </radialGradient>\n  </defs>\n  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\n  <ellipse stroke=\"#000\" fill=\"rgba(0, 0, 0, 0.6)\" cx=\"172.586\" cy=\"207.006\" rx=\"39.974\" ry=\"39.974\"/>\n  <ellipse stroke=\"#000\" fill=\"rgba(0, 0, 0, 0.6)\" cx=\"334.523\" cy=\"207.481\" rx=\"39.974\" ry=\"39.974\"/>\n  <ellipse stroke=\"#000\" fill=\"rgba(0, 0, 0, 0.6)\" cx=\"313.325\" cy=\"356.208\" rx=\"91.497\" ry=\"59.893\"/>\n  <path fill=\"#55a7ff\" d=\"M 159.427 274.06 L 102.158 363.286 L 124.366 417.011 L 160.476 423.338 L 196.937 414.736 L 218.502 375.214\"></path>\n  <path fill=\"url(#gradient-0)\" d=\"M256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM256 352C290.9 352 323.2 367.8 348.3 394.9C354.3 401.4 364.4 401.7 370.9 395.7C377.4 389.7 377.7 379.6 371.7 373.1C341.6 340.5 301 320 256 320C247.2 320 240 327.2 240 336C240 344.8 247.2 352 256 352H256zM208 369C208 349 179.6 308.6 166.4 291.3C163.2 286.9 156.8 286.9 153.6 291.3C140.6 308.6 112 349 112 369C112 395 133.5 416 160 416C186.5 416 208 395 208 369H208zM303.6 208C303.6 225.7 317.1 240 335.6 240C353.3 240 367.6 225.7 367.6 208C367.6 190.3 353.3 176 335.6 176C317.1 176 303.6 190.3 303.6 208zM207.6 208C207.6 190.3 193.3 176 175.6 176C157.1 176 143.6 190.3 143.6 208C143.6 225.7 157.1 240 175.6 240C193.3 240 207.6 225.7 207.6 208z\" />\n</svg>`, et = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z\"/></svg>', tt = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256.3 331.8C208.9 331.8 164.1 324.9 124.5 312.8C112.2 309 100.2 319.7 105.2 331.5C130.1 390.6 188.4 432 256.3 432C324.2 432 382.4 390.6 407.4 331.5C412.4 319.7 400.4 309 388.1 312.8C348.4 324.9 303.7 331.8 256.3 331.8H256.3zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z\"/></svg>', st = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z\"/></svg>', ot = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M413.8 447.1L256 448l0 31.99C256 497.7 241.8 512 224.1 512c-17.67 0-32.1-14.32-32.1-31.99l0-31.99l-158.9-.0099c-28.5 0-43.69-34.49-24.69-56.4l68.98-79.59H62.22c-25.41 0-39.15-29.8-22.67-49.13l60.41-70.85H89.21c-21.28 0-32.87-22.5-19.28-37.31l134.8-146.5c10.4-11.3 28.22-11.3 38.62-.0033l134.9 146.5c13.62 14.81 2.001 37.31-19.28 37.31h-10.77l60.35 70.86c16.46 19.34 2.716 49.12-22.68 49.12h-15.2l68.98 79.59C458.7 413.7 443.1 447.1 413.8 447.1z\"/></svg>', it = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM479.1 320h-73.85C451.2 357.7 480 414.1 480 477.3C480 490.1 476.2 501.9 470 512h138C625.7 512 640 497.6 640 479.1C640 391.6 568.4 320 479.1 320zM432 256C493.9 256 544 205.9 544 144S493.9 32 432 32c-25.11 0-48.04 8.555-66.72 22.51C376.8 76.63 384 101.4 384 128c0 35.52-11.93 68.14-31.59 94.71C372.7 243.2 400.8 256 432 256z\"/></svg>', rt = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n  <defs>\n    <radialGradient id=\"radial\" cy=\"85%\">\n      <stop offset=\"20%\" stop-color=\"var(--color-secondary)\" />\n      <stop offset=\"100%\" stop-color=\"var(--color-primary)\" />\n    </radialGradient>\n  </defs>\n  <!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\n  <path fill=\"url('#radial')\" d=\"M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z\" />\n</svg>`, at = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\"/></svg>';\nfunction nt(s, e) {\n  const t = J(e);\n  return t.dataset.icon = s, t.classList.add(ie(\"icon\")), t;\n}\nconst me = {\n  clock: qe,\n  flag: Ge,\n  frown: We,\n  gamepad: _e,\n  lightbulb: Je,\n  mug: Ye,\n  plane: Qe,\n  robot: Xe,\n  sad: Ze,\n  search: et,\n  smiley: tt,\n  symbols: st,\n  tree: ot,\n  users: it,\n  warning: rt,\n  xmark: at\n}, D = {\n  recents: \"clock\",\n  \"smileys-emotion\": \"smiley\",\n  \"people-body\": \"users\",\n  \"animals-nature\": \"tree\",\n  \"food-drink\": \"mug\",\n  activities: \"gamepad\",\n  \"travel-places\": \"plane\",\n  objects: \"lightbulb\",\n  symbols: \"symbols\",\n  flags: \"flag\",\n  custom: \"robot\"\n};\nfunction je(s, e) {\n  if (!(s in me))\n    return console.warn(`Unknown icon: \"${s}\"`), document.createElement(\"div\");\n  const t = nt(s, me[s]);\n  return e && t.classList.add(ie(`icon-${e}`)), t;\n}\nconst ct = {\n  mode: \"sync\"\n};\nvar w, E, S, Y, P, Q, z, X;\nclass u {\n  constructor(e, t = {}) {\n    f(this, S);\n    f(this, P);\n    f(this, z);\n    f(this, w, void 0);\n    f(this, E, void 0);\n    A(this, w, e), A(this, E, t.mode || ct.mode);\n  }\n  renderSync(e = {}) {\n    const t = J(y(this, w).call(this, e));\n    return p(this, z, X).call(this, t, e), p(this, P, Q).call(this, t), p(this, S, Y).call(this, t, e), t;\n  }\n  async renderAsync(e = {}) {\n    const t = J(y(this, w).call(this, e));\n    return p(this, z, X).call(this, t, e), p(this, P, Q).call(this, t), await p(this, S, Y).call(this, t, e), t;\n  }\n  render(e) {\n    return y(this, E) === \"sync\" ? this.renderSync(e) : this.renderAsync(e);\n  }\n}\nw = new WeakMap(), E = new WeakMap(), S = new WeakSet(), Y = async function(e, t) {\n  const o = e.querySelectorAll(\"[data-view]\"), i = [];\n  for (const r of o) {\n    const a = t[r.dataset.view];\n    a ? r.dataset.render !== \"sync\" ? i.push(a.render().then((n) => (r.replaceWith(n), n))) : r.replaceWith(a.renderSync()) : r.remove();\n  }\n  return Promise.all(i);\n}, P = new WeakSet(), Q = function(e) {\n  e.querySelectorAll(\"i[data-icon]\").forEach((o) => {\n    const { icon: i, size: r } = o.dataset;\n    o.replaceWith(je(i, r));\n  });\n}, z = new WeakSet(), X = function(e, t) {\n  return e.querySelectorAll(\"[data-placeholder]\").forEach((i) => {\n    const r = i.dataset.placeholder;\n    if (r && t[r]) {\n      const a = t[r];\n      i.replaceWith(...[a].flat());\n    } else\n      console.warn(`Missing placeholder element for key \"${r}\"`);\n  }), e;\n};\nconst lt = g(\n  \"imagePlaceholder\",\n  \"placeholder\"\n), ht = new u(({ classes: s }) => `\n  <div class=\"${s.placeholder} ${s.imagePlaceholder}\"></div>\n`);\nclass dt extends c {\n  constructor({ classNames: e } = {}) {\n    super({ template: ht, classes: lt }), this.classNames = e;\n  }\n  load(e) {\n    const t = document.createElement(\"img\");\n    this.classNames && (t.className = this.classNames), t.addEventListener(\"load\", () => {\n      this.el.replaceWith(t);\n    }, { once: !0 }), Promise.resolve(e).then((o) => t.src = o);\n  }\n  renderSync() {\n    return super.renderSync(), this.classNames && this.classNames.split(\" \").forEach((t) => this.el.classList.add(t)), this.el;\n  }\n}\nconst mt = g(\"customEmoji\");\nclass ut {\n  renderElement(e) {\n    return { content: e };\n  }\n  renderImage(e = \"\", t) {\n    const o = new dt({ classNames: e });\n    return o.renderSync(), { content: o, resolver: () => (o.load(t()), o.el) };\n  }\n  doRender(e, t, o) {\n    if (e.custom)\n      return this.renderCustom(e, t, o);\n    const { content: i, resolver: r } = this.render(e, o), a = i instanceof Element ? i : i.el;\n    return r && r(), a;\n  }\n  doEmit(e) {\n    return e.custom ? this.emitCustom(e) : this.emit(e);\n  }\n  emitCustom({ url: e, label: t, emoji: o, data: i }) {\n    return { url: e, label: t, emoji: o, data: i };\n  }\n  renderCustom(e, t, o = \"\") {\n    const i = [mt.customEmoji, o].join(\" \").trim(), { content: r, resolver: a } = this.renderImage(i, () => e.url), n = r instanceof Element ? r : r.el;\n    return a && a(), n;\n  }\n}\nconst gt = new u(({ emoji: s }) => `<span>${s}</span>`);\nclass pt extends ut {\n  render(e) {\n    return this.renderElement(gt.renderSync({ emoji: e.emoji }));\n  }\n  emit({ emoji: e, hexcode: t, label: o }) {\n    return { emoji: e, hexcode: t, label: o };\n  }\n}\nconst yt = {\n  \"categories.activities\": \"Activities\",\n  \"categories.animals-nature\": \"Animals & Nature\",\n  \"categories.custom\": \"Custom\",\n  \"categories.flags\": \"Flags\",\n  \"categories.food-drink\": \"Food & Drink\",\n  \"categories.objects\": \"Objects\",\n  \"categories.people-body\": \"People & Body\",\n  \"categories.recents\": \"Recently Used\",\n  \"categories.smileys-emotion\": \"Smileys & Emotion\",\n  \"categories.symbols\": \"Symbols\",\n  \"categories.travel-places\": \"Travel & Places\",\n  \"error.load\": \"Failed to load emojis\",\n  \"recents.clear\": \"Clear recent emojis\",\n  \"recents.none\": \"You haven't selected any emojis yet.\",\n  retry: \"Try again\",\n  \"search.clear\": \"Clear search\",\n  \"search.error\": \"Failed to search emojis\",\n  \"search.notFound\": \"No results found\",\n  search: \"Search emojis...\"\n}, ft = [\n  (s, e) => (s.hexcode === \"1F91D\" && e < 14 && (s.skins = []), s),\n  (s, e) => (s.skins && (s.skins = s.skins.filter((t) => !t.version || t.version <= e)), s)\n];\nfunction vt(s, e) {\n  return ft.some((t) => t(s, e) === null) ? null : s;\n}\nfunction B(s, e) {\n  return s.filter((t) => vt(t, e) !== null);\n}\nfunction x(s) {\n  var e;\n  return {\n    emoji: s.emoji,\n    label: s.label,\n    tags: s.tags,\n    skins: (e = s.skins) == null ? void 0 : e.map((t) => x(t)),\n    order: s.order,\n    custom: !1,\n    hexcode: s.hexcode,\n    version: s.version\n  };\n}\nfunction M(s, e, t) {\n  var o;\n  return t && !t.some((i) => i.order === s.group) ? !1 : he(s.label, e) || ((o = s.tags) == null ? void 0 : o.some((i) => he(i, e)));\n}\nclass ke {\n  constructor(e = \"en\") {\n    this.locale = e;\n  }\n}\nconst Z = \"PicMo\";\nfunction xe(s) {\n  return new wt(s);\n}\nxe.deleteDatabase = (s) => new Promise((e, t) => {\n  const o = indexedDB.deleteDatabase(`${Z}-${s}`);\n  o.addEventListener(\"success\", e), o.addEventListener(\"error\", t);\n});\nclass wt extends ke {\n  async open() {\n    const e = indexedDB.open(`${Z}-${this.locale}`);\n    return new Promise((t, o) => {\n      e.addEventListener(\"success\", (i) => {\n        var r;\n        this.db = (r = i.target) == null ? void 0 : r.result, t();\n      }), e.addEventListener(\"error\", o), e.addEventListener(\"upgradeneeded\", async (i) => {\n        var a;\n        this.db = (a = i.target) == null ? void 0 : a.result, this.db.createObjectStore(\"category\", { keyPath: \"order\" });\n        const r = this.db.createObjectStore(\"emoji\", { keyPath: \"emoji\" });\n        r.createIndex(\"category\", \"group\"), r.createIndex(\"version\", \"version\"), this.db.createObjectStore(\"meta\");\n      });\n    });\n  }\n  async delete() {\n    this.close();\n    const e = indexedDB.deleteDatabase(`${Z}-${this.locale}`);\n    await this.waitForRequest(e);\n  }\n  close() {\n    this.db.close();\n  }\n  async getEmojiCount() {\n    const t = this.db.transaction(\"emoji\", \"readonly\").objectStore(\"emoji\");\n    return (await this.waitForRequest(t.count())).target.result;\n  }\n  async getEtags() {\n    const t = this.db.transaction(\"meta\", \"readonly\").objectStore(\"meta\"), [o, i] = await Promise.all([\n      this.waitForRequest(t.get(\"emojisEtag\")),\n      this.waitForRequest(t.get(\"messagesEtag\"))\n    ]);\n    return {\n      storedEmojisEtag: o.target.result,\n      storedMessagesEtag: i.target.result\n    };\n  }\n  async setMeta(e) {\n    const t = this.db.transaction(\"meta\", \"readwrite\"), o = t.objectStore(\"meta\");\n    return new Promise((i) => {\n      t.oncomplete = i, Object.keys(e).filter(Boolean).forEach((a) => {\n        o.put(e[a], a);\n      });\n    });\n  }\n  async getHash() {\n    const t = this.db.transaction(\"meta\", \"readonly\").objectStore(\"meta\");\n    return (await this.waitForRequest(t.get(\"hash\"))).target.result;\n  }\n  async isPopulated() {\n    const t = this.db.transaction(\"category\", \"readonly\").objectStore(\"category\");\n    return (await this.waitForRequest(t.count())).target.result > 0;\n  }\n  async populate({\n    groups: e,\n    emojis: t,\n    emojisEtag: o,\n    messagesEtag: i,\n    hash: r\n  }) {\n    await this.removeAllObjects(\"category\", \"emoji\");\n    const a = [\n      this.addObjects(\"category\", e),\n      this.addObjects(\"emoji\", t),\n      this.setMeta({ emojisEtag: o, messagesEtag: i, hash: r })\n    ];\n    await Promise.all(a);\n  }\n  async getCategories(e) {\n    var a;\n    const o = this.db.transaction(\"category\", \"readonly\").objectStore(\"category\");\n    let r = (await this.waitForRequest(o.getAll())).target.result.filter((n) => n.key !== \"component\");\n    if (e.showRecents && r.unshift({ key: \"recents\", order: -1 }), (a = e.custom) != null && a.length && r.push({ key: \"custom\", order: 10 }), e.categories) {\n      const n = e.categories;\n      r = r.filter((l) => n.includes(l.key)), r.sort((l, m) => n.indexOf(l.key) - n.indexOf(m.key));\n    } else\n      r.sort((n, l) => n.order - l.order);\n    return r;\n  }\n  async getEmojis(e, t) {\n    const r = this.db.transaction(\"emoji\", \"readonly\").objectStore(\"emoji\").index(\"category\"), l = (await this.waitForRequest(r.getAll(e.order))).target.result.filter((m) => m.version <= t).sort((m, d) => m.order != null && d.order != null ? m.order - d.order : 0).map(x);\n    return B(l, t);\n  }\n  async searchEmojis(e, t, o, i) {\n    const r = [];\n    return new Promise((a, n) => {\n      const d = this.db.transaction(\"emoji\", \"readonly\").objectStore(\"emoji\").openCursor();\n      d.addEventListener(\"success\", (h) => {\n        var ce;\n        const H = (ce = h.target) == null ? void 0 : ce.result;\n        if (!H)\n          return a([\n            ...B(r, o),\n            ...t.filter((ze) => M(ze, e))\n          ]);\n        const N = H.value;\n        M(N, e, i) && N.version <= o && r.push(x(N)), H.continue();\n      }), d.addEventListener(\"error\", (h) => {\n        n(h);\n      });\n    });\n  }\n  async waitForRequest(e) {\n    return new Promise((t, o) => {\n      e.onsuccess = t, e.onerror = o;\n    });\n  }\n  withTransaction(e, t = \"readwrite\", o) {\n    return new Promise((i, r) => {\n      const a = this.db.transaction(e, t);\n      a.oncomplete = i, a.onerror = r, o(a);\n    });\n  }\n  async removeAllObjects(...e) {\n    const t = this.db.transaction(e, \"readwrite\"), o = e.map((i) => t.objectStore(i));\n    await Promise.all(o.map((i) => this.waitForRequest(i.clear())));\n  }\n  async addObjects(e, t) {\n    return this.withTransaction(e, \"readwrite\", (o) => {\n      const i = o.objectStore(e);\n      t.forEach((r) => {\n        i.add(r);\n      });\n    });\n  }\n}\nclass bt {\n}\nconst K = \"PicMo:recents\";\nclass Ee extends bt {\n  constructor(e) {\n    super(), this.storage = e;\n  }\n  clear() {\n    this.storage.removeItem(K);\n  }\n  getRecents(e) {\n    var t;\n    try {\n      return JSON.parse((t = this.storage.getItem(K)) != null ? t : \"[]\").slice(0, e);\n    } catch {\n      return [];\n    }\n  }\n  addOrUpdateRecent(e, t) {\n    const o = [\n      e,\n      ...this.getRecents(t).filter((i) => i.hexcode !== e.hexcode)\n    ].slice(0, t);\n    try {\n      this.storage.setItem(K, JSON.stringify(o));\n    } catch {\n      console.warn(\"storage is not available, recent emojis will not be saved\");\n    }\n  }\n}\nclass Ct extends Ee {\n  constructor() {\n    super(localStorage);\n  }\n}\nconst jt = {\n  dataStore: xe,\n  theme: Ke,\n  animate: !0,\n  showCategoryTabs: !0,\n  showPreview: !0,\n  showRecents: !0,\n  showSearch: !0,\n  showVariants: !0,\n  emojisPerRow: 8,\n  visibleRows: 6,\n  emojiVersion: \"auto\",\n  i18n: yt,\n  locale: \"en\",\n  maxRecents: 50,\n  custom: []\n};\nfunction kt(s = {}) {\n  return {\n    ...jt,\n    ...s,\n    renderer: s.renderer || new pt(),\n    recentsProvider: s.recentsProvider || new Ct()\n  };\n}\nvar v, b, V, $, ee;\nclass ae {\n  constructor() {\n    f(this, b);\n    f(this, $);\n    f(this, v, /* @__PURE__ */ new Map());\n  }\n  on(e, t, o) {\n    p(this, $, ee).call(this, e, t, o);\n  }\n  once(e, t, o) {\n    p(this, $, ee).call(this, e, t, o, !0);\n  }\n  off(e, t) {\n    const o = p(this, b, V).call(this, e);\n    y(this, v).set(e, o.filter((i) => i.handler !== t));\n  }\n  emit(e, ...t) {\n    p(this, b, V).call(this, e).forEach((i) => {\n      i.handler.apply(i.context, t), i.once && this.off(e, i.handler);\n    });\n  }\n  removeAll() {\n    y(this, v).clear();\n  }\n}\nv = new WeakMap(), b = new WeakSet(), V = function(e) {\n  return y(this, v).has(e) || y(this, v).set(e, []), y(this, v).get(e);\n}, $ = new WeakSet(), ee = function(e, t, o, i = !1) {\n  p(this, b, V).call(this, e).push({ context: o, handler: t, once: i });\n};\nconst xt = {\n  injectStyles: !0\n};\nclass Et extends ae {\n}\nclass St extends ae {\n}\nconst te = g(\n  \"emojiCategory\",\n  \"categoryName\",\n  \"noRecents\",\n  \"recentEmojis\"\n);\nclass ne extends c {\n  constructor({ template: e, category: t, showVariants: o, lazyLoader: i }) {\n    super({ template: e, classes: te }), this.baseUIElements = {\n      categoryName: c.byClass(te.categoryName)\n    }, this.category = t, this.showVariants = o, this.lazyLoader = i;\n  }\n  setActive(e, t, o) {\n    this.emojiContainer.setActive(e, t, o);\n  }\n}\nconst Pt = new u(({ classes: s, emoji: e }) => `\n  <button\n    type=\"button\"\n    class=\"${s.emojiButton}\"\n    title=\"${e.label}\"\n    data-emoji=\"${e.emoji}\"\n    tabindex=\"-1\">\n    <div data-placeholder=\"emojiContent\"></div>\n  </button>\n`), zt = g(\"emojiButton\");\nclass Se extends c {\n  constructor({ emoji: e, lazyLoader: t, category: o }) {\n    super({ template: Pt, classes: zt }), this.emoji = e, this.lazyLoader = t, this.category = o;\n  }\n  initialize() {\n    this.uiEvents = [\n      c.uiEvent(\"focus\", this.handleFocus)\n    ], super.initialize();\n  }\n  handleFocus() {\n    this.category && this.events.emit(\"focus:change\", this.category);\n  }\n  activateFocus(e) {\n    this.el.tabIndex = 0, e && this.el.focus();\n  }\n  deactivateFocus() {\n    this.el.tabIndex = -1;\n  }\n  renderSync() {\n    return super.renderSync({\n      emoji: this.emoji,\n      emojiContent: this.renderer.doRender(this.emoji, this.lazyLoader)\n    });\n  }\n}\nclass $t {\n  constructor(e, t, o = 0, i = 0, r = !1) {\n    this.events = new ae(), this.keyHandlers = {\n      ArrowLeft: this.focusPrevious.bind(this),\n      ArrowRight: this.focusNext.bind(this),\n      ArrowUp: this.focusUp.bind(this),\n      ArrowDown: this.focusDown.bind(this)\n    }, this.rowCount = Math.ceil(t / e), this.columnCount = e, this.focusedRow = o, this.focusedColumn = i, this.emojiCount = t, this.wrap = r, this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n  destroy() {\n    this.events.removeAll();\n  }\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  handleKeyDown(e) {\n    e.key in this.keyHandlers && (e.preventDefault(), this.keyHandlers[e.key]());\n  }\n  setCell(e, t, o = !0) {\n    const i = this.getIndex();\n    this.focusedRow = e, t !== void 0 && (this.focusedColumn = Math.min(this.columnCount, t)), (this.focusedRow >= this.rowCount || this.getIndex() >= this.emojiCount) && (this.focusedRow = this.rowCount - 1, this.focusedColumn = this.emojiCount % this.columnCount - 1), this.events.emit(\"focus:change\", { from: i, to: this.getIndex(), performFocus: o });\n  }\n  setFocusedIndex(e, t = !0) {\n    const o = Math.floor(e / this.columnCount), i = e % this.columnCount;\n    this.setCell(o, i, t);\n  }\n  focusNext() {\n    this.focusedColumn < this.columnCount - 1 && this.getIndex() < this.emojiCount - 1 ? this.setCell(this.focusedRow, this.focusedColumn + 1) : this.focusedRow < this.rowCount - 1 ? this.setCell(this.focusedRow + 1, 0) : this.wrap ? this.setCell(0, 0) : this.events.emit(\"focus:overflow\", 0);\n  }\n  focusPrevious() {\n    this.focusedColumn > 0 ? this.setCell(this.focusedRow, this.focusedColumn - 1) : this.focusedRow > 0 ? this.setCell(this.focusedRow - 1, this.columnCount - 1) : this.wrap ? this.setCell(this.rowCount - 1, this.columnCount - 1) : this.events.emit(\"focus:underflow\", this.columnCount - 1);\n  }\n  focusUp() {\n    this.focusedRow > 0 ? this.setCell(this.focusedRow - 1, this.focusedColumn) : this.events.emit(\"focus:underflow\", this.focusedColumn);\n  }\n  focusDown() {\n    this.focusedRow < this.rowCount - 1 ? this.setCell(this.focusedRow + 1, this.focusedColumn) : this.events.emit(\"focus:overflow\", this.focusedColumn);\n  }\n  focusToIndex(e) {\n    this.setCell(Math.floor(e / this.columnCount), e % this.columnCount);\n  }\n  getIndex() {\n    return this.focusedRow * this.columnCount + this.focusedColumn;\n  }\n  getCell() {\n    return { row: this.focusedRow, column: this.focusedColumn };\n  }\n  getRowCount() {\n    return this.rowCount;\n  }\n}\nconst Lt = new u(({ classes: s }) => `\n  <div class=\"${s.emojiContainer}\">\n    <div data-placeholder=\"emojis\"></div>\n  </div>\n`), Ft = g(\"emojiContainer\");\nclass F extends c {\n  constructor({ emojis: e, showVariants: t, preview: o = !0, lazyLoader: i, category: r, fullHeight: a = !1 }) {\n    super({ template: Lt, classes: Ft }), this.fullHeight = !1, this.showVariants = t, this.lazyLoader = i, this.preview = o, this.emojis = e, this.category = r, this.fullHeight = a, this.setFocus = this.setFocus.bind(this), this.triggerNextCategory = this.triggerNextCategory.bind(this), this.triggerPreviousCategory = this.triggerPreviousCategory.bind(this);\n  }\n  initialize() {\n    this.grid = new $t(this.options.emojisPerRow, this.emojiCount, 0, 0, !this.category), this.grid.on(\"focus:change\", this.setFocus), this.grid.on(\"focus:overflow\", this.triggerNextCategory), this.grid.on(\"focus:underflow\", this.triggerPreviousCategory), this.uiEvents = [\n      c.uiEvent(\"click\", this.selectEmoji),\n      c.uiEvent(\"keydown\", this.grid.handleKeyDown)\n    ], this.preview && this.uiEvents.push(\n      c.uiEvent(\"mouseover\", this.showPreview),\n      c.uiEvent(\"mouseout\", this.hidePreview),\n      c.uiEvent(\"focus\", this.showPreview, { capture: !0 }),\n      c.uiEvent(\"blur\", this.hidePreview, { capture: !0 })\n    ), super.initialize();\n  }\n  setFocusedView(e, t) {\n    if (!!e)\n      if (typeof e == \"string\") {\n        const o = this.emojis.findIndex((i) => i.emoji === e);\n        this.grid.setFocusedIndex(o, !1), setTimeout(() => {\n          var n, l, m, d;\n          const i = this.emojiViews[o].el;\n          i.scrollIntoView();\n          const r = (n = i.parentElement) == null ? void 0 : n.previousElementSibling, a = (m = (l = i.parentElement) == null ? void 0 : l.parentElement) == null ? void 0 : m.parentElement;\n          a.scrollTop -= (d = r == null ? void 0 : r.offsetHeight) != null ? d : 0;\n        });\n      } else\n        e.row === \"first\" || e.row === 0 ? this.grid.setCell(0, e.offset, t) : e.row === \"last\" && this.grid.setCell(this.grid.getRowCount() - 1, e.offset, t);\n  }\n  setActive(e, t, o) {\n    var i;\n    e ? this.setFocusedView(t, o) : (i = this.emojiViews[this.grid.getIndex()]) == null || i.deactivateFocus();\n  }\n  renderSync() {\n    return this.emojiViews = this.emojis.map(\n      (e) => this.viewFactory.create(Se, {\n        emoji: e,\n        category: this.category,\n        lazyLoader: this.lazyLoader,\n        renderer: this.renderer\n      })\n    ), this.emojiElements = this.emojiViews.map((e) => e.renderSync()), super.renderSync({\n      emojis: this.emojiElements,\n      i18n: this.i18n\n    });\n  }\n  destroy() {\n    super.destroy(), this.emojiViews.forEach((e) => e.destroy()), this.grid.destroy();\n  }\n  triggerPreviousCategory(e) {\n    this.events.emit(\"category:previous\", e);\n  }\n  triggerNextCategory(e) {\n    this.category && this.events.emit(\"category:next\", e);\n  }\n  setFocus({ from: e, to: t, performFocus: o }) {\n    var i, r;\n    (i = this.emojiViews[e]) == null || i.deactivateFocus(), (r = this.emojiViews[t]) == null || r.activateFocus(o);\n  }\n  selectEmoji(e) {\n    e.stopPropagation();\n    const t = U(e, this.emojis);\n    t && this.events.emit(\"emoji:select\", {\n      emoji: t,\n      showVariants: this.showVariants\n    });\n  }\n  showPreview(e) {\n    const o = e.target.closest(\"button\"), i = o == null ? void 0 : o.firstElementChild, r = U(e, this.emojis);\n    r && this.events.emit(\"preview:show\", r, i == null ? void 0 : i.cloneNode(!0));\n  }\n  hidePreview(e) {\n    U(e, this.emojis) && this.events.emit(\"preview:hide\");\n  }\n  get emojiCount() {\n    return this.emojis.length;\n  }\n}\nconst At = new u(({ classes: s, category: e, pickerId: t, icon: o, i18n: i }) => `\n  <section class=\"${s.emojiCategory}\" role=\"tabpanel\" aria-labelledby=\"${t}-category-${e.key}\">\n    <h3 data-category=\"${e.key}\" class=\"${s.categoryName}\">\n      <i data-icon=\"${o}\"></i>\n      ${i.get(`categories.${e.key}`, e.message || e.key)}\n    </h3>\n    <div data-view=\"emojis\" data-render=\"sync\"></div>\n  </section>\n`);\nclass It extends ne {\n  constructor({ category: e, showVariants: t, lazyLoader: o, emojiVersion: i }) {\n    super({ category: e, showVariants: t, lazyLoader: o, template: At }), this.showVariants = t, this.lazyLoader = o, this.emojiVersion = i;\n  }\n  initialize() {\n    this.uiElements = { ...this.baseUIElements }, super.initialize();\n  }\n  async render() {\n    await this.emojiDataPromise;\n    const e = await this.emojiData.getEmojis(this.category, this.emojiVersion);\n    return this.emojiContainer = this.viewFactory.create(F, {\n      emojis: e,\n      showVariants: this.showVariants,\n      lazyLoader: this.lazyLoader,\n      category: this.category.key\n    }), super.render({\n      category: this.category,\n      emojis: this.emojiContainer,\n      emojiCount: e.length,\n      icon: D[this.category.key]\n    });\n  }\n}\nclass Tt extends F {\n  constructor({ category: e, emojis: t, preview: o = !0, lazyLoader: i }) {\n    super({ category: e, emojis: t, showVariants: !1, preview: o, lazyLoader: i });\n  }\n  async addOrUpdate(e) {\n    const t = this.el.querySelector(`[data-emoji=\"${e.emoji}\"]`);\n    t && (this.el.removeChild(t), this.emojis = this.emojis.filter((i) => i !== e));\n    const o = this.viewFactory.create(Se, { emoji: e });\n    if (this.el.insertBefore(o.renderSync(), this.el.firstChild), this.emojis = [\n      e,\n      ...this.emojis.filter((i) => i !== e)\n    ], this.emojis.length > this.options.maxRecents) {\n      this.emojis = this.emojis.slice(0, this.options.maxRecents);\n      const i = this.el.childElementCount - this.options.maxRecents;\n      for (let r = 0; r < i; r++)\n        this.el.lastElementChild && this.el.removeChild(this.el.lastElementChild);\n    }\n  }\n}\nconst Rt = new u(({ emojiCount: s, classes: e, category: t, pickerId: o, icon: i, i18n: r }) => `\n  <section class=\"${e.emojiCategory}\" role=\"tabpanel\" aria-labelledby=\"${o}-category-${t.key}\">\n    <h3 data-category=\"${t.key}\" class=\"${e.categoryName}\">\n      <i data-icon=\"${i}\"></i>\n      ${r.get(`categories.${t.key}`, t.message || t.key)}\n    </h3>\n    <div data-empty=\"${s === 0}\" class=\"${e.recentEmojis}\">\n      <div data-view=\"emojis\" data-render=\"sync\"></div>\n    </div>\n    <div class=\"${e.noRecents}\">\n      ${r.get(\"recents.none\")}\n    </div>\n  </section>\n`, { mode: \"async\" });\nclass Vt extends ne {\n  constructor({ category: e, lazyLoader: t, provider: o }) {\n    super({ category: e, showVariants: !1, lazyLoader: t, template: Rt }), this.provider = o;\n  }\n  initialize() {\n    this.uiElements = {\n      ...this.baseUIElements,\n      recents: c.byClass(te.recentEmojis)\n    }, this.appEvents = {\n      \"recent:add\": this.addRecent\n    }, super.initialize();\n  }\n  async addRecent(e) {\n    await this.emojiContainer.addOrUpdate(e), this.ui.recents.dataset.empty = \"false\";\n  }\n  async render() {\n    var t;\n    const e = (t = this.provider) == null ? void 0 : t.getRecents(this.options.maxRecents);\n    return this.emojiContainer = this.viewFactory.create(Tt, {\n      emojis: e,\n      showVariants: !1,\n      lazyLoader: this.lazyLoader,\n      category: this.category.key\n    }), await super.render({\n      category: this.category,\n      emojis: this.emojiContainer,\n      emojiCount: e.length,\n      icon: D[this.category.key]\n    }), this.el;\n  }\n}\nconst Bt = new u(({ classes: s, category: e, pickerId: t, icon: o, i18n: i }) => `\n  <section class=\"${s.emojiCategory}\" role=\"tabpanel\" aria-labelledby=\"${t}-category-${e.key}\">\n    <h3 data-category=\"${e.key}\" class=\"${s.categoryName}\">\n      <i data-icon=\"${o}\"></i>\n      ${i.get(`categories.${e.key}`, e.message || e.key)}\n    </h3>\n    <div data-view=\"emojis\" data-render=\"sync\"></div>\n  </section>\n`);\nclass Mt extends ne {\n  constructor({ category: e, lazyLoader: t }) {\n    super({ template: Bt, showVariants: !1, lazyLoader: t, category: e });\n  }\n  initialize() {\n    this.uiElements = { ...this.baseUIElements }, super.initialize();\n  }\n  async render() {\n    return this.emojiContainer = this.viewFactory.create(F, {\n      emojis: this.customEmojis,\n      showVariants: this.showVariants,\n      lazyLoader: this.lazyLoader,\n      category: this.category.key\n    }), super.render({\n      category: this.category,\n      emojis: this.emojiContainer,\n      emojiCount: this.customEmojis.length,\n      icon: D[this.category.key]\n    });\n  }\n}\nclass Pe {\n  constructor() {\n    this.elements = /* @__PURE__ */ new Map();\n  }\n  lazyLoad(e, t) {\n    return this.elements.set(e, t), e;\n  }\n  observe(e) {\n    if (window.IntersectionObserver) {\n      const t = new IntersectionObserver(\n        (o) => {\n          o.filter((i) => i.intersectionRatio > 0).map((i) => i.target).forEach((i) => {\n            const r = this.elements.get(i);\n            r == null || r(), t.unobserve(i);\n          });\n        },\n        {\n          root: e\n        }\n      );\n      this.elements.forEach((o, i) => {\n        t.observe(i);\n      });\n    } else\n      this.elements.forEach((t) => {\n        t();\n      });\n  }\n}\nconst ue = g(\"emojiArea\"), Dt = new u(({ classes: s }) => `\n  <div class=\"${s.emojiArea}\">\n    <div data-placeholder=\"emojis\"></div>\n  </div>\n`, { mode: \"async\" }), Ht = {\n  recents: Vt,\n  custom: Mt\n};\nfunction Nt(s) {\n  return Ht[s.key] || It;\n}\nfunction Ot(s) {\n  return !s || s === \"button\" ? {\n    row: \"first\",\n    offset: 0\n  } : s;\n}\nclass Ut extends c {\n  constructor({ categoryTabs: e, categories: t, emojiVersion: o }) {\n    super({ template: Dt, classes: ue }), this.selectedCategory = 0, this.scrollListenerState = \"active\", this.lazyLoader = new Pe(), this.categoryTabs = e, this.categories = t, this.emojiVersion = o, this.handleScroll = Te(this.handleScroll.bind(this), 100);\n  }\n  initialize() {\n    this.appEvents = {\n      \"category:select\": this.handleCategorySelect,\n      \"category:previous\": this.focusPreviousCategory,\n      \"category:next\": this.focusNextCategory,\n      \"focus:change\": this.updateFocusedCategory\n    }, this.uiElements = { emojis: c.byClass(ue.emojiArea) }, this.uiEvents = [c.uiEvent(\"scroll\", this.handleScroll)], super.initialize();\n  }\n  get focusableEmoji() {\n    return this.el.querySelector('[tabindex=\"0\"]');\n  }\n  async render() {\n    this.emojiCategories = this.categories.map(this.createCategory, this);\n    const e = {};\n    return this.categories.forEach((t, o) => {\n      e[`emojis-${t.key}`] = this.emojiCategories[o];\n    }), await super.render({\n      emojis: await Promise.all(this.emojiCategories.map((t) => t.render()))\n    }), this.lazyLoader.observe(this.el), window.ResizeObserver && (this.observer = new ResizeObserver(() => {\n      const t = this.el.scrollHeight - this.scrollHeight;\n      this.el.scrollTop - this.scrollTop === 0 && t > 0 && (this.el.scrollTop += t), this.scrollHeight = this.el.scrollHeight, this.scrollTop = this.el.scrollTop;\n    }), this.emojiCategories.forEach((t) => {\n      this.observer.observe(t.el);\n    })), this.el;\n  }\n  destroy() {\n    super.destroy(), this.emojiCategories.forEach((e) => {\n      var t;\n      (t = this.observer) == null || t.unobserve(e.el), e.destroy();\n    });\n  }\n  handleCategorySelect(e, t) {\n    this.selectCategory(e, t);\n  }\n  createCategory(e) {\n    const t = Nt(e);\n    return this.viewFactory.create(t, {\n      category: e,\n      showVariants: !0,\n      lazyLoader: this.lazyLoader,\n      emojiVersion: this.emojiVersion,\n      provider: this.options.recentsProvider\n    });\n  }\n  determineInitialCategory() {\n    var e;\n    return this.options.initialCategory && this.categories.find((t) => t.key === this.options.initialCategory) ? this.options.initialCategory : (e = this.categories.find((t) => t.key !== \"recents\")) == null ? void 0 : e.key;\n  }\n  determineFocusTarget(e) {\n    const t = this.emojiCategories.find((o) => o.category.key === e);\n    return this.options.initialEmoji && (t == null ? void 0 : t.el.querySelector(`[data-emoji=\"${this.options.initialEmoji}\"]`)) ? this.options.initialEmoji : \"button\";\n  }\n  reset(e = !0) {\n    this.events.emit(\"preview:hide\");\n    const t = this.determineInitialCategory();\n    t && (this.selectCategory(t, {\n      focus: this.determineFocusTarget(t),\n      performFocus: e,\n      scroll: \"jump\"\n    }), this.selectedCategory = this.getCategoryIndex(t));\n  }\n  getCategoryIndex(e) {\n    return this.categories.findIndex((t) => t.key === e);\n  }\n  focusPreviousCategory(e) {\n    this.selectedCategory > 0 && this.focusCategory(this.selectedCategory - 1, { row: \"last\", offset: e != null ? e : this.options.emojisPerRow });\n  }\n  focusNextCategory(e) {\n    this.selectedCategory < this.categories.length - 1 && this.focusCategory(this.selectedCategory + 1, { row: \"first\", offset: e != null ? e : 0 });\n  }\n  focusCategory(e, t) {\n    this.selectCategory(e, {\n      focus: t,\n      performFocus: !0\n    });\n  }\n  async selectCategory(e, t = {}) {\n    var l;\n    this.scrollListenerState = \"suspend\";\n    const { focus: o, performFocus: i, scroll: r } = {\n      performFocus: !1,\n      ...t\n    };\n    this.emojiCategories[this.selectedCategory].setActive(!1);\n    const a = this.selectedCategory = typeof e == \"number\" ? e : this.getCategoryIndex(e);\n    (l = this.categoryTabs) == null || l.setActiveTab(this.selectedCategory, {\n      performFocus: i,\n      scroll: o === \"button\"\n    });\n    const n = this.emojiCategories[a].el.offsetTop;\n    this.emojiCategories[a].setActive(!0, Ot(o), o !== \"button\" && i), r && (this.el.scrollTop = n), this.scrollListenerState = \"resume\";\n  }\n  updateFocusedCategory(e) {\n    var t;\n    this.categories[this.selectedCategory].key !== e && (this.scrollListenerState = \"suspend\", this.selectedCategory = this.getCategoryIndex(e), (t = this.categoryTabs) == null || t.setActiveTab(this.selectedCategory, {\n      changeFocusable: !1,\n      performFocus: !1\n    }), this.scrollListenerState = \"resume\");\n  }\n  handleScroll() {\n    if (this.scrollListenerState === \"suspend\" || !this.categoryTabs)\n      return;\n    if (this.scrollListenerState === \"resume\") {\n      this.scrollListenerState = \"active\";\n      return;\n    }\n    const e = this.el.scrollTop, t = this.el.scrollHeight - this.el.offsetHeight, o = this.emojiCategories.findIndex((r, a) => {\n      var n;\n      return e < ((n = this.emojiCategories[a + 1]) == null ? void 0 : n.el.offsetTop);\n    }), i = {\n      changeFocusable: !1,\n      performFocus: !1,\n      scroll: !1\n    };\n    e === 0 ? this.categoryTabs.setActiveTab(0, i) : Math.floor(e) === Math.floor(t) || o < 0 ? this.categoryTabs.setActiveTab(this.categories.length - 1, i) : this.categoryTabs.setActiveTab(o, i);\n  }\n}\nconst Kt = new u(({ classList: s, classes: e, icon: t, message: o }) => `\n<div class=\"${s}\" role=\"alert\">\n  <div class=\"${e.iconContainer}\"><i data-size=\"10x\" data-icon=\"${t}\"></i></div>\n  <h3 class=\"${e.title}\">${o}</h3>\n</div>\n`), ge = g(\"error\", \"iconContainer\", \"title\");\nclass se extends c {\n  constructor({ message: e, icon: t = \"warning\", template: o = Kt, className: i }) {\n    super({ template: o, classes: ge }), this.message = e, this.icon = t, this.className = i;\n  }\n  renderSync() {\n    const e = [ge.error, this.className].join(\" \").trim();\n    return super.renderSync({ message: this.message, icon: this.icon, classList: e });\n  }\n}\nconst qt = new u(({ classList: s, classes: e, icon: t, i18n: o, message: i }) => `\n  <div class=\"${s}\" role=\"alert\">\n    <div class=\"${e.icon}\"><i data-size=\"10x\" data-icon=\"${t}\"></i></div>\n    <h3 class=\"${e.title}\">${i}</h3>\n    <button type=\"button\">${o.get(\"retry\")}</button>\n  </div>\n`), Gt = g(\"dataError\");\nclass Wt extends se {\n  constructor({ message: e }) {\n    super({ message: e, template: qt, className: Gt.dataError });\n  }\n  initialize() {\n    this.uiElements = { retryButton: \"button\" }, this.uiEvents = [c.childEvent(\"retryButton\", \"click\", this.onRetry)], super.initialize();\n  }\n  async onRetry() {\n    this.emojiData ? await this.emojiData.delete() : await this.options.dataStore.deleteDatabase(this.options.locale), this.events.emit(\"reinitialize\");\n    const e = await re(this.options.locale, this.options.dataStore, this.options.messages, this.options.emojiData, this.emojiData);\n    this.viewFactory.setEmojiData(e), this.events.emit(\"data:ready\", e);\n  }\n}\nconst C = g(\n  \"preview\",\n  \"previewEmoji\",\n  \"previewName\",\n  \"tagList\",\n  \"tag\"\n), _t = new u(({ classes: s, tag: e }) => `\n  <li class=\"${s.tag}\">${e}</li>\n`), Jt = new u(({ classes: s }) => `\n  <div class=\"${s.preview}\">\n    <div class=\"${s.previewEmoji}\"></div>\n    <div class=\"${s.previewName}\"></div>\n    <ul class=\"${s.tagList}\"></ul>\n  </div>\n`);\nclass Yt extends c {\n  constructor() {\n    super({ template: Jt, classes: C });\n  }\n  initialize() {\n    this.uiElements = {\n      emoji: c.byClass(C.previewEmoji),\n      name: c.byClass(C.previewName),\n      tagList: c.byClass(C.tagList)\n    }, this.appEvents = {\n      \"preview:show\": this.showPreview,\n      \"preview:hide\": this.hidePreview\n    }, super.initialize();\n  }\n  showPreview(e, t) {\n    if (this.ui.emoji.replaceChildren(t), this.ui.name.textContent = e.label, e.tags) {\n      this.ui.tagList.style.display = \"flex\";\n      const o = e.tags.map((i) => _t.renderSync({ tag: i, classes: C }));\n      this.ui.tagList.replaceChildren(...o);\n    }\n  }\n  hidePreview() {\n    this.ui.emoji.replaceChildren(), this.ui.name.textContent = \"\", this.ui.tagList.replaceChildren();\n  }\n}\nconst Qt = new u(({ classes: s, i18n: e }) => `\n  <button title=\"${e.get(\"search.clear\")}\" class=\"${s.clearSearchButton}\">\n    <i data-icon=\"xmark\"></i>\n  </button>\n`), Xt = new u(({ classes: s, i18n: e }) => `\n<div class=\"${s.searchContainer}\">\n  <input class=\"${s.searchField}\" placeholder=\"${e.get(\"search\")}\">\n  <span class=\"${s.searchAccessory}\"></span>\n</div>\n`, { mode: \"async\" }), j = g(\n  \"searchContainer\",\n  \"searchField\",\n  \"clearButton\",\n  \"searchAccessory\",\n  \"clearSearchButton\",\n  \"notFound\"\n);\nclass Zt extends c {\n  constructor({ categories: e, emojiVersion: t }) {\n    super({ template: Xt, classes: j }), this.categories = e.filter((o) => o.key !== \"recents\"), this.emojiVersion = t, this.search = Re(this.search.bind(this), 100);\n  }\n  initialize() {\n    this.uiElements = {\n      searchField: c.byClass(j.searchField),\n      searchAccessory: c.byClass(j.searchAccessory)\n    }, this.uiEvents = [\n      c.childEvent(\"searchField\", \"keydown\", this.onKeyDown),\n      c.childEvent(\"searchField\", \"input\", this.onSearchInput)\n    ], super.initialize();\n  }\n  async render() {\n    return await super.render(), this.searchIcon = je(\"search\"), this.notFoundMessage = this.viewFactory.create(se, {\n      message: this.i18n.get(\"search.notFound\"),\n      className: j.notFound,\n      icon: \"sad\"\n    }), this.notFoundMessage.renderSync(), this.errorMessage = this.viewFactory.create(se, { message: this.i18n.get(\"search.error\") }), this.errorMessage.renderSync(), this.clearSearchButton = Qt.render({\n      classes: j,\n      i18n: this.i18n\n    }), this.clearSearchButton.addEventListener(\"click\", (e) => this.onClearSearch(e)), this.searchField = this.ui.searchField, this.showSearchIcon(), this.el;\n  }\n  showSearchIcon() {\n    this.showSearchAccessory(this.searchIcon);\n  }\n  showClearSearchButton() {\n    this.showSearchAccessory(this.clearSearchButton);\n  }\n  showSearchAccessory(e) {\n    this.ui.searchAccessory.replaceChildren(e);\n  }\n  clear() {\n    this.searchField.value = \"\", this.showSearchIcon();\n  }\n  focus() {\n    this.searchField.focus();\n  }\n  onClearSearch(e) {\n    var t;\n    e.stopPropagation(), this.searchField.value = \"\", (t = this.resultsContainer) == null || t.destroy(), this.resultsContainer = null, this.showSearchIcon(), this.events.emit(\"content:show\"), this.searchField.focus();\n  }\n  handleResultsKeydown(e) {\n    this.resultsContainer && e.key === \"Escape\" && this.onClearSearch(e);\n  }\n  onKeyDown(e) {\n    var t;\n    e.key === \"Escape\" && this.searchField.value ? this.onClearSearch(e) : (e.key === \"Enter\" || e.key === \"ArrowDown\") && this.resultsContainer && (e.preventDefault(), (t = this.resultsContainer.el.querySelector('[tabindex=\"0\"]')) == null || t.focus());\n  }\n  onSearchInput(e) {\n    this.searchField.value ? (this.showClearSearchButton(), this.search()) : this.onClearSearch(e);\n  }\n  async search() {\n    var e;\n    if (!!this.searchField.value)\n      try {\n        const t = await this.emojiData.searchEmojis(\n          this.searchField.value,\n          this.customEmojis,\n          this.emojiVersion,\n          this.categories\n        );\n        if (this.events.emit(\"preview:hide\"), t.length) {\n          const o = new Pe();\n          this.resultsContainer = this.viewFactory.create(F, {\n            emojis: t,\n            fullHeight: !0,\n            showVariants: !0,\n            lazyLoader: o\n          }), this.resultsContainer.renderSync(), (e = this.resultsContainer) != null && e.el && (o.observe(this.resultsContainer.el), this.resultsContainer.setActive(!0, { row: 0, offset: 0 }, !1), this.resultsContainer.el.addEventListener(\"keydown\", (i) => this.handleResultsKeydown(i)), this.events.emit(\"content:show\", this.resultsContainer));\n        } else\n          this.events.emit(\"content:show\", this.notFoundMessage);\n      } catch {\n        this.events.emit(\"content:show\", this.errorMessage);\n      }\n  }\n}\nconst es = new u(({ classes: s }) => `\n  <div class=\"${s.variantOverlay}\">\n    <div class=\"${s.variantPopup}\">\n      <div data-view=\"emojis\" data-render=\"sync\"></div>\n    </div>\n  </div>\n`), pe = g(\n  \"variantOverlay\",\n  \"variantPopup\"\n), q = {\n  easing: \"ease-in-out\",\n  duration: 250,\n  fill: \"both\"\n}, ye = {\n  opacity: [0, 1]\n}, fe = {\n  opacity: [0, 1],\n  transform: [\"scale3d(0.8, 0.8, 0.8)\", \"scale3d(1, 1, 1)\"]\n};\nclass ts extends c {\n  constructor({ emoji: e, parent: t }) {\n    super({ template: es, classes: pe, parent: t }), this.focusedEmojiIndex = 0, this.focusTrap = new Ue(), this.animateShow = () => Promise.all([\n      I(this.el, ye, q, this.options),\n      I(this.ui.popup, fe, q, this.options)\n    ]), this.emoji = e;\n  }\n  initialize() {\n    this.uiElements = {\n      popup: c.byClass(pe.variantPopup)\n    }, this.uiEvents = [\n      c.uiEvent(\"click\", this.handleClick),\n      c.uiEvent(\"keydown\", this.handleKeydown)\n    ], super.initialize();\n  }\n  animateHide() {\n    const e = { ...q, direction: \"reverse\" };\n    return Promise.all([\n      I(this.el, ye, e, this.options),\n      I(this.ui.popup, fe, e, this.options)\n    ]);\n  }\n  async hide() {\n    await this.animateHide(), this.events.emit(\"variantPopup:hide\");\n  }\n  handleKeydown(e) {\n    e.key === \"Escape\" && (this.hide(), e.stopPropagation());\n  }\n  handleClick(e) {\n    this.ui.popup.contains(e.target) || this.hide();\n  }\n  getEmoji(e) {\n    return this.renderedEmojis[e];\n  }\n  setFocusedEmoji(e) {\n    const t = this.getEmoji(this.focusedEmojiIndex);\n    t.tabIndex = -1, this.focusedEmojiIndex = e;\n    const o = this.getEmoji(this.focusedEmojiIndex);\n    o.tabIndex = 0, o.focus();\n  }\n  destroy() {\n    this.emojiContainer.destroy(), this.focusTrap.deactivate(), super.destroy();\n  }\n  renderSync() {\n    const e = {\n      ...this.emoji,\n      skins: null\n    }, t = (this.emoji.skins || []).map((i) => ({\n      ...i,\n      label: this.emoji.label,\n      tags: this.emoji.tags\n    })), o = [e, ...t];\n    return this.emojiContainer = this.viewFactory.create(F, {\n      emojis: o,\n      preview: !1\n    }), super.renderSync({ emojis: this.emojiContainer }), o.length < this.options.emojisPerRow && this.el.style.setProperty(\"--emojis-per-row\", o.length.toString()), this.el;\n  }\n  activate() {\n    this.emojiContainer.setActive(!0, { row: 0, offset: 0 }, !0), this.focusTrap.activate(this.el);\n  }\n}\nconst ss = new u(({ classes: s, i18n: e, category: t, pickerId: o, icon: i }) => `\n<li class=\"${s.categoryTab}\">\n  <button\n    aria-selected=\"false\"\n    role=\"tab\"\n    class=\"${s.categoryButton}\"\n    tabindex=\"-1\"\n    title=\"${e.get(`categories.${t.key}`, t.message || t.key)}\"\n    type=\"button\"\n    data-category=\"${t.key}\"\n    id=\"${o}-category-${t.key}\"\n  >\n    <i data-icon=\"${i}\"></i>\n</li>\n`), G = g(\n  \"categoryTab\",\n  \"categoryTabActive\",\n  \"categoryButton\"\n);\nclass os extends c {\n  constructor({ category: e, icon: t }) {\n    super({ template: ss, classes: G }), this.isActive = !1, this.category = e, this.icon = t;\n  }\n  initialize() {\n    this.uiElements = {\n      button: c.byClass(G.categoryButton)\n    }, this.uiEvents = [\n      c.childEvent(\"button\", \"click\", this.selectCategory),\n      c.childEvent(\"button\", \"focus\", this.selectCategory)\n    ], super.initialize();\n  }\n  renderSync() {\n    return super.renderSync({\n      category: this.category,\n      icon: this.icon\n    }), this.ui.button.ariaSelected = \"false\", this.el;\n  }\n  setActive(e, t = {}) {\n    const { changeFocusable: o, performFocus: i, scroll: r } = {\n      changeFocusable: !0,\n      performFocus: !0,\n      scroll: !0,\n      ...t\n    };\n    this.el.classList.toggle(G.categoryTabActive, e), o && (this.ui.button.tabIndex = e ? 0 : -1, this.ui.button.ariaSelected = e.toString()), e && i && (this.ui.button.focus(), r && this.events.emit(\"category:select\", this.category.key, { scroll: \"animate\", focus: \"button\", performFocus: !1 })), this.isActive = e;\n  }\n  selectCategory() {\n    this.isActive || this.events.emit(\"category:select\", this.category.key, { scroll: \"animate\", focus: \"button\", performFocus: !0 });\n  }\n}\nconst is = new u(({ classes: s }) => `\n  <div class=\"${s.categoryButtonsContainer}\">\n    <ul role=\"tablist\" class=\"${s.categoryButtons}\">\n      <div data-placeholder=\"tabs\"></div>\n    </ul>\n  </div>\n`), rs = g(\"categoryButtons\", \"categoryButtonsContainer\");\nclass as extends c {\n  constructor({ categories: e }) {\n    super({ template: is, classes: rs }), this.activeCategoryIndex = 0, this.categories = e;\n  }\n  initialize() {\n    this.keyBindings = {\n      ArrowLeft: this.stepSelectedTab(-1),\n      ArrowRight: this.stepSelectedTab(1)\n    }, this.uiEvents = [\n      c.uiEvent(\"scroll\", this.checkOverflow)\n    ], super.initialize();\n  }\n  checkOverflow() {\n    const e = Math.abs(this.el.scrollLeft - (this.el.scrollWidth - this.el.offsetWidth)) > 1, t = this.el.scrollLeft > 0;\n    this.el.className = \"categoryButtonsContainer\", t && e ? this.el.classList.add(\"has-overflow-both\") : t ? this.el.classList.add(\"has-overflow-left\") : e && this.el.classList.add(\"has-overflow-right\");\n  }\n  renderSync() {\n    return this.tabViews = this.categories.map((e) => this.viewFactory.create(os, { category: e, icon: D[e.key] })), super.renderSync({\n      tabs: this.tabViews.map((e) => e.renderSync())\n    }), this.el;\n  }\n  get currentCategory() {\n    return this.categories[this.activeCategoryIndex];\n  }\n  get currentTabView() {\n    return this.tabViews[this.activeCategoryIndex];\n  }\n  setActiveTab(e, t = {}) {\n    this.checkOverflow();\n    const o = this.currentTabView, i = this.tabViews[e];\n    o.setActive(!1, t), i.setActive(!0, t), this.activeCategoryIndex = e;\n  }\n  getTargetCategory(e) {\n    return e < 0 ? this.categories.length - 1 : e >= this.categories.length ? 0 : e;\n  }\n  stepSelectedTab(e) {\n    return () => {\n      const t = this.activeCategoryIndex + e;\n      this.setActiveTab(this.getTargetCategory(t), {\n        changeFocusable: !0,\n        performFocus: !0\n      });\n    };\n  }\n}\nconst ns = [\n  { version: 15, emoji: String.fromCodePoint(129768) },\n  { version: 14, emoji: String.fromCodePoint(128733) },\n  { version: 13, emoji: String.fromCodePoint(129729) },\n  { version: 12, emoji: String.fromCodePoint(129449) },\n  { version: 11, emoji: String.fromCodePoint(129463) },\n  { version: 5, emoji: String.fromCodePoint(129322) },\n  { version: 4, emoji: String.fromCodePoint(9877) },\n  { version: 3, emoji: String.fromCodePoint(129314) },\n  { version: 2, emoji: String.fromCodePoint(128488) },\n  { version: 1, emoji: String.fromCodePoint(128512) }\n];\nfunction cs() {\n  var e;\n  const s = ns.find((t) => ls(t.emoji));\n  return (e = s == null ? void 0 : s.version) != null ? e : 1;\n}\nfunction ls(s) {\n  const e = document.createElement(\"canvas\").getContext(\"2d\");\n  if (e)\n    return e.textBaseline = \"top\", e.font = \"32px Arial\", e.fillText(s, 0, 0), e.getImageData(16, 16, 1, 1).data[0] !== 0;\n}\nfunction W(s, e) {\n  return Array.from({ length: s }, () => e).join(\"\");\n}\nfunction hs({ showHeader: s, classes: e }) {\n  return s ? `\n    <header class=\"${e.header}\">\n      <div data-view=\"search\"></div>\n      <div data-view=\"categoryTabs\" data-render=\"sync\"></div>\n    </header>\n  ` : \"\";\n}\nfunction ds(s) {\n  const { classes: e, theme: t, className: o = \"\" } = s;\n  return `\n    <div class=\"picmo-picker ${e.picker} ${t} ${o}\">\n      ${hs(s)}\n      <div class=\"${e.content}\">\n        <div data-view=\"emojiArea\"></div>\n      </div>\n      <div data-view=\"preview\"></div>\n    </div>\n  `;\n}\nfunction ms(s) {\n  const { emojiCount: e, classes: t, theme: o, className: i, categoryCount: r } = s, a = ({ showSearch: d, classes: h }) => d ? `\n    <div class=\"${h.searchSkeleton}\">\n      <div class=\"${h.searchInput} ${h.placeholder}\"></div>\n    </div>\n  ` : \"\", n = ({ showCategoryTabs: d, classes: h }) => d ? `\n    <div class=\"${h.categoryTabsSkeleton}\">\n      ${W(r, `<div class=\"${h.placeholder} ${h.categoryTab}\"></div>`)}\n    </div>\n  ` : \"\", l = ({ showHeader: d, classes: h }) => d ? `\n    <header class=\"${h.headerSkeleton}\">\n      ${a(s)}\n      ${n(s)}\n    </header>\n  ` : \"\", m = ({ showPreview: d, classes: h }) => d ? `\n    <div class=\"${h.previewSkeleton}\">\n      <div class=\"${h.placeholder} ${h.previewEmoji}\"></div>\n      <div class=\"${h.placeholder} ${h.previewName}\"></div>\n      <ul class=\"${h.tagList}\">\n        ${W(3, `<li class=\"${h.placeholder} ${h.tag}\"></li>`)}\n      </ul>\n    </div>\n  ` : \"\";\n  return `\n    <div class=\"picmo-picker ${t.skeleton} ${t.picker} ${o} ${i}\">\n      ${l(s)}\n      <div class=\"${t.contentSkeleton}\">\n        <div class=\"${t.placeholder} ${t.categoryName}\"></div>\n        <div class=\"${t.emojiGrid}\">\n          ${W(e, `<div class=\"${t.placeholder} ${t.emoji}\"></div>`)}\n        </div>\n      </div>\n      ${m(s)}\n    </div>\n  `;\n}\nconst us = new u((s) => s.isLoaded ? ds(s) : ms(s)), T = g(\n  \"picker\",\n  \"skeleton\",\n  \"placeholder\",\n  \"searchSkeleton\",\n  \"searchInput\",\n  \"categoryTabsSkeleton\",\n  \"headerSkeleton\",\n  \"categoryTab\",\n  \"contentSkeleton\",\n  \"categoryName\",\n  \"emojiGrid\",\n  \"emoji\",\n  \"previewSkeleton\",\n  \"previewEmoji\",\n  \"previewName\",\n  \"tagList\",\n  \"tag\",\n  \"overlay\",\n  \"content\",\n  \"fullHeight\",\n  \"pluginContainer\",\n  \"header\"\n), R = {\n  emojisPerRow: \"--emojis-per-row\",\n  visibleRows: \"--row-count\",\n  emojiSize: \"--emoji-size\"\n};\nclass gs extends c {\n  constructor() {\n    super({ template: us, classes: T }), this.pickerReady = !1, this.externalEvents = new St(), this.updaters = {\n      styleProperty: (e) => (t) => this.el.style.setProperty(R[e], t.toString()),\n      theme: (e) => {\n        this.el.classList.remove(this.options.theme), this.el.classList.add(e);\n      },\n      className: (e) => {\n        this.options.className && this.el.classList.remove(this.options.className), this.el.classList.add(e);\n      },\n      emojisPerRow: this.updateStyleProperty.bind(this, \"emojisPerRow\"),\n      emojiSize: this.updateStyleProperty.bind(this, \"emojiSize\"),\n      visibleRows: this.updateStyleProperty.bind(this, \"visibleRows\")\n    };\n  }\n  initialize() {\n    this.uiElements = {\n      pickerContent: c.byClass(T.content),\n      header: c.byClass(T.header)\n    }, this.uiEvents = [\n      c.uiEvent(\"keydown\", this.handleKeyDown)\n    ], this.appEvents = {\n      error: this.onError,\n      reinitialize: this.reinitialize,\n      \"data:ready\": this.onDataReady,\n      \"content:show\": this.showContent,\n      \"variantPopup:hide\": this.hideVariantPopup,\n      \"emoji:select\": this.selectEmoji\n    }, super.initialize(), this.options.recentsProvider;\n  }\n  destroy() {\n    var e, t;\n    super.destroy(), (e = this.search) == null || e.destroy(), this.emojiArea.destroy(), (t = this.categoryTabs) == null || t.destroy(), this.events.removeAll(), this.externalEvents.removeAll();\n  }\n  clearRecents() {\n    this.options.recentsProvider.clear();\n  }\n  addEventListener(e, t) {\n    this.externalEvents.on(e, t);\n  }\n  removeEventListener(e, t) {\n    this.externalEvents.off(e, t);\n  }\n  initializePickerView() {\n    this.pickerReady && (this.showContent(), this.emojiArea.reset(!1));\n  }\n  handleKeyDown(e) {\n    const t = e.ctrlKey || e.metaKey;\n    e.key === \"s\" && t && this.search && (e.preventDefault(), this.search.focus());\n  }\n  buildChildViews() {\n    return this.options.showPreview && (this.preview = this.viewFactory.create(Yt)), this.options.showSearch && (this.search = this.viewFactory.create(Zt, {\n      categories: this.categories,\n      emojiVersion: this.emojiVersion\n    })), this.options.showCategoryTabs && (this.categoryTabs = this.viewFactory.create(as, {\n      categories: this.categories\n    })), this.currentView = this.emojiArea = this.viewFactory.create(Ut, {\n      categoryTabs: this.categoryTabs,\n      categories: this.categories,\n      emojiVersion: this.emojiVersion\n    }), [this.preview, this.search, this.emojiArea, this.categoryTabs];\n  }\n  setStyleProperties() {\n    this.options.showSearch || this.el.style.setProperty(\"--search-height-full\", \"0px\"), this.options.showCategoryTabs || (this.el.style.setProperty(\"--category-tabs-height\", \"0px\"), this.el.style.setProperty(\"--category-tabs-offset\", \"0px\")), this.options.showPreview || this.el.style.setProperty(\"--emoji-preview-height-full\", \"0px\"), Object.keys(R).forEach((e) => {\n      this.options[e] && this.el.style.setProperty(R[e], this.options[e].toString());\n    });\n  }\n  updateStyleProperty(e, t) {\n    this.el.style.setProperty(R[e], t.toString());\n  }\n  reinitialize() {\n    this.renderSync();\n  }\n  onError(e) {\n    const t = this.viewFactory.create(Wt, { message: this.i18n.get(\"error.load\") }), o = this.el.offsetHeight || 375;\n    throw this.el.style.height = `${o}px`, this.el.replaceChildren(t.renderSync()), e;\n  }\n  async onDataReady(e) {\n    const t = this.el;\n    try {\n      e ? this.emojiData = e : await this.emojiDataPromise, this.options.emojiVersion === \"auto\" ? this.emojiVersion = cs() || parseFloat($e) : this.emojiVersion = this.options.emojiVersion, this.categories = await this.emojiData.getCategories(this.options);\n      const [o, i, r, a] = this.buildChildViews();\n      await super.render({\n        isLoaded: !0,\n        search: i,\n        categoryTabs: a,\n        emojiArea: r,\n        preview: o,\n        showHeader: Boolean(this.search || this.categoryTabs),\n        theme: this.options.theme,\n        className: this.options.className\n      }), this.el.style.setProperty(\"--category-count\", this.categories.length.toString()), this.pickerReady = !0, t.replaceWith(this.el), this.setStyleProperties(), this.initializePickerView(), this.setInitialFocus(), this.externalEvents.emit(\"data:ready\");\n    } catch (o) {\n      this.events.emit(\"error\", o);\n    }\n  }\n  renderSync() {\n    var t;\n    let e = ((t = this.options.categories) == null ? void 0 : t.length) || 10;\n    if (this.options.showRecents && (e += 1), super.renderSync({\n      isLoaded: !1,\n      theme: this.options.theme,\n      showSearch: this.options.showSearch,\n      showPreview: this.options.showPreview,\n      showCategoryTabs: this.options.showCategoryTabs,\n      showHeader: this.options.showSearch || this.options.showCategoryTabs,\n      emojiCount: this.options.emojisPerRow * this.options.visibleRows,\n      categoryCount: e\n    }), this.el.style.setProperty(\"--category-count\", e.toString()), !this.options.rootElement)\n      throw new Error(\"Picker must be given a root element via the rootElement option\");\n    return this.options.rootElement.replaceChildren(this.el), this.setStyleProperties(), this.pickerReady && this.initializePickerView(), this.el;\n  }\n  getInitialFocusTarget() {\n    if (typeof this.options.autoFocus < \"u\")\n      switch (this.options.autoFocus) {\n        case \"emojis\":\n          return this.emojiArea.focusableEmoji;\n        case \"search\":\n          return this.search;\n        case \"auto\":\n          return this.search || this.emojiArea.focusableEmoji;\n        default:\n          return null;\n      }\n    if (this.options.autoFocusSearch === !0)\n      return console.warn(\"options.autoFocusSearch is deprecated, please use options.focusTarget instead\"), this.search;\n  }\n  setInitialFocus() {\n    var e;\n    !this.pickerReady || (e = this.getInitialFocusTarget()) == null || e.focus();\n  }\n  reset(e = !0) {\n    var t;\n    this.pickerReady && (this.emojiArea.reset(e), this.showContent(this.emojiArea)), (t = this.search) == null || t.clear(), this.hideVariantPopup();\n  }\n  showContent(e = this.emojiArea) {\n    var t, o;\n    e !== this.currentView && (this.currentView !== this.emojiArea && ((t = this.currentView) == null || t.destroy()), this.ui.pickerContent.classList.toggle(T.fullHeight, e !== this.emojiArea), this.ui.pickerContent.replaceChildren(e.el), this.currentView = e, e === this.emojiArea ? (this.emojiArea.reset(), this.categoryTabs && this.ui.header.appendChild(this.categoryTabs.el)) : (o = this.categoryTabs) == null || o.el.remove());\n  }\n  hideVariantPopup() {\n    var e;\n    (e = this.variantPopup) == null || e.destroy();\n  }\n  isPickerClick(e) {\n    var r, a;\n    const t = e.target, o = this.el.contains(t), i = (a = (r = this.variantPopup) == null ? void 0 : r.el) == null ? void 0 : a.contains(t);\n    return o || i;\n  }\n  async selectEmoji({ emoji: e }) {\n    var t, o;\n    ((t = e.skins) == null ? void 0 : t.length) && this.options.showVariants && !this.isVariantPopupOpen ? this.showVariantPopup(e) : (await ((o = this.variantPopup) == null ? void 0 : o.animateHide()), this.events.emit(\"variantPopup:hide\"), await this.emitEmoji(e));\n  }\n  get isVariantPopupOpen() {\n    return this.variantPopup && !this.variantPopup.isDestroyed;\n  }\n  async showVariantPopup(e) {\n    const t = document.activeElement;\n    this.events.once(\"variantPopup:hide\", () => {\n      t == null || t.focus();\n    }), this.variantPopup = this.viewFactory.create(ts, { emoji: e, parent: this.el }), this.el.appendChild(this.variantPopup.renderSync()), this.variantPopup.activate();\n  }\n  async emitEmoji(e) {\n    this.externalEvents.emit(\"emoji:select\", await this.renderer.doEmit(e)), this.options.recentsProvider.addOrUpdateRecent(e, this.options.maxRecents), this.events.emit(\"recent:add\", e);\n  }\n  updateOptions(e) {\n    Object.keys(e).forEach((t) => {\n      this.updaters[t](e[t]);\n    }), Object.assign(this.options, e);\n  }\n}\nclass ps {\n  constructor({ events: e, i18n: t, renderer: o, emojiData: i, options: r, customEmojis: a = [], pickerId: n }) {\n    this.events = e, this.i18n = t, this.renderer = o, this.emojiData = i, this.options = r, this.customEmojis = a, this.pickerId = n;\n  }\n  setEmojiData(e) {\n    this.emojiData = Promise.resolve(e);\n  }\n  create(e, ...t) {\n    const o = new e(...t);\n    return o.setPickerId(this.pickerId), o.setEvents(this.events), o.setI18n(this.i18n), o.setRenderer(this.renderer), o.setEmojiData(this.emojiData), o.setOptions(this.options), o.setCustomEmojis(this.customEmojis), o.viewFactory = this, o.initialize(), o;\n  }\n}\nvar L;\nclass ys {\n  constructor(e = {}) {\n    f(this, L, void 0);\n    A(this, L, new Map(Object.entries(e)));\n  }\n  get(e, t = e) {\n    return y(this, L).get(e) || t;\n  }\n}\nL = new WeakMap();\nfunction fs(s, e) {\n  e === void 0 && (e = {});\n  var t = e.insertAt;\n  if (!(!s || typeof document > \"u\")) {\n    var o = document.head || document.getElementsByTagName(\"head\")[0], i = document.createElement(\"style\");\n    i.type = \"text/css\", t === \"top\" && o.firstChild ? o.insertBefore(i, o.firstChild) : o.appendChild(i), i.styleSheet ? i.styleSheet.cssText = s : i.appendChild(document.createTextNode(s));\n  }\n}\nfunction vs() {\n  let s = !1;\n  return function(t) {\n    xt.injectStyles && !s && (fs(t), s = !0);\n  };\n}\nconst ws = `.picmo-picker .icon{width:1.25em;height:1em;fill:currentColor}.icon-small{font-size:.8em}.icon-medium{font-size:1em}.icon-large{font-size:1.25em}.icon-2x{font-size:2em}.icon-3x{font-size:3em}.icon-4x{font-size:4em}.icon-5x{font-size:5em}.icon-8x{font-size:8em}.icon-10x{font-size:10em}.light,.auto{color-scheme:light;--accent-color: #4f46e5;--background-color: #f9fafb;--border-color: #cccccc;--category-name-background-color: #f9fafb;--category-name-button-color: #999999;--category-name-text-color: hsl(214, 30%, 50%);--category-tab-active-background-color: rgba(255, 255, 255, .6);--category-tab-active-color: var(--accent-color);--category-tab-color: #666;--category-tab-highlight-background-color: rgba(0, 0, 0, .15);--error-color-dark: hsl(0, 100%, 45%);--error-color: hsl(0, 100%, 40%);--focus-indicator-background-color: hsl(198, 65%, 85%);--focus-indicator-color: #333333;--hover-background-color: #c7d2fe;--placeholder-background-color: #cccccc;--preview-background-color: var(--secondary-background-color);--scrollbar-background-color: var(--background-color);--scrollbar-color: #aaa;--search-background-color: #f9fafb;--search-focus-background-color: #ffffff;--search-icon-color: #999999;--search-placeholder-color: #71717a;--secondary-background-color: #e2e8f0;--secondary-text-color: #666666;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #000000;--variant-popup-background-color: #ffffff}.dark{color-scheme:dark;--accent-color: #A580F9;--background-color: #333333;--border-color: #666666;--category-name-background-color: #333333;--category-name-button-color: #eeeeee;--category-name-text-color: #ffffff;--category-tab-active-background-color: #000000;--category-tab-active-color: var(--accent-color);--category-tab-color: #cccccc;--category-tab-highlight-background-color: #4A4A4A;--error-color-dark: hsl(0, 7%, 3%);--error-color: hsl(0, 30%, 60%);--focus-indicator-background-color: hsl(0, 0%, 50%);--focus-indicator-color: #999999;--hover-background-color: hsla(0, 0%, 40%, .85);--image-placeholder-color: #ffffff;--placeholder-background-color: #666666;--search-background-color: #71717a;--search-focus-background-color: #52525b;--search-icon-color: #cccccc;--search-placeholder-color: #d4d4d8;--secondary-background-color: #000000 ;--secondary-text-color: #999999;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #ffffff;--variant-popup-background-color: #333333}@media (prefers-color-scheme: dark){.auto{color-scheme:dark;--accent-color: #A580F9;--background-color: #333333;--border-color: #666666;--category-name-background-color: #333333;--category-name-button-color: #eeeeee;--category-name-text-color: #ffffff;--category-tab-active-background-color: #000000;--category-tab-active-color: var(--accent-color);--category-tab-color: #cccccc;--category-tab-highlight-background-color: #4A4A4A;--error-color-dark: hsl(0, 7%, 3%);--error-color: hsl(0, 30%, 60%);--focus-indicator-background-color: hsl(0, 0%, 50%);--focus-indicator-color: #999999;--hover-background-color: hsla(0, 0%, 40%, .85);--image-placeholder-color: #ffffff;--placeholder-background-color: #666666;--search-background-color: #71717a;--search-focus-background-color: #52525b;--search-icon-color: #cccccc;--search-placeholder-color: #d4d4d8;--secondary-background-color: #000000 ;--secondary-text-color: #999999;--tag-background-color: rgba(162, 190, 245, .3);--text-color: #ffffff;--variant-popup-background-color: #333333}}.picmo-picker .categoryButtonsContainer{overflow:auto;padding:2px 0;scrollbar-width:thin}.picmo-picker .categoryButtonsContainer.has-overflow-right{mask-image:linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%);-webkit-mask-image:linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%)}.picmo-picker .categoryButtonsContainer.has-overflow-left{mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%);-webkit-mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%)}.picmo-picker .categoryButtonsContainer.has-overflow-both{mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%,rgba(255,255,255,1) 90%,rgba(255,255,255,0) 100%);-webkit-mask-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,1) 10%,rgba(255,255,255,1) 90%,rgba(255,255,255,0) 100%)}.picmo-picker .categoryButtonsContainer::-webkit-scrollbar{width:8px;height:8px}.picmo-picker .categoryButtonsContainer::-webkit-scrollbar-thumb{background:var(--scrollbar-color);border-radius:1em}.picmo-picker .categoryButtons{display:flex;flex-direction:row;gap:var(--tab-gap);margin:0;padding:0 .5em;align-items:center;height:var(--category-tabs-height);box-sizing:border-box;width:100%;justify-content:space-between;position:relative;list-style-type:none;justify-self:center;max-width:min(23.55rem,calc(var(--category-count, 1) * 2.5rem))}.picmo-picker .categoryButtons .categoryTab{display:flex;align-items:center;transition:all .1s;width:2em}.picmo-picker .categoryButtons .categoryTab.categoryTabActive .categoryButton{color:var(--category-tab-active-color);background:linear-gradient(rgba(255,255,255,.75) 0%,rgba(255,255,255,.75) 100%),linear-gradient(var(--category-tab-active-color) 0%,var(--category-tab-active-color) 100%);border:2px solid var(--category-tab-active-color)}.picmo-picker .categoryButtons .categoryTab.categoryTabActive .categoryButton:hover{background-color:var(--category-tab-active-background-color)}.picmo-picker .categoryButtons .categoryTab button.categoryButton{border-radius:5px;background:transparent;border:2px solid transparent;color:var(--category-tab-color);cursor:pointer;padding:2px;vertical-align:middle;display:flex;align-items:center;justify-content:center;font-size:1.2rem;width:1.6em;height:1.6em;transition:all .1s}.picmo-picker .categoryButtons .categoryTab button.categoryButton:is(img){width:var(--category-tab-size);height:var(--category-tab-size)}.picmo-picker .categoryButtons .categoryTab button.categoryButton:hover{background:var(--category-tab-highlight-background-color)}.dataError [data-icon]{opacity:.8}@keyframes appear{0%{opacity:0}to{opacity:.8}}@keyframes appear-grow{0%{opacity:0;transform:scale(.8)}to{opacity:.8;transform:scale(1)}}.picmo-picker .error{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--secondary-text-color)}.picmo-picker .error .iconContainer{opacity:.8;animation:appear-grow .25s cubic-bezier(.175,.885,.32,1.275);--color-primary: var(--error-color);--color-secondary: var(--error-color-dark)}.picmo-picker .error .title{animation:appear .25s;animation-delay:50ms;animation-fill-mode:both}.picmo-picker .error button{padding:8px 16px;cursor:pointer;background:var(--background-color);border:1px solid var(--text-color);border-radius:5px;color:var(--text-color)}.picmo-picker .error button:hover{background:var(--text-color);color:var(--background-color)}.emojiButton{background:transparent;border:none;border-radius:15px;cursor:pointer;display:flex;font-family:var(--emoji-font);font-size:var(--emoji-size);height:100%;justify-content:center;align-items:center;margin:0;overflow:hidden;padding:0;width:100%}.emojiButton:hover{background:var(--hover-background-color)}.emojiButton:focus{border-radius:0;background:var(--focus-indicator-background-color);outline:1px solid var(--focus-indicator-color)}.picmo-picker .emojiArea{height:var(--emoji-area-height);overflow-y:auto;position:relative;scrollbar-color:var(--scrollbar-color) var(--scrollbar-background-color);scrollbar-width:thin}.picmo-picker .emojiArea::-webkit-scrollbar{background:var(--scrollbar-background-color);width:1.1em}.picmo-picker .emojiArea::-webkit-scrollbar-thumb{background:var(--scrollbar-color);border-left:4px solid transparent;border-right:4px solid transparent;background-clip:padding-box;height:1em;border-radius:1em}.picmo-picker .emojiCategory{position:relative}.picmo-picker .emojiCategory .categoryName{font-size:.9em;padding:.5rem;margin:0;background:var(--category-name-background-color);color:var(--category-name-text-color);top:0;z-index:1;display:grid;gap:4px;grid-template-columns:auto 1fr auto;align-items:center;line-height:1;box-sizing:border-box;height:var(--category-name-height);justify-content:flex-start;text-transform:uppercase}.picmo-picker .emojiCategory .categoryName button{background:transparent;border:none;display:flex;align-items:center;cursor:pointer;color:var(--category-name-button-color)}.picmo-picker .emojiCategory .categoryName button:hover{opacity:1}.picmo-picker .emojiCategory .noRecents{color:var(--secondary-text-color);grid-column:1 / span var(--emojis-per-row);font-size:.9em;text-align:center;display:flex;align-items:center;justify-content:center;min-height:calc(var(--emoji-size) * var(--emoji-size-multiplier))}.picmo-picker .emojiCategory .recentEmojis[data-empty=true]{display:none}:is(.picmo-picker .emojiCategory) .recentEmojis[data-empty=false]+div{display:none}.picmo-picker .emojiContainer{display:grid;justify-content:space-between;gap:1px;padding:0 .5em;grid-template-columns:repeat(var(--emojis-per-row),calc(var(--emoji-size) * var(--emoji-size-multiplier)));grid-auto-rows:calc(var(--emoji-size) * var(--emoji-size-multiplier));align-items:center;justify-items:center}.picmo-picker.picker{--border-radius: 5px;--emoji-area-height: calc( (var(--row-count) * var(--emoji-size) * var(--emoji-size-multiplier)) + var(--category-name-height) );--content-height: var(--emoji-area-height);--emojis-per-row: 8;--row-count: 6;--emoji-preview-margin: 4px;--emoji-preview-height: calc(var(--emoji-preview-size) + 1em + 1px);--emoji-preview-height-full: calc(var(--emoji-preview-height) + var(--emoji-preview-margin));--emoji-preview-size: 2.75em;--emoji-size: 2rem;--emoji-size-multiplier: 1.3;--content-margin: 8px;--category-tabs-height:calc(1.5em + 9px);--category-tabs-offset: 8px;--category-tab-size: 1.2rem;--category-name-height: 2rem;--category-name-padding-y: 6px;--search-height: 2em;--search-margin: .5em;--search-margin-bottom: 4px;--search-height-full: calc(var(--search-height) + var(--search-margin) + var(--search-margin-bottom));--overlay-background-color: rgba(0, 0, 0, .8);--emoji-font: \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Segoe UI\", \"Apple Color Emoji\", \"Twemoji Mozilla\", \"Noto Color Emoji\", \"EmojiOne Color\", \"Android Emoji\";--ui-font: -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", sans-serif;--ui-font-size: 16px;--picker-width: calc(var(--emojis-per-row) * var(--emoji-size) * var(--emoji-size-multiplier) + 2.75rem);background:var(--background-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-family:var(--ui-font);font-size:var(--ui-font-size);overflow:hidden;position:relative;width:var(--picker-width);display:grid;gap:8px}.picmo-picker.picker>*{font-family:var(--ui-font)}.picmo-picker.skeleton{background:var(--background-color);border-radius:var(--border-radius);border:1px solid var(--border-color);font-family:var(--ui-font);width:var(--picker-width);color:var(--secondary-text-color)}.picmo-picker.skeleton *{box-sizing:border-box}.picmo-picker.skeleton .placeholder{background:var(--placeholder-background-color);position:relative;overflow:hidden}.picmo-picker.skeleton .placeholder:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0) 100%);animation:shine 2s infinite;content:\"\"}.picmo-picker.skeleton .headerSkeleton{background-color:var(--secondary-background-color);padding-top:8px;padding-bottom:8px;display:flex;flex-direction:column;overflow:hidden;gap:8px;border-bottom:1px solid var(--border-color);width:var(--picker-width)}.picmo-picker.skeleton .searchSkeleton{padding:0 8px;height:var(--search-height)}.picmo-picker.skeleton .searchSkeleton .searchInput{width:100%;height:28px;border-radius:3px}.picmo-picker.skeleton .categoryTabsSkeleton{height:var(--category-tabs-height);display:flex;flex-direction:row;align-items:center;justify-self:center;width:calc(2rem * var(--category-count, 1))}.picmo-picker.skeleton .categoryTabsSkeleton .categoryTab{width:25px;height:25px;padding:2px;border-radius:5px;margin:.25em}.picmo-picker.skeleton .contentSkeleton{height:var(--content-height);padding-right:8px;opacity:.7}.picmo-picker.skeleton .contentSkeleton .categoryName{width:50%;height:1rem;margin:.5rem;box-sizing:border-box}.picmo-picker.skeleton .contentSkeleton .emojiGrid{display:grid;justify-content:space-between;gap:1px;padding:0 .5em;grid-template-columns:repeat(var(--emojis-per-row),calc(var(--emoji-size) * var(--emoji-size-multiplier)));grid-auto-rows:calc(var(--emoji-size) * var(--emoji-size-multiplier));align-items:center;justify-items:center;width:var(--picker-width)}.picmo-picker.skeleton .contentSkeleton .emojiGrid .emoji{width:var(--emoji-size);height:var(--emoji-size);border-radius:50%}.picmo-picker.skeleton .previewSkeleton{height:var(--emoji-preview-height);border-top:1px solid var(--border-color);display:grid;align-items:center;padding:.5em;gap:6px;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;grid-template-areas:\"emoji name\" \"emoji tags\"}.picmo-picker.skeleton .previewSkeleton .previewEmoji{grid-area:emoji;border-radius:50%;width:var(--emoji-preview-size);height:var(--emoji-preview-size)}.picmo-picker.skeleton .previewSkeleton .previewName{grid-area:name;height:.8em;width:80%}.picmo-picker.skeleton .previewSkeleton .tagList{grid-area:tags;list-style-type:none;display:flex;flex-direction:row;padding:0;margin:0}.picmo-picker.skeleton .previewSkeleton .tagList .tag{border-radius:3px;padding:2px 8px;margin-right:.25em;height:1em;width:20%}.overlay{background:rgba(0,0,0,.75);height:100%;left:0;position:fixed;top:0;width:100%;z-index:1000}.content{position:relative;overflow:hidden;height:var(--content-height)}.content.fullHeight{height:calc(var(--content-height) + var(--category-tabs-height) + var(--category-tabs-offset));overflow-y:auto;scrollbar-color:var(--scrollbar-color) var(--scrollbar-background-color);scrollbar-width:thin}.content.fullHeight::-webkit-scrollbar{background:var(--scrollbar-background-color);width:1.1em}.content.fullHeight::-webkit-scrollbar-thumb{background:var(--scrollbar-color);background-clip:padding-box;height:1em;border-radius:.5em}.pluginContainer{margin:.5em;display:flex;flex-direction:row}.header{background-color:var(--secondary-background-color);padding-top:8px;padding-bottom:8px;display:grid;gap:8px;border-bottom:1px solid var(--border-color)}@media (prefers-reduced-motion: reduce){.placeholder{background:var(--placeholder-background-color);position:relative;overflow:hidden}.placeholder:after{display:none}}.picmo-picker .preview{border-top:1px solid var(--border-color);display:grid;align-items:center;gap:6px;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;grid-template-areas:\"emoji name\" \"emoji tags\";height:var(--emoji-preview-height);box-sizing:border-box;padding:.5em;position:relative;background:var(--preview-background-color)}.picmo-picker .preview .previewEmoji{grid-area:emoji;font-size:var(--emoji-preview-size);font-family:var(--emoji-font);width:1.25em;display:flex;align-items:center;justify-content:center}.picmo-picker .preview .previewName{grid-area:name;color:var(--text-color);font-size:.8em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}.picmo-picker .preview .tagList{grid-area:tags;list-style-type:none;display:flex;flex-direction:row;padding:0;margin:0;font-size:.75em;overflow:hidden}.picmo-picker .preview .tag{border-radius:3px;background:var(--tag-background-color);color:var(--text-color);padding:2px 8px;margin-right:.25em;white-space:nowrap}.picmo-picker .preview .tag:last-child{margin-right:0}.picmo-picker .searchContainer{display:flex;height:var(--search-height);box-sizing:border-box;padding:0 8px;position:relative}.picmo-picker .searchContainer .searchField{background:var(--search-background-color);border-radius:3px;border:none;box-sizing:border-box;color:var(--text-color);font-size:.9em;outline:none;padding:.5em 2.25em .5em .5em;width:100%}.picmo-picker .searchContainer .searchField:focus{background:var(--search-focus-background-color)}.picmo-picker .searchContainer .searchField::placeholder{color:var(--search-placeholder-color)}.picmo-picker .searchContainer .searchAccessory{color:var(--search-icon-color);height:100%;position:absolute;right:1em;top:0;width:1.25rem;display:flex;align-items:center}.picmo-picker .searchContainer .searchAccessory svg{fill:var(--search-icon-color)}.picmo-picker .searchContainer .clearButton{border:0;color:var(--search-icon-color);background:transparent;cursor:pointer}.picmo-picker .searchContainer .clearSearchButton{cursor:pointer;border:none;background:transparent;color:var(--search-icon-color);font-size:1em;width:100%;height:100%;display:flex;align-items:center;padding:0}.picmo-picker .searchContainer .notFound [data-icon]{fill:#f3e265}.picmo-picker .variantOverlay{background:var(--overlay-background-color);border-radius:5px;display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:1}.picmo-picker .variantOverlay .variantPopup{background:var(--variant-popup-background-color);border-radius:5px;margin:.5em;padding:.5em;text-align:center;user-select:none;display:flex;align-items:center;justify-content:center}.customEmoji{width:1em;height:1em}@keyframes shine{to{transform:translate(100%)}}.picmo-picker .imagePlaceholder{width:2rem;height:2rem;border-radius:50%}.placeholder{background:#DDDBDD;position:relative}.placeholder:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0) 100%);animation:shine 2s infinite;content:\"\"}\n`;\nfunction bs(s) {\n  return re(s.locale, s.dataStore, s.messages, s.emojiData);\n}\nlet Cs = 0;\nfunction js() {\n  return `picmo-${Date.now()}-${Cs++}`;\n}\nconst ks = vs();\nfunction Ls(s) {\n  ks(ws);\n  const e = kt(s), t = ((e == null ? void 0 : e.custom) || []).map((l) => ({\n    ...l,\n    custom: !0,\n    tags: [\"custom\", ...l.tags || []]\n  })), o = new Et(), i = bs(e), r = new ys(e.i18n);\n  i.then((l) => {\n    o.emit(\"data:ready\", l);\n  }).catch((l) => {\n    o.emit(\"error\", l);\n  });\n  const n = new ps({\n    events: o,\n    i18n: r,\n    customEmojis: t,\n    renderer: e.renderer,\n    options: e,\n    emojiData: i,\n    pickerId: js()\n  }).create(gs);\n  return n.renderSync(), n;\n}\nconst _ = {};\nfunction xs(s) {\n  return _[s] || (_[s] = new Es(s)), _[s];\n}\nxs.deleteDatabase = (s) => {\n};\nclass Es extends ke {\n  open() {\n    return Promise.resolve();\n  }\n  delete() {\n    return Promise.resolve();\n  }\n  close() {\n  }\n  isPopulated() {\n    return Promise.resolve(!1);\n  }\n  getEmojiCount() {\n    return Promise.resolve(this.emojis.length);\n  }\n  getEtags() {\n    return Promise.resolve({ foo: \"bar\" });\n  }\n  getHash() {\n    return Promise.resolve(\"\");\n  }\n  populate(e) {\n    return this.categories = e.groups, this.emojis = e.emojis, Promise.resolve();\n  }\n  getCategories(e) {\n    var o;\n    let t = this.categories.filter((i) => i.key !== \"component\");\n    if (e.showRecents && t.unshift({ key: \"recents\", order: -1 }), (o = e.custom) != null && o.length && t.push({ key: \"custom\", order: 10 }), e.categories) {\n      const i = e.categories;\n      t = t.filter((r) => i.includes(r.key)), t.sort((r, a) => i.indexOf(r.key) - i.indexOf(a.key));\n    } else\n      t.sort((i, r) => i.order - r.order);\n    return Promise.resolve(t);\n  }\n  getEmojis(e, t) {\n    const o = this.emojis.filter((i) => i.group === e.order).filter((i) => i.version <= t).sort((i, r) => i.order != null && r.order != null ? i.order - r.order : 0).map(x);\n    return Promise.resolve(B(o, t));\n  }\n  searchEmojis(e, t, o, i) {\n    const r = this.emojis.filter((l) => M(l, e, i)).map(x), a = t.filter((l) => M(l, e, i)), n = [\n      ...B(r, o),\n      ...a\n    ];\n    return Promise.resolve(n);\n  }\n  setMeta(e) {\n    this.meta = e;\n  }\n}\nclass Fs extends Ee {\n  constructor() {\n    super(sessionStorage);\n  }\n}\nasync function As(s, e, t, o) {\n  (await re(s, e, t, o)).close();\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcGljbW8vZGlzdC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtBQUNoRSxnRkFBZ0YsRUFBRSxHQUFHLEVBQUU7QUFDdkY7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksOEVBQThFLEVBQUUsR0FBRyxFQUFFO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxFQUFFLGNBQWMsNkNBQTZDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxQkFBcUIsRUFBRSxHQUFHLHVCQUF1QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSw0QkFBNEI7QUFDNUIsR0FBRztBQUNIO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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OUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsMkJBQTJCLGtEQUFrRCwwQkFBMEI7QUFDNUk7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFDQUFxQyxpQ0FBaUM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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V0FBVyxpQkFBaUIsR0FBRywyQkFBMkIsZ0NBQWdDLFdBQVcsWUFBWSxrQkFBa0IsYUFBYSxtQkFBbUIsa0JBQWtCLG1CQUFtQixrQkFBa0IsTUFBTSxRQUFRLFNBQVMsT0FBTywyQkFBMkIseUlBQXlJLDRCQUE0QjtBQUN2L2lCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixXQUFXLEdBQUcsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsWUFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQywyQkFBMkIsa0RBQWtELDBCQUEwQjtBQUM1STtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGljbW8vZGlzdC9pbmRleC5qcz82MjE3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBPID0gKHMsIGUsIHQpID0+IHtcbiAgaWYgKCFlLmhhcyhzKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyB0KTtcbn07XG52YXIgeSA9IChzLCBlLCB0KSA9PiAoTyhzLCBlLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCB0ID8gdC5jYWxsKHMpIDogZS5nZXQocykpLCBmID0gKHMsIGUsIHQpID0+IHtcbiAgaWYgKGUuaGFzKHMpKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIGUgaW5zdGFuY2VvZiBXZWFrU2V0ID8gZS5hZGQocykgOiBlLnNldChzLCB0KTtcbn0sIEEgPSAocywgZSwgdCwgbykgPT4gKE8ocywgZSwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBvID8gby5jYWxsKHMsIHQpIDogZS5zZXQocywgdCksIHQpO1xudmFyIHAgPSAocywgZSwgdCkgPT4gKE8ocywgZSwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIiksIHQpO1xuY29uc3QgJGUgPSBcIjE0LjBcIjtcbmZ1bmN0aW9uIExlKHMsIGUsIHQpIHtcbiAgbGV0IG8gPSBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9lbW9qaWJhc2UtZGF0YUAke2V9LyR7c31gO1xuICByZXR1cm4gdHlwZW9mIHQgPT0gXCJmdW5jdGlvblwiID8gbyA9IHQocywgZSkgOiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiICYmIChvID0gYCR7dH0vJHtzfWApLCBvO1xufVxuYXN5bmMgZnVuY3Rpb24gb2UocywgZSA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBsb2NhbDogdCA9ICExLFxuICAgIHZlcnNpb246IG8gPSBcImxhdGVzdFwiLFxuICAgIGNkblVybDogaSxcbiAgICAuLi5yXG4gIH0gPSBlLCBhID0gTGUocywgbywgaSksIG4gPSB0ID8gbG9jYWxTdG9yYWdlIDogc2Vzc2lvblN0b3JhZ2UsIGwgPSBgZW1vamliYXNlLyR7b30vJHtzfWAsIG0gPSBuLmdldEl0ZW0obCk7XG4gIGlmIChtKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShtKSk7XG4gIGNvbnN0IGQgPSBhd2FpdCBmZXRjaChhLCB7XG4gICAgY3JlZGVudGlhbHM6IFwib21pdFwiLFxuICAgIG1vZGU6IFwiY29yc1wiLFxuICAgIHJlZGlyZWN0OiBcImVycm9yXCIsXG4gICAgLi4uclxuICB9KTtcbiAgaWYgKCFkLm9rKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIEVtb2ppYmFzZSBkYXRhc2V0LlwiKTtcbiAgY29uc3QgaCA9IGF3YWl0IGQuanNvbigpO1xuICB0cnkge1xuICAgIG4uc2V0SXRlbShsLCBKU09OLnN0cmluZ2lmeShoKSk7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBoO1xufVxuY29uc3QgRmUgPSB7XG4gIGRpc2NvcmQ6IFwiam95cGl4ZWxzXCIsXG4gIHNsYWNrOiBcImlhbWNhbFwiXG59O1xuYXN5bmMgZnVuY3Rpb24gbGUocywgZSwgdCkge1xuICB2YXIgbztcbiAgcmV0dXJuIG9lKGAke3N9L3Nob3J0Y29kZXMvJHsobyA9IEZlW2VdKSAhPT0gbnVsbCAmJiBvICE9PSB2b2lkIDAgPyBvIDogZX0uanNvbmAsIHQpO1xufVxuZnVuY3Rpb24gayhzLCBlKSB7XG4gIGlmIChlLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gcztcbiAgY29uc3QgdCA9IG5ldyBTZXQocy5zaG9ydGNvZGVzKTtcbiAgcmV0dXJuIGUuZm9yRWFjaCgobykgPT4ge1xuICAgIGNvbnN0IGkgPSBvW3MuaGV4Y29kZV07XG4gICAgQXJyYXkuaXNBcnJheShpKSA/IGkuZm9yRWFjaCgocikgPT4gdC5hZGQocikpIDogaSAmJiB0LmFkZChpKTtcbiAgfSksIHMuc2hvcnRjb2RlcyA9IFsuLi50XSwgcy5za2lucyAmJiBzLnNraW5zLmZvckVhY2goKG8pID0+IHtcbiAgICBrKG8sIGUpO1xuICB9KSwgcztcbn1cbmZ1bmN0aW9uIEFlKHMsIGUgPSBbXSkge1xuICBjb25zdCB0ID0gW107XG4gIHJldHVybiBzLmZvckVhY2goKG8pID0+IHtcbiAgICBpZiAoby5za2lucykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBza2luczogaSxcbiAgICAgICAgLi4uclxuICAgICAgfSA9IG87XG4gICAgICB0LnB1c2goayhyLCBlKSksIGkuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgICBjb25zdCBuID0ge1xuICAgICAgICAgIC4uLmFcbiAgICAgICAgfTtcbiAgICAgICAgci50YWdzICYmIChuLnRhZ3MgPSBbLi4uci50YWdzXSksIHQucHVzaChrKG4sIGUpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZVxuICAgICAgdC5wdXNoKGsobywgZSkpO1xuICB9KSwgdDtcbn1cbmZ1bmN0aW9uIEllKHMsIGUpIHtcbiAgcmV0dXJuIGUubGVuZ3RoID09PSAwIHx8IHMuZm9yRWFjaCgodCkgPT4ge1xuICAgIGsodCwgZSk7XG4gIH0pLCBzO1xufVxuYXN5bmMgZnVuY3Rpb24gdmUocywgZSA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb21wYWN0OiB0ID0gITEsXG4gICAgZmxhdDogbyA9ICExLFxuICAgIHNob3J0Y29kZXM6IGkgPSBbXSxcbiAgICAuLi5yXG4gIH0gPSBlLCBhID0gYXdhaXQgb2UoYCR7c30vJHt0ID8gXCJjb21wYWN0XCIgOiBcImRhdGFcIn0uanNvbmAsIHIpO1xuICBsZXQgbiA9IFtdO1xuICByZXR1cm4gaS5sZW5ndGggPiAwICYmIChuID0gYXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoKGwpID0+IHtcbiAgICBsZXQgbTtcbiAgICBpZiAobC5pbmNsdWRlcyhcIi9cIikpIHtcbiAgICAgIGNvbnN0IFtkLCBoXSA9IGwuc3BsaXQoXCIvXCIpO1xuICAgICAgbSA9IGxlKGQsIGgsIHIpO1xuICAgIH0gZWxzZVxuICAgICAgbSA9IGxlKHMsIGwsIHIpO1xuICAgIHJldHVybiBtLmNhdGNoKCgpID0+ICh7fSkpO1xuICB9KSkpLCBvID8gQWUoYSwgbikgOiBJZShhLCBuKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHdlKHMsIGUpIHtcbiAgcmV0dXJuIG9lKGAke3N9L21lc3NhZ2VzLmpzb25gLCBlKTtcbn1cbmZ1bmN0aW9uIFUocywgZSkge1xuICBjb25zdCBvID0gcy50YXJnZXQuY2xvc2VzdChcIltkYXRhLWVtb2ppXVwiKTtcbiAgaWYgKG8pIHtcbiAgICBjb25zdCBpID0gZS5maW5kKChyKSA9PiByLmVtb2ppID09PSBvLmRhdGFzZXQuZW1vamkpO1xuICAgIGlmIChpKVxuICAgICAgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBiZShzKSB7XG4gIHZhciB0O1xuICBjb25zdCBlID0gKHQgPSB3aW5kb3cubWF0Y2hNZWRpYSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuY2FsbCh3aW5kb3csIFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIik7XG4gIHJldHVybiBzLmFuaW1hdGUgJiYgIShlICE9IG51bGwgJiYgZS5tYXRjaGVzKTtcbn1cbmZ1bmN0aW9uIGhlKHMsIGUpIHtcbiAgcmV0dXJuIHMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRvTG93ZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gVGUocywgZSkge1xuICBsZXQgdCA9IG51bGw7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgdCB8fCAodCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHMoKSwgdCA9IG51bGw7XG4gICAgfSwgZSkpO1xuICB9O1xufVxuZnVuY3Rpb24gUmUocywgZSkge1xuICBsZXQgdCA9IG51bGw7XG4gIHJldHVybiAoLi4ubykgPT4ge1xuICAgIHQgJiYgd2luZG93LmNsZWFyVGltZW91dCh0KSwgdCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHMoLi4ubyksIHQgPSBudWxsO1xuICAgIH0sIGUpO1xuICB9O1xufVxuZnVuY3Rpb24gSShzLCBlLCB0LCBvKSB7XG4gIGlmIChiZShvKSAmJiBzLmFuaW1hdGUpXG4gICAgcmV0dXJuIHMuYW5pbWF0ZShlLCB0KS5maW5pc2hlZDtcbiAgY29uc3QgaSA9IHQuZGlyZWN0aW9uID09PSBcIm5vcm1hbFwiID8gMSA6IDAsIHIgPSBPYmplY3QuZW50cmllcyhlKS5yZWR1Y2UoKGEsIFtuLCBsXSkgPT4gKHtcbiAgICAuLi5hLFxuICAgIFtuXTogbFtpXVxuICB9KSwge30pO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihzLnN0eWxlLCByKSwgUHJvbWlzZS5yZXNvbHZlKCk7XG59XG5mdW5jdGlvbiBKKHMpIHtcbiAgdmFyIHQ7XG4gIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gIHJldHVybiBlLmlubmVySFRNTCA9IHMsICh0ID0gZS5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogdC5maXJzdEVsZW1lbnRDaGlsZDtcbn1cbmFzeW5jIGZ1bmN0aW9uIFZlKHMpIHtcbiAgY29uc3QgZSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKSwgdCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLCBlKTtcbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkodCkpLm1hcCgoaSkgPT4gaS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKS5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gZyguLi5zKSB7XG4gIHJldHVybiBzLnJlZHVjZSgoZSwgdCkgPT4gKHtcbiAgICAuLi5lLFxuICAgIFt0XTogaWUodClcbiAgfSksIHt9KTtcbn1cbmZ1bmN0aW9uIGllKHMpIHtcbiAgcmV0dXJuIGAke3N9YDtcbn1cbmZ1bmN0aW9uIEJlKHMsIGUpIHtcbiAgY29uc3QgdCA9IGBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Vtb2ppYmFzZS1kYXRhQCR7c30vJHtlfWA7XG4gIHJldHVybiB7XG4gICAgZW1vamlzVXJsOiBgJHt0fS9kYXRhLmpzb25gLFxuICAgIG1lc3NhZ2VzVXJsOiBgJHt0fS9tZXNzYWdlcy5qc29uYFxuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZGUocykge1xuICB0cnkge1xuICAgIHJldHVybiAoYXdhaXQgZmV0Y2gocywgeyBtZXRob2Q6IFwiSEVBRFwiIH0pKS5oZWFkZXJzLmdldChcImV0YWdcIik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBNZShzKSB7XG4gIGNvbnN0IHsgZW1vamlzVXJsOiBlLCBtZXNzYWdlc1VybDogdCB9ID0gQmUoXCJsYXRlc3RcIiwgcyk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIGRlKGUpLFxuICAgICAgZGUodClcbiAgICBdKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtudWxsLCBudWxsXSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIERlKHMsIGUsIHQpIHtcbiAgbGV0IG87XG4gIHRyeSB7XG4gICAgbyA9IGF3YWl0IHMuZ2V0RXRhZ3MoKTtcbiAgfSBjYXRjaCB7XG4gICAgbyA9IHt9O1xuICB9XG4gIGNvbnN0IHsgc3RvcmVkRW1vamlzRXRhZzogaSwgc3RvcmVkTWVzc2FnZXNFdGFnOiByIH0gPSBvO1xuICBpZiAodCAhPT0gciB8fCBlICE9PSBpKSB7XG4gICAgY29uc3QgW2EsIG5dID0gYXdhaXQgUHJvbWlzZS5hbGwoW3dlKHMubG9jYWxlKSwgdmUocy5sb2NhbGUpXSk7XG4gICAgYXdhaXQgcy5wb3B1bGF0ZSh7XG4gICAgICBncm91cHM6IGEuZ3JvdXBzLFxuICAgICAgZW1vamlzOiBuLFxuICAgICAgZW1vamlzRXRhZzogZSxcbiAgICAgIG1lc3NhZ2VzRXRhZzogdFxuICAgIH0pO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBIZShzLCBlKSB7XG4gIGNvbnN0IHQgPSBhd2FpdCBzLmdldEhhc2goKTtcbiAgcmV0dXJuIGUgIT09IHQ7XG59XG5hc3luYyBmdW5jdGlvbiBDZShzLCBlLCB0KSB7XG4gIGNvbnN0IG8gPSB0IHx8IGUocyk7XG4gIHJldHVybiBhd2FpdCBvLm9wZW4oKSwgbztcbn1cbmFzeW5jIGZ1bmN0aW9uIE5lKHMsIGUsIHQpIHtcbiAgY29uc3QgbyA9IGF3YWl0IENlKHMsIGUsIHQpLCBbaSwgcl0gPSBhd2FpdCBNZShzKTtcbiAgaWYgKGF3YWl0IG8uaXNQb3B1bGF0ZWQoKSlcbiAgICBpICYmIHIgJiYgYXdhaXQgRGUobywgaSwgcik7XG4gIGVsc2Uge1xuICAgIGNvbnN0IFthLCBuXSA9IGF3YWl0IFByb21pc2UuYWxsKFt3ZShzKSwgdmUocyldKTtcbiAgICBhd2FpdCBvLnBvcHVsYXRlKHsgZ3JvdXBzOiBhLmdyb3VwcywgZW1vamlzOiBuLCBlbW9qaXNFdGFnOiBpLCBtZXNzYWdlc0V0YWc6IHIgfSk7XG4gIH1cbiAgcmV0dXJuIG87XG59XG5hc3luYyBmdW5jdGlvbiBPZShzLCBlLCB0LCBvLCBpKSB7XG4gIGNvbnN0IHIgPSBhd2FpdCBDZShzLCBlLCBpKSwgYSA9IGF3YWl0IFZlKG8pO1xuICByZXR1cm4gKCFhd2FpdCByLmlzUG9wdWxhdGVkKCkgfHwgYXdhaXQgSGUociwgYSkpICYmIGF3YWl0IHIucG9wdWxhdGUoeyBncm91cHM6IHQuZ3JvdXBzLCBlbW9qaXM6IG8sIGhhc2g6IGEgfSksIHI7XG59XG5hc3luYyBmdW5jdGlvbiByZShzLCBlLCB0LCBvLCBpKSB7XG4gIHJldHVybiB0ICYmIG8gPyBPZShzLCBlLCB0LCBvLCBpKSA6IE5lKHMsIGUsIGkpO1xufVxuZnVuY3Rpb24gUHMocywgZSkge1xuICBzLmRlbGV0ZURhdGFiYXNlKGUpO1xufVxuY2xhc3MgVWUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZUtleURvd24gPSB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKTtcbiAgfVxuICBhY3RpdmF0ZShlKSB7XG4gICAgdGhpcy5yb290RWxlbWVudCA9IGUsIHRoaXMucm9vdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duKTtcbiAgfVxuICBkZWFjdGl2YXRlKCkge1xuICAgIHZhciBlO1xuICAgIChlID0gdGhpcy5yb290RWxlbWVudCkgPT0gbnVsbCB8fCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlS2V5RG93bik7XG4gIH1cbiAgZ2V0IGZvY3VzYWJsZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LCBbdGFiaW5kZXg9XCIwXCJdJyk7XG4gIH1cbiAgZ2V0IGxhc3RGb2N1c2FibGVFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmZvY3VzYWJsZUVsZW1lbnRzW3RoaXMuZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG4gIH1cbiAgZ2V0IGZpcnN0Rm9jdXNhYmxlRWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5mb2N1c2FibGVFbGVtZW50c1swXTtcbiAgfVxuICBjaGVja0ZvY3VzKGUsIHQsIG8pIHtcbiAgICBlLnRhcmdldCA9PT0gdCAmJiAoby5mb2N1cygpLCBlLnByZXZlbnREZWZhdWx0KCkpO1xuICB9XG4gIGhhbmRsZUtleURvd24oZSkge1xuICAgIGUua2V5ID09PSBcIlRhYlwiICYmIHRoaXMuY2hlY2tGb2N1cyhcbiAgICAgIGUsXG4gICAgICBlLnNoaWZ0S2V5ID8gdGhpcy5maXJzdEZvY3VzYWJsZUVsZW1lbnQgOiB0aGlzLmxhc3RGb2N1c2FibGVFbGVtZW50LFxuICAgICAgZS5zaGlmdEtleSA/IHRoaXMubGFzdEZvY3VzYWJsZUVsZW1lbnQgOiB0aGlzLmZpcnN0Rm9jdXNhYmxlRWxlbWVudFxuICAgICk7XG4gIH1cbn1cbmNvbnN0IHtcbiAgbGlnaHQ6IEtlLFxuICBkYXJrOiB6cyxcbiAgYXV0bzogJHNcbn0gPSBnKFwibGlnaHRcIiwgXCJkYXJrXCIsIFwiYXV0b1wiKTtcbmNsYXNzIGMge1xuICBjb25zdHJ1Y3Rvcih7IHRlbXBsYXRlOiBlLCBjbGFzc2VzOiB0LCBwYXJlbnQ6IG8gfSkge1xuICAgIHRoaXMuaXNEZXN0cm95ZWQgPSAhMSwgdGhpcy5hcHBFdmVudHMgPSB7fSwgdGhpcy51aUV2ZW50cyA9IFtdLCB0aGlzLnVpRWxlbWVudHMgPSB7fSwgdGhpcy51aSA9IHt9LCB0aGlzLnRlbXBsYXRlID0gZSwgdGhpcy5jbGFzc2VzID0gdCwgdGhpcy5wYXJlbnQgPSBvLCB0aGlzLmtleUJpbmRpbmdIYW5kbGVyID0gdGhpcy5rZXlCaW5kaW5nSGFuZGxlci5iaW5kKHRoaXMpO1xuICB9XG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5iaW5kQXBwRXZlbnRzKCk7XG4gIH1cbiAgc2V0Q3VzdG9tRW1vamlzKGUpIHtcbiAgICB0aGlzLmN1c3RvbUVtb2ppcyA9IGU7XG4gIH1cbiAgc2V0RXZlbnRzKGUpIHtcbiAgICB0aGlzLmV2ZW50cyA9IGU7XG4gIH1cbiAgc2V0UGlja2VySWQoZSkge1xuICAgIHRoaXMucGlja2VySWQgPSBlO1xuICB9XG4gIGVtaXQoZSwgLi4udCkge1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoZSwgLi4udCk7XG4gIH1cbiAgc2V0STE4bihlKSB7XG4gICAgdGhpcy5pMThuID0gZTtcbiAgfVxuICBzZXRSZW5kZXJlcihlKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IGU7XG4gIH1cbiAgc2V0RW1vamlEYXRhKGUpIHtcbiAgICB0aGlzLmVtb2ppRGF0YVByb21pc2UgPSBlLCBlLnRoZW4oKHQpID0+IHtcbiAgICAgIHRoaXMuZW1vamlEYXRhID0gdDtcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVFbW9qaURhdGEoZSkge1xuICAgIHRoaXMuZW1vamlEYXRhID0gZSwgdGhpcy5lbW9qaURhdGFQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGUpO1xuICB9XG4gIHNldE9wdGlvbnMoZSkge1xuICAgIHRoaXMub3B0aW9ucyA9IGU7XG4gIH1cbiAgcmVuZGVyU3luYyhlID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5lbCA9IHRoaXMudGVtcGxhdGUucmVuZGVyU3luYyh7XG4gICAgICBjbGFzc2VzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBpMThuOiB0aGlzLmkxOG4sXG4gICAgICBwaWNrZXJJZDogdGhpcy5waWNrZXJJZCxcbiAgICAgIC4uLmVcbiAgICB9KSwgdGhpcy5wb3N0UmVuZGVyKCksIHRoaXMuZWw7XG4gIH1cbiAgYXN5bmMgcmVuZGVyKGUgPSB7fSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmVtb2ppRGF0YVByb21pc2UsIHRoaXMuZWwgPSBhd2FpdCB0aGlzLnRlbXBsYXRlLnJlbmRlckFzeW5jKHtcbiAgICAgIGNsYXNzZXM6IHRoaXMuY2xhc3NlcyxcbiAgICAgIGkxOG46IHRoaXMuaTE4bixcbiAgICAgIHBpY2tlcklkOiB0aGlzLnBpY2tlcklkLFxuICAgICAgLi4uZVxuICAgIH0pLCB0aGlzLnBvc3RSZW5kZXIoKSwgdGhpcy5lbDtcbiAgfVxuICBwb3N0UmVuZGVyKCkge1xuICAgIHRoaXMuYmluZFVJRWxlbWVudHMoKSwgdGhpcy5iaW5kS2V5QmluZGluZ3MoKSwgdGhpcy5iaW5kVUlFdmVudHMoKSwgdGhpcy5zY2hlZHVsZVNob3dBbmltYXRpb24oKTtcbiAgfVxuICBiaW5kQXBwRXZlbnRzKCkge1xuICAgIE9iamVjdC5rZXlzKHRoaXMuYXBwRXZlbnRzKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50cy5vbihlLCB0aGlzLmFwcEV2ZW50c1tlXSwgdGhpcyk7XG4gICAgfSksIHRoaXMuZXZlbnRzLm9uKFwiZGF0YTpyZWFkeVwiLCB0aGlzLnVwZGF0ZUVtb2ppRGF0YSwgdGhpcyk7XG4gIH1cbiAgdW5iaW5kQXBwRXZlbnRzKCkge1xuICAgIE9iamVjdC5rZXlzKHRoaXMuYXBwRXZlbnRzKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50cy5vZmYoZSwgdGhpcy5hcHBFdmVudHNbZV0pO1xuICAgIH0pLCB0aGlzLmV2ZW50cy5vZmYoXCJkYXRhOnJlYWR5XCIsIHRoaXMudXBkYXRlRW1vamlEYXRhKTtcbiAgfVxuICBrZXlCaW5kaW5nSGFuZGxlcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMua2V5QmluZGluZ3NbZS5rZXldO1xuICAgIHQgJiYgdC5jYWxsKHRoaXMsIGUpO1xuICB9XG4gIGJpbmRLZXlCaW5kaW5ncygpIHtcbiAgICB0aGlzLmtleUJpbmRpbmdzICYmIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5rZXlCaW5kaW5nSGFuZGxlcik7XG4gIH1cbiAgdW5iaW5kS2V5QmluZGluZ3MoKSB7XG4gICAgdGhpcy5rZXlCaW5kaW5ncyAmJiB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5QmluZGluZ0hhbmRsZXIpO1xuICB9XG4gIGJpbmRVSUVsZW1lbnRzKCkge1xuICAgIHRoaXMudWkgPSBPYmplY3Qua2V5cyh0aGlzLnVpRWxlbWVudHMpLnJlZHVjZSgoZSwgdCkgPT4gKHtcbiAgICAgIC4uLmUsXG4gICAgICBbdF06IHRoaXMuZWwucXVlcnlTZWxlY3Rvcih0aGlzLnVpRWxlbWVudHNbdF0pXG4gICAgfSksIHt9KTtcbiAgfVxuICBiaW5kVUlFdmVudHMoKSB7XG4gICAgdGhpcy51aUV2ZW50cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmhhbmRsZXIgPSBlLmhhbmRsZXIuYmluZCh0aGlzKSwgKGUudGFyZ2V0ID8gdGhpcy51aVtlLnRhcmdldF0gOiB0aGlzLmVsKS5hZGRFdmVudExpc3RlbmVyKGUuZXZlbnQsIGUuaGFuZGxlciwgZS5vcHRpb25zKTtcbiAgICB9KTtcbiAgfVxuICB1bmJpbmRVSUV2ZW50cygpIHtcbiAgICB0aGlzLnVpRXZlbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIChlLnRhcmdldCA/IHRoaXMudWlbZS50YXJnZXRdIDogdGhpcy5lbCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLmV2ZW50LCBlLmhhbmRsZXIpO1xuICAgIH0pO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy51bmJpbmRBcHBFdmVudHMoKSwgdGhpcy51bmJpbmRVSUV2ZW50cygpLCB0aGlzLnVuYmluZEtleUJpbmRpbmdzKCksIHRoaXMuZWwucmVtb3ZlKCksIHRoaXMuaXNEZXN0cm95ZWQgPSAhMDtcbiAgfVxuICBzY2hlZHVsZVNob3dBbmltYXRpb24oKSB7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICBjb25zdCBlID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKHQpID0+IHtcbiAgICAgICAgY29uc3QgW29dID0gdDtcbiAgICAgICAgby50eXBlID09PSBcImNoaWxkTGlzdFwiICYmIG8uYWRkZWROb2Rlc1swXSA9PT0gdGhpcy5lbCAmJiAoYmUodGhpcy5vcHRpb25zKSAmJiB0aGlzLmFuaW1hdGVTaG93ICYmIHRoaXMuYW5pbWF0ZVNob3coKSwgZS5kaXNjb25uZWN0KTtcbiAgICAgIH0pO1xuICAgICAgZS5vYnNlcnZlKHRoaXMucGFyZW50LCB7IGNoaWxkTGlzdDogITAgfSk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBjaGlsZEV2ZW50KGUsIHQsIG8sIGkgPSB7fSkge1xuICAgIHJldHVybiB7IHRhcmdldDogZSwgZXZlbnQ6IHQsIGhhbmRsZXI6IG8sIG9wdGlvbnM6IGkgfTtcbiAgfVxuICBzdGF0aWMgdWlFdmVudChlLCB0LCBvID0ge30pIHtcbiAgICByZXR1cm4geyBldmVudDogZSwgaGFuZGxlcjogdCwgb3B0aW9uczogbyB9O1xuICB9XG4gIHN0YXRpYyBieUNsYXNzKGUpIHtcbiAgICByZXR1cm4gYC4ke2V9YDtcbiAgfVxufVxuY29uc3QgcWUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+PCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD1cIk0yNTYgNTEyQzExNC42IDUxMiAwIDM5Ny40IDAgMjU2QzAgMTE0LjYgMTE0LjYgMCAyNTYgMEMzOTcuNCAwIDUxMiAxMTQuNiA1MTIgMjU2QzUxMiAzOTcuNCAzOTcuNCA1MTIgMjU2IDUxMnpNMjMyIDI1NkMyMzIgMjY0IDIzNiAyNzEuNSAyNDIuNyAyNzUuMUwzMzguNyAzMzkuMUMzNDkuNyAzNDcuMyAzNjQuNiAzNDQuMyAzNzEuMSAzMzMuM0MzNzkuMyAzMjIuMyAzNzYuMyAzMDcuNCAzNjUuMyAzMDBMMjgwIDI0My4yVjEyMEMyODAgMTA2LjcgMjY5LjMgOTYgMjU1LjEgOTZDMjQyLjcgOTYgMjMxLjEgMTA2LjcgMjMxLjEgMTIwTDIzMiAyNTZ6XCIvPjwvc3ZnPicsIEdlID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNNjQgNDk2QzY0IDUwNC44IDU2Ljc1IDUxMiA0OCA1MTJoLTMyQzcuMjUgNTEyIDAgNTA0LjggMCA0OTZWMzJjMC0xNy43NSAxNC4yNS0zMiAzMi0zMnMzMiAxNC4yNSAzMiAzMlY0OTZ6TTQ3Ni4zIDBjLTYuMzY1IDAtMTMuMDEgMS4zNS0xOS4zNCA0LjIzM2MtNDUuNjkgMjAuODYtNzkuNTYgMjcuOTQtMTA3LjggMjcuOTRjLTU5Ljk2IDAtOTQuODEtMzEuODYtMTYzLjktMzEuODdDMTYwLjkgLjMwNTUgMTMxLjYgNC44NjcgOTYgMTUuNzV2MzUwLjVjMzItOS45ODQgNTkuODctMTQuMSA4NC44NS0xNC4xYzczLjYzIDAgMTI0LjkgMzEuNzggMTk4LjYgMzEuNzhjMzEuOTEgMCA2OC4wMi01Ljk3MSAxMTEuMS0yMy4wOUM1MDQuMSAzNTUuOSA1MTIgMzQ0LjQgNTEyIDMzMi4xVjMwLjczQzUxMiAxMS4xIDQ5NS4zIDAgNDc2LjMgMHpcIi8+PC9zdmc+JywgV2UgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+PCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD1cIk0wIDI1NkMwIDExNC42IDExNC42IDAgMjU2IDBDMzk3LjQgMCA1MTIgMTE0LjYgNTEyIDI1NkM1MTIgMzk3LjQgMzk3LjQgNTEyIDI1NiA1MTJDMTE0LjYgNTEyIDAgMzk3LjQgMCAyNTZ6TTE3Ni40IDI0MEMxOTQgMjQwIDIwOC40IDIyNS43IDIwOC40IDIwOEMyMDguNCAxOTAuMyAxOTQgMTc2IDE3Ni40IDE3NkMxNTguNyAxNzYgMTQ0LjQgMTkwLjMgMTQ0LjQgMjA4QzE0NC40IDIyNS43IDE1OC43IDI0MCAxNzYuNCAyNDB6TTMzNi40IDE3NkMzMTguNyAxNzYgMzA0LjQgMTkwLjMgMzA0LjQgMjA4QzMwNC40IDIyNS43IDMxOC43IDI0MCAzMzYuNCAyNDBDMzU0IDI0MCAzNjguNCAyMjUuNyAzNjguNCAyMDhDMzY4LjQgMTkwLjMgMzU0IDE3NiAzMzYuNCAxNzZ6TTI1OS45IDM2OS40QzI4OC44IDM2OS40IDMxNi4yIDM3NS4yIDM0MC42IDM4NS41QzM1Mi45IDM5MC43IDM2Ni43IDM4MS4zIDM2MS40IDM2OS4xQzM0NC44IDMzMC45IDMwNS42IDMwMy4xIDI1OS45IDMwMy4xQzIxNC4zIDMwMy4xIDE3NS4xIDMzMC44IDE1OC40IDM2OS4xQzE1My4xIDM4MS4zIDE2Ni4xIDM5MC42IDE3OS4zIDM4NS40QzIwMy43IDM3NS4xIDIzMSAzNjkuNCAyNTkuOSAzNjkuNEwyNTkuOSAzNjkuNHpcIi8+PC9zdmc+JywgX2UgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA2NDAgNTEyXCI+PCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD1cIk00NDggNjRIMTkyQzg1Ljk2IDY0IDAgMTQ5LjEgMCAyNTZzODUuOTYgMTkyIDE5MiAxOTJoMjU2YzEwNiAwIDE5Mi04NS45NiAxOTItMTkyUzU1NCA2NCA0NDggNjR6TTI0Ny4xIDI4MGgtMzJ2MzJjMCAxMy4yLTEwLjc4IDI0LTIzLjk4IDI0Yy0xMy4yIDAtMjQuMDItMTAuOC0yNC4wMi0yNHYtMzJMMTM2IDI3OS4xQzEyMi44IDI3OS4xIDExMS4xIDI2OS4yIDExMS4xIDI1NmMwLTEzLjIgMTAuODUtMjQuMDEgMjQuMDUtMjQuMDFMMTY3LjEgMjMydi0zMmMwLTEzLjIgMTAuODItMjQgMjQuMDItMjRjMTMuMiAwIDIzLjk4IDEwLjggMjMuOTggMjR2MzJoMzJjMTMuMiAwIDI0LjAyIDEwLjggMjQuMDIgMjRDMjcxLjEgMjY5LjIgMjYxLjIgMjgwIDI0Ny4xIDI4MHpNNDMxLjEgMzQ0Yy0yMi4xMiAwLTM5LjEtMTcuODctMzkuMS0zOS4xczE3Ljg3LTQwIDM5LjEtNDBzMzkuMSAxNy44OCAzOS4xIDQwUzQ1NC4xIDM0NCA0MzEuMSAzNDR6TTQ5NS4xIDI0OGMtMjIuMTIgMC0zOS4xLTE3Ljg3LTM5LjEtMzkuMXMxNy44Ny00MCAzOS4xLTQwYzIyLjEyIDAgMzkuMSAxNy44OCAzOS4xIDQwUzUxOC4xIDI0OCA0OTUuMSAyNDh6XCIvPjwvc3ZnPicsIEplID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMzg0IDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNMTEyLjEgNDU0LjNjMCA2LjI5NyAxLjgxNiAxMi40NCA1LjI4NCAxNy42OWwxNy4xNCAyNS42OWM1LjI1IDcuODc1IDE3LjE3IDE0LjI4IDI2LjY0IDE0LjI4aDYxLjY3YzkuNDM4IDAgMjEuMzYtNi40MDEgMjYuNjEtMTQuMjhsMTcuMDgtMjUuNjhjMi45MzgtNC40MzggNS4zNDgtMTIuMzcgNS4zNDgtMTcuN0wyNzIgNDE1LjFoLTE2MEwxMTIuMSA0NTQuM3pNMTkxLjQgLjAxMzJDODkuNDQgLjMyNTcgMTYgODIuOTcgMTYgMTc1LjFjMCA0NC4zOCAxNi40NCA4NC44NCA0My41NiAxMTUuOGMxNi41MyAxOC44NCA0Mi4zNCA1OC4yMyA1Mi4yMiA5MS40NWMuMDMxMyAuMjUgLjA5MzggLjUxNjYgLjEyNSAuNzgyM2gxNjAuMmMuMDMxMy0uMjY1NiAuMDkzOC0uNTE2NiAuMTI1LS43ODIzYzkuODc1LTMzLjIyIDM1LjY5LTcyLjYxIDUyLjIyLTkxLjQ1QzM1MS42IDI2MC44IDM2OCAyMjAuNCAzNjggMTc1LjFDMzY4IDc4LjYxIDI4OC45LS4yODM3IDE5MS40IC4wMTMyek0xOTIgOTYuMDFjLTQ0LjEzIDAtODAgMzUuODktODAgNzkuMUMxMTIgMTg0LjggMTA0LjggMTkyIDk2IDE5MlM4MCAxODQuOCA4MCAxNzZjMC02MS43NiA1MC4yNS0xMTEuMSAxMTItMTExLjFjOC44NDQgMCAxNiA3LjE1OSAxNiAxNlMyMDAuOCA5Ni4wMSAxOTIgOTYuMDF6XCIvPjwvc3ZnPicsIFllID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNjQwIDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNNTEyIDMySDEyMGMtMTMuMjUgMC0yNCAxMC43NS0yNCAyNEw5Ni4wMSAyODhjMCA1MyA0MyA5NiA5NiA5NmgxOTJDNDM3IDM4NCA0ODAgMzQxIDQ4MCAyODhoMzJjNzAuNjMgMCAxMjgtNTcuMzggMTI4LTEyOFM1ODIuNiAzMiA1MTIgMzJ6TTUxMiAyMjRoLTMyVjk2aDMyYzM1LjI1IDAgNjQgMjguNzUgNjQgNjRTNTQ3LjMgMjI0IDUxMiAyMjR6TTU2MCA0MTZoLTU0NEM3LjE2NCA0MTYgMCA0MjMuMiAwIDQzMkMwIDQ1OC41IDIxLjQ5IDQ4MCA0OCA0ODBoNDgwYzI2LjUxIDAgNDgtMjEuNDkgNDgtNDhDNTc2IDQyMy4yIDU2OC44IDQxNiA1NjAgNDE2elwiLz48L3N2Zz4nLCBRZSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDU3NiA1MTJcIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPVwiTTQ4Mi4zIDE5MkM1MTYuNSAxOTIgNTc2IDIyMSA1NzYgMjU2QzU3NiAyOTIgNTE2LjUgMzIwIDQ4Mi4zIDMyMEgzNjUuN0wyNjUuMiA0OTUuOUMyNTkuNSA1MDUuOCAyNDguOSA1MTIgMjM3LjQgNTEySDE4MS4yQzE3MC42IDUxMiAxNjIuOSA1MDEuOCAxNjUuOCA0OTEuNkwyMTQuOSAzMjBIMTEyTDY4LjggMzc3LjZDNjUuNzggMzgxLjYgNjEuMDQgMzg0IDU2IDM4NEgxNC4wM0M2LjI4NCAzODQgMCAzNzcuNyAwIDM2OS4xQzAgMzY4LjcgLjE4MTggMzY3LjQgLjUzOTggMzY2LjFMMzIgMjU2TC41Mzk4IDE0NS45Qy4xODE4IDE0NC42IDAgMTQzLjMgMCAxNDJDMCAxMzQuMyA2LjI4NCAxMjggMTQuMDMgMTI4SDU2QzYxLjA0IDEyOCA2NS43OCAxMzAuNCA2OC44IDEzNC40TDExMiAxOTJIMjE0LjlMMTY1LjggMjAuNEMxNjIuOSAxMC4xNyAxNzAuNiAwIDE4MS4yIDBIMjM3LjRDMjQ4LjkgMCAyNTkuNSA2LjE1MyAyNjUuMiAxNi4xMkwzNjUuNyAxOTJINDgyLjN6XCIvPjwvc3ZnPicsIFhlID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNjQwIDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNOS4zNzUgMjMzLjRDMy4zNzUgMjM5LjQgMCAyNDcuNSAwIDI1NnYxMjhjMCA4LjUgMy4zNzUgMTYuNjIgOS4zNzUgMjIuNjJTMjMuNSA0MTYgMzIgNDE2aDMyVjIyNEgzMkMyMy41IDIyNCAxNS4zOCAyMjcuNCA5LjM3NSAyMzMuNHpNNDY0IDk2SDM1MlYzMmMwLTE3LjYyLTE0LjM4LTMyLTMyLTMyUzI4OCAxNC4zOCAyODggMzJ2NjRIMTc2QzEzMS44IDk2IDk2IDEzMS44IDk2IDE3NlY0NDhjMCAzNS4zOCAyOC42MiA2NCA2NCA2NGgzMjBjMzUuMzggMCA2NC0yOC42MiA2NC02NFYxNzZDNTQ0IDEzMS44IDUwOC4zIDk2IDQ2NCA5NnpNMjU2IDQxNkgxOTJ2LTMyaDY0VjQxNnpNMjI0IDI5NkMyMDEuOSAyOTYgMTg0IDI3OC4xIDE4NCAyNTZTMjAxLjkgMjE2IDIyNCAyMTZTMjY0IDIzMy45IDI2NCAyNTZTMjQ2LjEgMjk2IDIyNCAyOTZ6TTM1MiA0MTZIMjg4di0zMmg2NFY0MTZ6TTQ0OCA0MTZoLTY0di0zMmg2NFY0MTZ6TTQxNiAyOTZjLTIyLjEyIDAtNDAtMTcuODgtNDAtNDBTMzkzLjkgMjE2IDQxNiAyMTZTNDU2IDIzMy45IDQ1NiAyNTZTNDM4LjEgMjk2IDQxNiAyOTZ6TTYzMC42IDIzMy40QzYyNC42IDIyNy40IDYxNi41IDIyNCA2MDggMjI0aC0zMnYxOTJoMzJjOC41IDAgMTYuNjItMy4zNzUgMjIuNjItOS4zNzVTNjQwIDM5Mi41IDY0MCAzODRWMjU2QzY0MCAyNDcuNSA2MzYuNiAyMzkuNCA2MzAuNiAyMzMuNHpcIi8+PC9zdmc+JywgWmUgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+XG4gIDxkZWZzPlxuICAgIDxyYWRpYWxHcmFkaWVudCBncmFkaWVudFVuaXRzPVwidXNlclNwYWNlT25Vc2VcIiBjeT1cIjEwJVwiIGlkPVwiZ3JhZGllbnQtMFwiPlxuICAgICAgPHN0b3Agb2Zmc2V0PVwiMFwiIHN0b3AtY29sb3I9XCJoc2woNTAsIDEwMCUsIDUwJSlcIiAvPlxuICAgICAgPHN0b3Agb2Zmc2V0PVwiMVwiIHN0b3AtY29sb3I9XCJoc2woNTAsIDEwMCUsIDYwJSlcIiAvPlxuICAgIDwvcmFkaWFsR3JhZGllbnQ+XG4gIDwvZGVmcz5cbiAgPCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+XG4gIDxlbGxpcHNlIHN0cm9rZT1cIiMwMDBcIiBmaWxsPVwicmdiYSgwLCAwLCAwLCAwLjYpXCIgY3g9XCIxNzIuNTg2XCIgY3k9XCIyMDcuMDA2XCIgcng9XCIzOS45NzRcIiByeT1cIjM5Ljk3NFwiLz5cbiAgPGVsbGlwc2Ugc3Ryb2tlPVwiIzAwMFwiIGZpbGw9XCJyZ2JhKDAsIDAsIDAsIDAuNilcIiBjeD1cIjMzNC41MjNcIiBjeT1cIjIwNy40ODFcIiByeD1cIjM5Ljk3NFwiIHJ5PVwiMzkuOTc0XCIvPlxuICA8ZWxsaXBzZSBzdHJva2U9XCIjMDAwXCIgZmlsbD1cInJnYmEoMCwgMCwgMCwgMC42KVwiIGN4PVwiMzEzLjMyNVwiIGN5PVwiMzU2LjIwOFwiIHJ4PVwiOTEuNDk3XCIgcnk9XCI1OS44OTNcIi8+XG4gIDxwYXRoIGZpbGw9XCIjNTVhN2ZmXCIgZD1cIk0gMTU5LjQyNyAyNzQuMDYgTCAxMDIuMTU4IDM2My4yODYgTCAxMjQuMzY2IDQxNy4wMTEgTCAxNjAuNDc2IDQyMy4zMzggTCAxOTYuOTM3IDQxNC43MzYgTCAyMTguNTAyIDM3NS4yMTRcIj48L3BhdGg+XG4gIDxwYXRoIGZpbGw9XCJ1cmwoI2dyYWRpZW50LTApXCIgZD1cIk0yNTYgMEMzOTcuNCAwIDUxMiAxMTQuNiA1MTIgMjU2QzUxMiAzOTcuNCAzOTcuNCA1MTIgMjU2IDUxMkMxMTQuNiA1MTIgMCAzOTcuNCAwIDI1NkMwIDExNC42IDExNC42IDAgMjU2IDB6TTI1NiAzNTJDMjkwLjkgMzUyIDMyMy4yIDM2Ny44IDM0OC4zIDM5NC45QzM1NC4zIDQwMS40IDM2NC40IDQwMS43IDM3MC45IDM5NS43QzM3Ny40IDM4OS43IDM3Ny43IDM3OS42IDM3MS43IDM3My4xQzM0MS42IDM0MC41IDMwMSAzMjAgMjU2IDMyMEMyNDcuMiAzMjAgMjQwIDMyNy4yIDI0MCAzMzZDMjQwIDM0NC44IDI0Ny4yIDM1MiAyNTYgMzUySDI1NnpNMjA4IDM2OUMyMDggMzQ5IDE3OS42IDMwOC42IDE2Ni40IDI5MS4zQzE2My4yIDI4Ni45IDE1Ni44IDI4Ni45IDE1My42IDI5MS4zQzE0MC42IDMwOC42IDExMiAzNDkgMTEyIDM2OUMxMTIgMzk1IDEzMy41IDQxNiAxNjAgNDE2QzE4Ni41IDQxNiAyMDggMzk1IDIwOCAzNjlIMjA4ek0zMDMuNiAyMDhDMzAzLjYgMjI1LjcgMzE3LjEgMjQwIDMzNS42IDI0MEMzNTMuMyAyNDAgMzY3LjYgMjI1LjcgMzY3LjYgMjA4QzM2Ny42IDE5MC4zIDM1My4zIDE3NiAzMzUuNiAxNzZDMzE3LjEgMTc2IDMwMy42IDE5MC4zIDMwMy42IDIwOHpNMjA3LjYgMjA4QzIwNy42IDE5MC4zIDE5My4zIDE3NiAxNzUuNiAxNzZDMTU3LjEgMTc2IDE0My42IDE5MC4zIDE0My42IDIwOEMxNDMuNiAyMjUuNyAxNTcuMSAyNDAgMTc1LjYgMjQwQzE5My4zIDI0MCAyMDcuNiAyMjUuNyAyMDcuNiAyMDh6XCIgLz5cbjwvc3ZnPmAsIGV0ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNNTAwLjMgNDQzLjdsLTExOS43LTExOS43YzI3LjIyLTQwLjQxIDQwLjY1LTkwLjkgMzMuNDYtMTQ0LjdDNDAxLjggODcuNzkgMzI2LjggMTMuMzIgMjM1LjIgMS43MjNDOTkuMDEtMTUuNTEtMTUuNTEgOTkuMDEgMS43MjQgMjM1LjJjMTEuNiA5MS42NCA4Ni4wOCAxNjYuNyAxNzcuNiAxNzguOWM1My44IDcuMTg5IDEwNC4zLTYuMjM2IDE0NC43LTMzLjQ2bDExOS43IDExOS43YzE1LjYyIDE1LjYyIDQwLjk1IDE1LjYyIDU2LjU3IDBDNTE1LjkgNDg0LjcgNTE1LjkgNDU5LjMgNTAwLjMgNDQzLjd6TTc5LjEgMjA4YzAtNzAuNTggNTcuNDItMTI4IDEyOC0xMjhzMTI4IDU3LjQyIDEyOCAxMjhjMCA3MC41OC01Ny40MiAxMjgtMTI4IDEyOFM3OS4xIDI3OC42IDc5LjEgMjA4elwiLz48L3N2Zz4nLCB0dCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMS4xIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPVwiTTAgMjU2QzAgMTE0LjYgMTE0LjYgMCAyNTYgMEMzOTcuNCAwIDUxMiAxMTQuNiA1MTIgMjU2QzUxMiAzOTcuNCAzOTcuNCA1MTIgMjU2IDUxMkMxMTQuNiA1MTIgMCAzOTcuNCAwIDI1NnpNMjU2LjMgMzMxLjhDMjA4LjkgMzMxLjggMTY0LjEgMzI0LjkgMTI0LjUgMzEyLjhDMTEyLjIgMzA5IDEwMC4yIDMxOS43IDEwNS4yIDMzMS41QzEzMC4xIDM5MC42IDE4OC40IDQzMiAyNTYuMyA0MzJDMzI0LjIgNDMyIDM4Mi40IDM5MC42IDQwNy40IDMzMS41QzQxMi40IDMxOS43IDQwMC40IDMwOSAzODguMSAzMTIuOEMzNDguNCAzMjQuOSAzMDMuNyAzMzEuOCAyNTYuMyAzMzEuOEgyNTYuM3pNMTc2LjQgMTc2QzE1OC43IDE3NiAxNDQuNCAxOTAuMyAxNDQuNCAyMDhDMTQ0LjQgMjI1LjcgMTU4LjcgMjQwIDE3Ni40IDI0MEMxOTQgMjQwIDIwOC40IDIyNS43IDIwOC40IDIwOEMyMDguNCAxOTAuMyAxOTQgMTc2IDE3Ni40IDE3NnpNMzM2LjQgMjQwQzM1NCAyNDAgMzY4LjQgMjI1LjcgMzY4LjQgMjA4QzM2OC40IDE5MC4zIDM1NCAxNzYgMzM2LjQgMTc2QzMxOC43IDE3NiAzMDQuNCAxOTAuMyAzMDQuNCAyMDhDMzA0LjQgMjI1LjcgMzE4LjcgMjQwIDMzNi40IDI0MHpcIi8+PC9zdmc+Jywgc3QgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCI+PCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD1cIk01MDAuMyA3LjI1MUM1MDcuNyAxMy4zMyA1MTIgMjIuNDEgNTEyIDMxLjFWMTc1LjFDNTEyIDIwMi41IDQ4My4zIDIyMy4xIDQ0Ny4xIDIyMy4xQzQxMi43IDIyMy4xIDM4My4xIDIwMi41IDM4My4xIDE3NS4xQzM4My4xIDE0OS41IDQxMi43IDEyNy4xIDQ0Ny4xIDEyNy4xVjcxLjAzTDM1MS4xIDkwLjIzVjIwNy4xQzM1MS4xIDIzNC41IDMyMy4zIDI1NS4xIDI4Ny4xIDI1NS4xQzI1Mi43IDI1NS4xIDIyMy4xIDIzNC41IDIyMy4xIDIwNy4xQzIyMy4xIDE4MS41IDI1Mi43IDE1OS4xIDI4Ny4xIDE1OS4xVjYzLjFDMjg3LjEgNDguNzQgMjk4LjggMzUuNjEgMzEzLjcgMzIuNjJMNDczLjcgLjYxOThDNDgzLjEtMS4yNjEgNDkyLjkgMS4xNzMgNTAwLjMgNy4yNTFINTAwLjN6TTc0LjY2IDMwMy4xTDg2LjUgMjg2LjJDOTIuNDMgMjc3LjMgMTAyLjQgMjcxLjEgMTEzLjEgMjcxLjFIMTc0LjlDMTg1LjYgMjcxLjEgMTk1LjYgMjc3LjMgMjAxLjUgMjg2LjJMMjEzLjMgMzAzLjFIMjM5LjFDMjY2LjUgMzAzLjEgMjg3LjEgMzI1LjUgMjg3LjEgMzUxLjFWNDYzLjFDMjg3LjEgNDkwLjUgMjY2LjUgNTExLjEgMjM5LjEgNTExLjFINDcuMUMyMS40OSA1MTEuMS0uMDAxOSA0OTAuNS0uMDAxOSA0NjMuMVYzNTEuMUMtLjAwMTkgMzI1LjUgMjEuNDkgMzAzLjEgNDcuMSAzMDMuMUg3NC42NnpNMTQzLjEgMzU5LjFDMTE3LjUgMzU5LjEgOTUuMSAzODEuNSA5NS4xIDQwNy4xQzk1LjEgNDM0LjUgMTE3LjUgNDU1LjEgMTQzLjEgNDU1LjFDMTcwLjUgNDU1LjEgMTkxLjEgNDM0LjUgMTkxLjEgNDA3LjFDMTkxLjEgMzgxLjUgMTcwLjUgMzU5LjEgMTQzLjEgMzU5LjF6TTQ0MC4zIDM2Ny4xSDQ5NkM1MDIuNyAzNjcuMSA1MDguNiAzNzIuMSA1MTAuMSAzNzguNEM1MTMuMyAzODQuNiA1MTEuNiAzOTEuNyA1MDYuNSAzOTZMMzc4LjUgNTA4QzM3Mi45IDUxMi4xIDM2NC42IDUxMy4zIDM1OC42IDUwOC45QzM1Mi42IDUwNC42IDM1MC4zIDQ5Ni42IDM1My4zIDQ4OS43TDM5MS43IDM5OS4xSDMzNkMzMjkuMyAzOTkuMSAzMjMuNCAzOTUuOSAzMjEgMzg5LjZDMzE4LjcgMzgzLjQgMzIwLjQgMzc2LjMgMzI1LjUgMzcxLjFMNDUzLjUgMjU5LjFDNDU5LjEgMjU1IDQ2Ny40IDI1NC43IDQ3My40IDI1OS4xQzQ3OS40IDI2My40IDQ4MS42IDI3MS40IDQ3OC43IDI3OC4zTDQ0MC4zIDM2Ny4xek0xMTYuNyAyMTkuMUwxOS44NSAxMTkuMkMtOC4xMTIgOTAuMjYtNi42MTQgNDIuMzEgMjQuODUgMTUuMzRDNTEuODItOC4xMzcgOTMuMjYtMy42NDIgMTE4LjIgMjEuODNMMTI4LjIgMzIuMzJMMTM3LjcgMjEuODNDMTYyLjctMy42NDIgMjAzLjYtOC4xMzcgMjMxLjYgMTUuMzRDMjYyLjYgNDIuMzEgMjY0LjEgOTAuMjYgMjM2LjEgMTE5LjJMMTM5LjcgMjE5LjFDMTMzLjIgMjI1LjYgMTIyLjcgMjI1LjYgMTE2LjcgMjE5LjFIMTE2Ljd6XCIvPjwvc3ZnPicsIG90ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNDQ4IDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNNDEzLjggNDQ3LjFMMjU2IDQ0OGwwIDMxLjk5QzI1NiA0OTcuNyAyNDEuOCA1MTIgMjI0LjEgNTEyYy0xNy42NyAwLTMyLjEtMTQuMzItMzIuMS0zMS45OWwwLTMxLjk5bC0xNTguOS0uMDA5OWMtMjguNSAwLTQzLjY5LTM0LjQ5LTI0LjY5LTU2LjRsNjguOTgtNzkuNTlINjIuMjJjLTI1LjQxIDAtMzkuMTUtMjkuOC0yMi42Ny00OS4xM2w2MC40MS03MC44NUg4OS4yMWMtMjEuMjggMC0zMi44Ny0yMi41LTE5LjI4LTM3LjMxbDEzNC44LTE0Ni41YzEwLjQtMTEuMyAyOC4yMi0xMS4zIDM4LjYyLS4wMDMzbDEzNC45IDE0Ni41YzEzLjYyIDE0LjgxIDIuMDAxIDM3LjMxLTE5LjI4IDM3LjMxaC0xMC43N2w2MC4zNSA3MC44NmMxNi40NiAxOS4zNCAyLjcxNiA0OS4xMi0yMi42OCA0OS4xMmgtMTUuMmw2OC45OCA3OS41OUM0NTguNyA0MTMuNyA0NDMuMSA0NDcuMSA0MTMuOCA0NDcuMXpcIi8+PC9zdmc+JywgaXQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA2NDAgNTEyXCI+PCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD1cIk0yMjQgMjU2YzcwLjcgMCAxMjgtNTcuMzEgMTI4LTEyOFMyOTQuNyAwIDIyNCAwQzE1My4zIDAgOTYgNTcuMzEgOTYgMTI4UzE1My4zIDI1NiAyMjQgMjU2ek0yNzQuNyAzMDRIMTczLjNjLTk1LjczIDAtMTczLjMgNzcuNi0xNzMuMyAxNzMuM0MwIDQ5Ni41IDE1LjUyIDUxMiAzNC42NiA1MTJINDEzLjNDNDMyLjUgNTEyIDQ0OCA0OTYuNSA0NDggNDc3LjNDNDQ4IDM4MS42IDM3MC40IDMwNCAyNzQuNyAzMDR6TTQ3OS4xIDMyMGgtNzMuODVDNDUxLjIgMzU3LjcgNDgwIDQxNC4xIDQ4MCA0NzcuM0M0ODAgNDkwLjEgNDc2LjIgNTAxLjkgNDcwIDUxMmgxMzhDNjI1LjcgNTEyIDY0MCA0OTcuNiA2NDAgNDc5LjFDNjQwIDM5MS42IDU2OC40IDMyMCA0NzkuMSAzMjB6TTQzMiAyNTZDNDkzLjkgMjU2IDU0NCAyMDUuOSA1NDQgMTQ0UzQ5My45IDMyIDQzMiAzMmMtMjUuMTEgMC00OC4wNCA4LjU1NS02Ni43MiAyMi41MUMzNzYuOCA3Ni42MyAzODQgMTAxLjQgMzg0IDEyOGMwIDM1LjUyLTExLjkzIDY4LjE0LTMxLjU5IDk0LjcxQzM3Mi43IDI0My4yIDQwMC44IDI1NiA0MzIgMjU2elwiLz48L3N2Zz4nLCBydCA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIj5cbiAgPGRlZnM+XG4gICAgPHJhZGlhbEdyYWRpZW50IGlkPVwicmFkaWFsXCIgY3k9XCI4NSVcIj5cbiAgICAgIDxzdG9wIG9mZnNldD1cIjIwJVwiIHN0b3AtY29sb3I9XCJ2YXIoLS1jb2xvci1zZWNvbmRhcnkpXCIgLz5cbiAgICAgIDxzdG9wIG9mZnNldD1cIjEwMCVcIiBzdG9wLWNvbG9yPVwidmFyKC0tY29sb3ItcHJpbWFyeSlcIiAvPlxuICAgIDwvcmFkaWFsR3JhZGllbnQ+XG4gIDwvZGVmcz5cbiAgPCEtLSEgRm9udCBBd2Vzb21lIFBybyA2LjEuMSBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZSAoQ29tbWVyY2lhbCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMiBGb250aWNvbnMsIEluYy4gLS0+XG4gIDxwYXRoIGZpbGw9XCJ1cmwoJyNyYWRpYWwnKVwiIGQ9XCJNNTA2LjMgNDE3bC0yMTMuMy0zNjRjLTE2LjMzLTI4LTU3LjU0LTI4LTczLjk4IDBsLTIxMy4yIDM2NEMtMTAuNTkgNDQ0LjkgOS44NDkgNDgwIDQyLjc0IDQ4MGg0MjYuNkM1MDIuMSA0ODAgNTIyLjYgNDQ1IDUwNi4zIDQxN3pNMjMyIDE2OGMwLTEzLjI1IDEwLjc1LTI0IDI0LTI0UzI4MCAxNTQuOCAyODAgMTY4djEyOGMwIDEzLjI1LTEwLjc1IDI0LTIzLjEgMjRTMjMyIDMwOS4zIDIzMiAyOTZWMTY4ek0yNTYgNDE2Yy0xNy4zNiAwLTMxLjQ0LTE0LjA4LTMxLjQ0LTMxLjQ0YzAtMTcuMzYgMTQuMDctMzEuNDQgMzEuNDQtMzEuNDRzMzEuNDQgMTQuMDggMzEuNDQgMzEuNDRDMjg3LjQgNDAxLjkgMjczLjQgNDE2IDI1NiA0MTZ6XCIgLz5cbjwvc3ZnPmAsIGF0ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMzIwIDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4xLjEgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjIgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNMzEwLjYgMzYxLjRjMTIuNSAxMi41IDEyLjUgMzIuNzUgMCA0NS4yNUMzMDQuNCA0MTIuOSAyOTYuMiA0MTYgMjg4IDQxNnMtMTYuMzgtMy4xMjUtMjIuNjItOS4zNzVMMTYwIDMwMS4zTDU0LjYzIDQwNi42QzQ4LjM4IDQxMi45IDQwLjE5IDQxNiAzMiA0MTZTMTUuNjMgNDEyLjkgOS4zNzUgNDA2LjZjLTEyLjUtMTIuNS0xMi41LTMyLjc1IDAtNDUuMjVsMTA1LjQtMTA1LjRMOS4zNzUgMTUwLjZjLTEyLjUtMTIuNS0xMi41LTMyLjc1IDAtNDUuMjVzMzIuNzUtMTIuNSA0NS4yNSAwTDE2MCAyMTAuOGwxMDUuNC0xMDUuNGMxMi41LTEyLjUgMzIuNzUtMTIuNSA0NS4yNSAwczEyLjUgMzIuNzUgMCA0NS4yNWwtMTA1LjQgMTA1LjRMMzEwLjYgMzYxLjR6XCIvPjwvc3ZnPic7XG5mdW5jdGlvbiBudChzLCBlKSB7XG4gIGNvbnN0IHQgPSBKKGUpO1xuICByZXR1cm4gdC5kYXRhc2V0Lmljb24gPSBzLCB0LmNsYXNzTGlzdC5hZGQoaWUoXCJpY29uXCIpKSwgdDtcbn1cbmNvbnN0IG1lID0ge1xuICBjbG9jazogcWUsXG4gIGZsYWc6IEdlLFxuICBmcm93bjogV2UsXG4gIGdhbWVwYWQ6IF9lLFxuICBsaWdodGJ1bGI6IEplLFxuICBtdWc6IFllLFxuICBwbGFuZTogUWUsXG4gIHJvYm90OiBYZSxcbiAgc2FkOiBaZSxcbiAgc2VhcmNoOiBldCxcbiAgc21pbGV5OiB0dCxcbiAgc3ltYm9sczogc3QsXG4gIHRyZWU6IG90LFxuICB1c2VyczogaXQsXG4gIHdhcm5pbmc6IHJ0LFxuICB4bWFyazogYXRcbn0sIEQgPSB7XG4gIHJlY2VudHM6IFwiY2xvY2tcIixcbiAgXCJzbWlsZXlzLWVtb3Rpb25cIjogXCJzbWlsZXlcIixcbiAgXCJwZW9wbGUtYm9keVwiOiBcInVzZXJzXCIsXG4gIFwiYW5pbWFscy1uYXR1cmVcIjogXCJ0cmVlXCIsXG4gIFwiZm9vZC1kcmlua1wiOiBcIm11Z1wiLFxuICBhY3Rpdml0aWVzOiBcImdhbWVwYWRcIixcbiAgXCJ0cmF2ZWwtcGxhY2VzXCI6IFwicGxhbmVcIixcbiAgb2JqZWN0czogXCJsaWdodGJ1bGJcIixcbiAgc3ltYm9sczogXCJzeW1ib2xzXCIsXG4gIGZsYWdzOiBcImZsYWdcIixcbiAgY3VzdG9tOiBcInJvYm90XCJcbn07XG5mdW5jdGlvbiBqZShzLCBlKSB7XG4gIGlmICghKHMgaW4gbWUpKVxuICAgIHJldHVybiBjb25zb2xlLndhcm4oYFVua25vd24gaWNvbjogXCIke3N9XCJgKSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3QgdCA9IG50KHMsIG1lW3NdKTtcbiAgcmV0dXJuIGUgJiYgdC5jbGFzc0xpc3QuYWRkKGllKGBpY29uLSR7ZX1gKSksIHQ7XG59XG5jb25zdCBjdCA9IHtcbiAgbW9kZTogXCJzeW5jXCJcbn07XG52YXIgdywgRSwgUywgWSwgUCwgUSwgeiwgWDtcbmNsYXNzIHUge1xuICBjb25zdHJ1Y3RvcihlLCB0ID0ge30pIHtcbiAgICBmKHRoaXMsIFMpO1xuICAgIGYodGhpcywgUCk7XG4gICAgZih0aGlzLCB6KTtcbiAgICBmKHRoaXMsIHcsIHZvaWQgMCk7XG4gICAgZih0aGlzLCBFLCB2b2lkIDApO1xuICAgIEEodGhpcywgdywgZSksIEEodGhpcywgRSwgdC5tb2RlIHx8IGN0Lm1vZGUpO1xuICB9XG4gIHJlbmRlclN5bmMoZSA9IHt9KSB7XG4gICAgY29uc3QgdCA9IEooeSh0aGlzLCB3KS5jYWxsKHRoaXMsIGUpKTtcbiAgICByZXR1cm4gcCh0aGlzLCB6LCBYKS5jYWxsKHRoaXMsIHQsIGUpLCBwKHRoaXMsIFAsIFEpLmNhbGwodGhpcywgdCksIHAodGhpcywgUywgWSkuY2FsbCh0aGlzLCB0LCBlKSwgdDtcbiAgfVxuICBhc3luYyByZW5kZXJBc3luYyhlID0ge30pIHtcbiAgICBjb25zdCB0ID0gSih5KHRoaXMsIHcpLmNhbGwodGhpcywgZSkpO1xuICAgIHJldHVybiBwKHRoaXMsIHosIFgpLmNhbGwodGhpcywgdCwgZSksIHAodGhpcywgUCwgUSkuY2FsbCh0aGlzLCB0KSwgYXdhaXQgcCh0aGlzLCBTLCBZKS5jYWxsKHRoaXMsIHQsIGUpLCB0O1xuICB9XG4gIHJlbmRlcihlKSB7XG4gICAgcmV0dXJuIHkodGhpcywgRSkgPT09IFwic3luY1wiID8gdGhpcy5yZW5kZXJTeW5jKGUpIDogdGhpcy5yZW5kZXJBc3luYyhlKTtcbiAgfVxufVxudyA9IG5ldyBXZWFrTWFwKCksIEUgPSBuZXcgV2Vha01hcCgpLCBTID0gbmV3IFdlYWtTZXQoKSwgWSA9IGFzeW5jIGZ1bmN0aW9uKGUsIHQpIHtcbiAgY29uc3QgbyA9IGUucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXZpZXddXCIpLCBpID0gW107XG4gIGZvciAoY29uc3QgciBvZiBvKSB7XG4gICAgY29uc3QgYSA9IHRbci5kYXRhc2V0LnZpZXddO1xuICAgIGEgPyByLmRhdGFzZXQucmVuZGVyICE9PSBcInN5bmNcIiA/IGkucHVzaChhLnJlbmRlcigpLnRoZW4oKG4pID0+IChyLnJlcGxhY2VXaXRoKG4pLCBuKSkpIDogci5yZXBsYWNlV2l0aChhLnJlbmRlclN5bmMoKSkgOiByLnJlbW92ZSgpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLmFsbChpKTtcbn0sIFAgPSBuZXcgV2Vha1NldCgpLCBRID0gZnVuY3Rpb24oZSkge1xuICBlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpW2RhdGEtaWNvbl1cIikuZm9yRWFjaCgobykgPT4ge1xuICAgIGNvbnN0IHsgaWNvbjogaSwgc2l6ZTogciB9ID0gby5kYXRhc2V0O1xuICAgIG8ucmVwbGFjZVdpdGgoamUoaSwgcikpO1xuICB9KTtcbn0sIHogPSBuZXcgV2Vha1NldCgpLCBYID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gZS5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcGxhY2Vob2xkZXJdXCIpLmZvckVhY2goKGkpID0+IHtcbiAgICBjb25zdCByID0gaS5kYXRhc2V0LnBsYWNlaG9sZGVyO1xuICAgIGlmIChyICYmIHRbcl0pIHtcbiAgICAgIGNvbnN0IGEgPSB0W3JdO1xuICAgICAgaS5yZXBsYWNlV2l0aCguLi5bYV0uZmxhdCgpKTtcbiAgICB9IGVsc2VcbiAgICAgIGNvbnNvbGUud2FybihgTWlzc2luZyBwbGFjZWhvbGRlciBlbGVtZW50IGZvciBrZXkgXCIke3J9XCJgKTtcbiAgfSksIGU7XG59O1xuY29uc3QgbHQgPSBnKFxuICBcImltYWdlUGxhY2Vob2xkZXJcIixcbiAgXCJwbGFjZWhvbGRlclwiXG4pLCBodCA9IG5ldyB1KCh7IGNsYXNzZXM6IHMgfSkgPT4gYFxuICA8ZGl2IGNsYXNzPVwiJHtzLnBsYWNlaG9sZGVyfSAke3MuaW1hZ2VQbGFjZWhvbGRlcn1cIj48L2Rpdj5cbmApO1xuY2xhc3MgZHQgZXh0ZW5kcyBjIHtcbiAgY29uc3RydWN0b3IoeyBjbGFzc05hbWVzOiBlIH0gPSB7fSkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGU6IGh0LCBjbGFzc2VzOiBsdCB9KSwgdGhpcy5jbGFzc05hbWVzID0gZTtcbiAgfVxuICBsb2FkKGUpIHtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICB0aGlzLmNsYXNzTmFtZXMgJiYgKHQuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWVzKSwgdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmVsLnJlcGxhY2VXaXRoKHQpO1xuICAgIH0sIHsgb25jZTogITAgfSksIFByb21pc2UucmVzb2x2ZShlKS50aGVuKChvKSA9PiB0LnNyYyA9IG8pO1xuICB9XG4gIHJlbmRlclN5bmMoKSB7XG4gICAgcmV0dXJuIHN1cGVyLnJlbmRlclN5bmMoKSwgdGhpcy5jbGFzc05hbWVzICYmIHRoaXMuY2xhc3NOYW1lcy5zcGxpdChcIiBcIikuZm9yRWFjaCgodCkgPT4gdGhpcy5lbC5jbGFzc0xpc3QuYWRkKHQpKSwgdGhpcy5lbDtcbiAgfVxufVxuY29uc3QgbXQgPSBnKFwiY3VzdG9tRW1vamlcIik7XG5jbGFzcyB1dCB7XG4gIHJlbmRlckVsZW1lbnQoZSkge1xuICAgIHJldHVybiB7IGNvbnRlbnQ6IGUgfTtcbiAgfVxuICByZW5kZXJJbWFnZShlID0gXCJcIiwgdCkge1xuICAgIGNvbnN0IG8gPSBuZXcgZHQoeyBjbGFzc05hbWVzOiBlIH0pO1xuICAgIHJldHVybiBvLnJlbmRlclN5bmMoKSwgeyBjb250ZW50OiBvLCByZXNvbHZlcjogKCkgPT4gKG8ubG9hZCh0KCkpLCBvLmVsKSB9O1xuICB9XG4gIGRvUmVuZGVyKGUsIHQsIG8pIHtcbiAgICBpZiAoZS5jdXN0b20pXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJDdXN0b20oZSwgdCwgbyk7XG4gICAgY29uc3QgeyBjb250ZW50OiBpLCByZXNvbHZlcjogciB9ID0gdGhpcy5yZW5kZXIoZSwgbyksIGEgPSBpIGluc3RhbmNlb2YgRWxlbWVudCA/IGkgOiBpLmVsO1xuICAgIHJldHVybiByICYmIHIoKSwgYTtcbiAgfVxuICBkb0VtaXQoZSkge1xuICAgIHJldHVybiBlLmN1c3RvbSA/IHRoaXMuZW1pdEN1c3RvbShlKSA6IHRoaXMuZW1pdChlKTtcbiAgfVxuICBlbWl0Q3VzdG9tKHsgdXJsOiBlLCBsYWJlbDogdCwgZW1vamk6IG8sIGRhdGE6IGkgfSkge1xuICAgIHJldHVybiB7IHVybDogZSwgbGFiZWw6IHQsIGVtb2ppOiBvLCBkYXRhOiBpIH07XG4gIH1cbiAgcmVuZGVyQ3VzdG9tKGUsIHQsIG8gPSBcIlwiKSB7XG4gICAgY29uc3QgaSA9IFttdC5jdXN0b21FbW9qaSwgb10uam9pbihcIiBcIikudHJpbSgpLCB7IGNvbnRlbnQ6IHIsIHJlc29sdmVyOiBhIH0gPSB0aGlzLnJlbmRlckltYWdlKGksICgpID0+IGUudXJsKSwgbiA9IHIgaW5zdGFuY2VvZiBFbGVtZW50ID8gciA6IHIuZWw7XG4gICAgcmV0dXJuIGEgJiYgYSgpLCBuO1xuICB9XG59XG5jb25zdCBndCA9IG5ldyB1KCh7IGVtb2ppOiBzIH0pID0+IGA8c3Bhbj4ke3N9PC9zcGFuPmApO1xuY2xhc3MgcHQgZXh0ZW5kcyB1dCB7XG4gIHJlbmRlcihlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyRWxlbWVudChndC5yZW5kZXJTeW5jKHsgZW1vamk6IGUuZW1vamkgfSkpO1xuICB9XG4gIGVtaXQoeyBlbW9qaTogZSwgaGV4Y29kZTogdCwgbGFiZWw6IG8gfSkge1xuICAgIHJldHVybiB7IGVtb2ppOiBlLCBoZXhjb2RlOiB0LCBsYWJlbDogbyB9O1xuICB9XG59XG5jb25zdCB5dCA9IHtcbiAgXCJjYXRlZ29yaWVzLmFjdGl2aXRpZXNcIjogXCJBY3Rpdml0aWVzXCIsXG4gIFwiY2F0ZWdvcmllcy5hbmltYWxzLW5hdHVyZVwiOiBcIkFuaW1hbHMgJiBOYXR1cmVcIixcbiAgXCJjYXRlZ29yaWVzLmN1c3RvbVwiOiBcIkN1c3RvbVwiLFxuICBcImNhdGVnb3JpZXMuZmxhZ3NcIjogXCJGbGFnc1wiLFxuICBcImNhdGVnb3JpZXMuZm9vZC1kcmlua1wiOiBcIkZvb2QgJiBEcmlua1wiLFxuICBcImNhdGVnb3JpZXMub2JqZWN0c1wiOiBcIk9iamVjdHNcIixcbiAgXCJjYXRlZ29yaWVzLnBlb3BsZS1ib2R5XCI6IFwiUGVvcGxlICYgQm9keVwiLFxuICBcImNhdGVnb3JpZXMucmVjZW50c1wiOiBcIlJlY2VudGx5IFVzZWRcIixcbiAgXCJjYXRlZ29yaWVzLnNtaWxleXMtZW1vdGlvblwiOiBcIlNtaWxleXMgJiBFbW90aW9uXCIsXG4gIFwiY2F0ZWdvcmllcy5zeW1ib2xzXCI6IFwiU3ltYm9sc1wiLFxuICBcImNhdGVnb3JpZXMudHJhdmVsLXBsYWNlc1wiOiBcIlRyYXZlbCAmIFBsYWNlc1wiLFxuICBcImVycm9yLmxvYWRcIjogXCJGYWlsZWQgdG8gbG9hZCBlbW9qaXNcIixcbiAgXCJyZWNlbnRzLmNsZWFyXCI6IFwiQ2xlYXIgcmVjZW50IGVtb2ppc1wiLFxuICBcInJlY2VudHMubm9uZVwiOiBcIllvdSBoYXZlbid0IHNlbGVjdGVkIGFueSBlbW9qaXMgeWV0LlwiLFxuICByZXRyeTogXCJUcnkgYWdhaW5cIixcbiAgXCJzZWFyY2guY2xlYXJcIjogXCJDbGVhciBzZWFyY2hcIixcbiAgXCJzZWFyY2guZXJyb3JcIjogXCJGYWlsZWQgdG8gc2VhcmNoIGVtb2ppc1wiLFxuICBcInNlYXJjaC5ub3RGb3VuZFwiOiBcIk5vIHJlc3VsdHMgZm91bmRcIixcbiAgc2VhcmNoOiBcIlNlYXJjaCBlbW9qaXMuLi5cIlxufSwgZnQgPSBbXG4gIChzLCBlKSA9PiAocy5oZXhjb2RlID09PSBcIjFGOTFEXCIgJiYgZSA8IDE0ICYmIChzLnNraW5zID0gW10pLCBzKSxcbiAgKHMsIGUpID0+IChzLnNraW5zICYmIChzLnNraW5zID0gcy5za2lucy5maWx0ZXIoKHQpID0+ICF0LnZlcnNpb24gfHwgdC52ZXJzaW9uIDw9IGUpKSwgcylcbl07XG5mdW5jdGlvbiB2dChzLCBlKSB7XG4gIHJldHVybiBmdC5zb21lKCh0KSA9PiB0KHMsIGUpID09PSBudWxsKSA/IG51bGwgOiBzO1xufVxuZnVuY3Rpb24gQihzLCBlKSB7XG4gIHJldHVybiBzLmZpbHRlcigodCkgPT4gdnQodCwgZSkgIT09IG51bGwpO1xufVxuZnVuY3Rpb24geChzKSB7XG4gIHZhciBlO1xuICByZXR1cm4ge1xuICAgIGVtb2ppOiBzLmVtb2ppLFxuICAgIGxhYmVsOiBzLmxhYmVsLFxuICAgIHRhZ3M6IHMudGFncyxcbiAgICBza2luczogKGUgPSBzLnNraW5zKSA9PSBudWxsID8gdm9pZCAwIDogZS5tYXAoKHQpID0+IHgodCkpLFxuICAgIG9yZGVyOiBzLm9yZGVyLFxuICAgIGN1c3RvbTogITEsXG4gICAgaGV4Y29kZTogcy5oZXhjb2RlLFxuICAgIHZlcnNpb246IHMudmVyc2lvblxuICB9O1xufVxuZnVuY3Rpb24gTShzLCBlLCB0KSB7XG4gIHZhciBvO1xuICByZXR1cm4gdCAmJiAhdC5zb21lKChpKSA9PiBpLm9yZGVyID09PSBzLmdyb3VwKSA/ICExIDogaGUocy5sYWJlbCwgZSkgfHwgKChvID0gcy50YWdzKSA9PSBudWxsID8gdm9pZCAwIDogby5zb21lKChpKSA9PiBoZShpLCBlKSkpO1xufVxuY2xhc3Mga2Uge1xuICBjb25zdHJ1Y3RvcihlID0gXCJlblwiKSB7XG4gICAgdGhpcy5sb2NhbGUgPSBlO1xuICB9XG59XG5jb25zdCBaID0gXCJQaWNNb1wiO1xuZnVuY3Rpb24geGUocykge1xuICByZXR1cm4gbmV3IHd0KHMpO1xufVxueGUuZGVsZXRlRGF0YWJhc2UgPSAocykgPT4gbmV3IFByb21pc2UoKGUsIHQpID0+IHtcbiAgY29uc3QgbyA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShgJHtafS0ke3N9YCk7XG4gIG8uYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgZSksIG8uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHQpO1xufSk7XG5jbGFzcyB3dCBleHRlbmRzIGtlIHtcbiAgYXN5bmMgb3BlbigpIHtcbiAgICBjb25zdCBlID0gaW5kZXhlZERCLm9wZW4oYCR7Wn0tJHt0aGlzLmxvY2FsZX1gKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHQsIG8pID0+IHtcbiAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKGkpID0+IHtcbiAgICAgICAgdmFyIHI7XG4gICAgICAgIHRoaXMuZGIgPSAociA9IGkudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogci5yZXN1bHQsIHQoKTtcbiAgICAgIH0pLCBlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvKSwgZS5hZGRFdmVudExpc3RlbmVyKFwidXBncmFkZW5lZWRlZFwiLCBhc3luYyAoaSkgPT4ge1xuICAgICAgICB2YXIgYTtcbiAgICAgICAgdGhpcy5kYiA9IChhID0gaS50YXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBhLnJlc3VsdCwgdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZShcImNhdGVnb3J5XCIsIHsga2V5UGF0aDogXCJvcmRlclwiIH0pO1xuICAgICAgICBjb25zdCByID0gdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZShcImVtb2ppXCIsIHsga2V5UGF0aDogXCJlbW9qaVwiIH0pO1xuICAgICAgICByLmNyZWF0ZUluZGV4KFwiY2F0ZWdvcnlcIiwgXCJncm91cFwiKSwgci5jcmVhdGVJbmRleChcInZlcnNpb25cIiwgXCJ2ZXJzaW9uXCIpLCB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKFwibWV0YVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGRlbGV0ZSgpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgY29uc3QgZSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShgJHtafS0ke3RoaXMubG9jYWxlfWApO1xuICAgIGF3YWl0IHRoaXMud2FpdEZvclJlcXVlc3QoZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5kYi5jbG9zZSgpO1xuICB9XG4gIGFzeW5jIGdldEVtb2ppQ291bnQoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oXCJlbW9qaVwiLCBcInJlYWRvbmx5XCIpLm9iamVjdFN0b3JlKFwiZW1vamlcIik7XG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLndhaXRGb3JSZXF1ZXN0KHQuY291bnQoKSkpLnRhcmdldC5yZXN1bHQ7XG4gIH1cbiAgYXN5bmMgZ2V0RXRhZ3MoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oXCJtZXRhXCIsIFwicmVhZG9ubHlcIikub2JqZWN0U3RvcmUoXCJtZXRhXCIpLCBbbywgaV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLndhaXRGb3JSZXF1ZXN0KHQuZ2V0KFwiZW1vamlzRXRhZ1wiKSksXG4gICAgICB0aGlzLndhaXRGb3JSZXF1ZXN0KHQuZ2V0KFwibWVzc2FnZXNFdGFnXCIpKVxuICAgIF0pO1xuICAgIHJldHVybiB7XG4gICAgICBzdG9yZWRFbW9qaXNFdGFnOiBvLnRhcmdldC5yZXN1bHQsXG4gICAgICBzdG9yZWRNZXNzYWdlc0V0YWc6IGkudGFyZ2V0LnJlc3VsdFxuICAgIH07XG4gIH1cbiAgYXN5bmMgc2V0TWV0YShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oXCJtZXRhXCIsIFwicmVhZHdyaXRlXCIpLCBvID0gdC5vYmplY3RTdG9yZShcIm1ldGFcIik7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChpKSA9PiB7XG4gICAgICB0Lm9uY29tcGxldGUgPSBpLCBPYmplY3Qua2V5cyhlKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgICBvLnB1dChlW2FdLCBhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGdldEhhc2goKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oXCJtZXRhXCIsIFwicmVhZG9ubHlcIikub2JqZWN0U3RvcmUoXCJtZXRhXCIpO1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy53YWl0Rm9yUmVxdWVzdCh0LmdldChcImhhc2hcIikpKS50YXJnZXQucmVzdWx0O1xuICB9XG4gIGFzeW5jIGlzUG9wdWxhdGVkKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFwiY2F0ZWdvcnlcIiwgXCJyZWFkb25seVwiKS5vYmplY3RTdG9yZShcImNhdGVnb3J5XCIpO1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy53YWl0Rm9yUmVxdWVzdCh0LmNvdW50KCkpKS50YXJnZXQucmVzdWx0ID4gMDtcbiAgfVxuICBhc3luYyBwb3B1bGF0ZSh7XG4gICAgZ3JvdXBzOiBlLFxuICAgIGVtb2ppczogdCxcbiAgICBlbW9qaXNFdGFnOiBvLFxuICAgIG1lc3NhZ2VzRXRhZzogaSxcbiAgICBoYXNoOiByXG4gIH0pIHtcbiAgICBhd2FpdCB0aGlzLnJlbW92ZUFsbE9iamVjdHMoXCJjYXRlZ29yeVwiLCBcImVtb2ppXCIpO1xuICAgIGNvbnN0IGEgPSBbXG4gICAgICB0aGlzLmFkZE9iamVjdHMoXCJjYXRlZ29yeVwiLCBlKSxcbiAgICAgIHRoaXMuYWRkT2JqZWN0cyhcImVtb2ppXCIsIHQpLFxuICAgICAgdGhpcy5zZXRNZXRhKHsgZW1vamlzRXRhZzogbywgbWVzc2FnZXNFdGFnOiBpLCBoYXNoOiByIH0pXG4gICAgXTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChhKTtcbiAgfVxuICBhc3luYyBnZXRDYXRlZ29yaWVzKGUpIHtcbiAgICB2YXIgYTtcbiAgICBjb25zdCBvID0gdGhpcy5kYi50cmFuc2FjdGlvbihcImNhdGVnb3J5XCIsIFwicmVhZG9ubHlcIikub2JqZWN0U3RvcmUoXCJjYXRlZ29yeVwiKTtcbiAgICBsZXQgciA9IChhd2FpdCB0aGlzLndhaXRGb3JSZXF1ZXN0KG8uZ2V0QWxsKCkpKS50YXJnZXQucmVzdWx0LmZpbHRlcigobikgPT4gbi5rZXkgIT09IFwiY29tcG9uZW50XCIpO1xuICAgIGlmIChlLnNob3dSZWNlbnRzICYmIHIudW5zaGlmdCh7IGtleTogXCJyZWNlbnRzXCIsIG9yZGVyOiAtMSB9KSwgKGEgPSBlLmN1c3RvbSkgIT0gbnVsbCAmJiBhLmxlbmd0aCAmJiByLnB1c2goeyBrZXk6IFwiY3VzdG9tXCIsIG9yZGVyOiAxMCB9KSwgZS5jYXRlZ29yaWVzKSB7XG4gICAgICBjb25zdCBuID0gZS5jYXRlZ29yaWVzO1xuICAgICAgciA9IHIuZmlsdGVyKChsKSA9PiBuLmluY2x1ZGVzKGwua2V5KSksIHIuc29ydCgobCwgbSkgPT4gbi5pbmRleE9mKGwua2V5KSAtIG4uaW5kZXhPZihtLmtleSkpO1xuICAgIH0gZWxzZVxuICAgICAgci5zb3J0KChuLCBsKSA9PiBuLm9yZGVyIC0gbC5vcmRlcik7XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgYXN5bmMgZ2V0RW1vamlzKGUsIHQpIHtcbiAgICBjb25zdCByID0gdGhpcy5kYi50cmFuc2FjdGlvbihcImVtb2ppXCIsIFwicmVhZG9ubHlcIikub2JqZWN0U3RvcmUoXCJlbW9qaVwiKS5pbmRleChcImNhdGVnb3J5XCIpLCBsID0gKGF3YWl0IHRoaXMud2FpdEZvclJlcXVlc3Qoci5nZXRBbGwoZS5vcmRlcikpKS50YXJnZXQucmVzdWx0LmZpbHRlcigobSkgPT4gbS52ZXJzaW9uIDw9IHQpLnNvcnQoKG0sIGQpID0+IG0ub3JkZXIgIT0gbnVsbCAmJiBkLm9yZGVyICE9IG51bGwgPyBtLm9yZGVyIC0gZC5vcmRlciA6IDApLm1hcCh4KTtcbiAgICByZXR1cm4gQihsLCB0KTtcbiAgfVxuICBhc3luYyBzZWFyY2hFbW9qaXMoZSwgdCwgbywgaSkge1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKGEsIG4pID0+IHtcbiAgICAgIGNvbnN0IGQgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFwiZW1vamlcIiwgXCJyZWFkb25seVwiKS5vYmplY3RTdG9yZShcImVtb2ppXCIpLm9wZW5DdXJzb3IoKTtcbiAgICAgIGQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKGgpID0+IHtcbiAgICAgICAgdmFyIGNlO1xuICAgICAgICBjb25zdCBIID0gKGNlID0gaC50YXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBjZS5yZXN1bHQ7XG4gICAgICAgIGlmICghSClcbiAgICAgICAgICByZXR1cm4gYShbXG4gICAgICAgICAgICAuLi5CKHIsIG8pLFxuICAgICAgICAgICAgLi4udC5maWx0ZXIoKHplKSA9PiBNKHplLCBlKSlcbiAgICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgTiA9IEgudmFsdWU7XG4gICAgICAgIE0oTiwgZSwgaSkgJiYgTi52ZXJzaW9uIDw9IG8gJiYgci5wdXNoKHgoTikpLCBILmNvbnRpbnVlKCk7XG4gICAgICB9KSwgZC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGgpID0+IHtcbiAgICAgICAgbihoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIHdhaXRGb3JSZXF1ZXN0KGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHQsIG8pID0+IHtcbiAgICAgIGUub25zdWNjZXNzID0gdCwgZS5vbmVycm9yID0gbztcbiAgICB9KTtcbiAgfVxuICB3aXRoVHJhbnNhY3Rpb24oZSwgdCA9IFwicmVhZHdyaXRlXCIsIG8pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKGksIHIpID0+IHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKGUsIHQpO1xuICAgICAgYS5vbmNvbXBsZXRlID0gaSwgYS5vbmVycm9yID0gciwgbyhhKTtcbiAgICB9KTtcbiAgfVxuICBhc3luYyByZW1vdmVBbGxPYmplY3RzKC4uLmUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5kYi50cmFuc2FjdGlvbihlLCBcInJlYWR3cml0ZVwiKSwgbyA9IGUubWFwKChpKSA9PiB0Lm9iamVjdFN0b3JlKGkpKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChvLm1hcCgoaSkgPT4gdGhpcy53YWl0Rm9yUmVxdWVzdChpLmNsZWFyKCkpKSk7XG4gIH1cbiAgYXN5bmMgYWRkT2JqZWN0cyhlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMud2l0aFRyYW5zYWN0aW9uKGUsIFwicmVhZHdyaXRlXCIsIChvKSA9PiB7XG4gICAgICBjb25zdCBpID0gby5vYmplY3RTdG9yZShlKTtcbiAgICAgIHQuZm9yRWFjaCgocikgPT4ge1xuICAgICAgICBpLmFkZChyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBidCB7XG59XG5jb25zdCBLID0gXCJQaWNNbzpyZWNlbnRzXCI7XG5jbGFzcyBFZSBleHRlbmRzIGJ0IHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKCksIHRoaXMuc3RvcmFnZSA9IGU7XG4gIH1cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oSyk7XG4gIH1cbiAgZ2V0UmVjZW50cyhlKSB7XG4gICAgdmFyIHQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKCh0ID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oSykpICE9IG51bGwgPyB0IDogXCJbXVwiKS5zbGljZSgwLCBlKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgYWRkT3JVcGRhdGVSZWNlbnQoZSwgdCkge1xuICAgIGNvbnN0IG8gPSBbXG4gICAgICBlLFxuICAgICAgLi4udGhpcy5nZXRSZWNlbnRzKHQpLmZpbHRlcigoaSkgPT4gaS5oZXhjb2RlICE9PSBlLmhleGNvZGUpXG4gICAgXS5zbGljZSgwLCB0KTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oSywgSlNPTi5zdHJpbmdpZnkobykpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgY29uc29sZS53YXJuKFwic3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLCByZWNlbnQgZW1vamlzIHdpbGwgbm90IGJlIHNhdmVkXCIpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgQ3QgZXh0ZW5kcyBFZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKGxvY2FsU3RvcmFnZSk7XG4gIH1cbn1cbmNvbnN0IGp0ID0ge1xuICBkYXRhU3RvcmU6IHhlLFxuICB0aGVtZTogS2UsXG4gIGFuaW1hdGU6ICEwLFxuICBzaG93Q2F0ZWdvcnlUYWJzOiAhMCxcbiAgc2hvd1ByZXZpZXc6ICEwLFxuICBzaG93UmVjZW50czogITAsXG4gIHNob3dTZWFyY2g6ICEwLFxuICBzaG93VmFyaWFudHM6ICEwLFxuICBlbW9qaXNQZXJSb3c6IDgsXG4gIHZpc2libGVSb3dzOiA2LFxuICBlbW9qaVZlcnNpb246IFwiYXV0b1wiLFxuICBpMThuOiB5dCxcbiAgbG9jYWxlOiBcImVuXCIsXG4gIG1heFJlY2VudHM6IDUwLFxuICBjdXN0b206IFtdXG59O1xuZnVuY3Rpb24ga3QocyA9IHt9KSB7XG4gIHJldHVybiB7XG4gICAgLi4uanQsXG4gICAgLi4ucyxcbiAgICByZW5kZXJlcjogcy5yZW5kZXJlciB8fCBuZXcgcHQoKSxcbiAgICByZWNlbnRzUHJvdmlkZXI6IHMucmVjZW50c1Byb3ZpZGVyIHx8IG5ldyBDdCgpXG4gIH07XG59XG52YXIgdiwgYiwgViwgJCwgZWU7XG5jbGFzcyBhZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGYodGhpcywgYik7XG4gICAgZih0aGlzLCAkKTtcbiAgICBmKHRoaXMsIHYsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICB9XG4gIG9uKGUsIHQsIG8pIHtcbiAgICBwKHRoaXMsICQsIGVlKS5jYWxsKHRoaXMsIGUsIHQsIG8pO1xuICB9XG4gIG9uY2UoZSwgdCwgbykge1xuICAgIHAodGhpcywgJCwgZWUpLmNhbGwodGhpcywgZSwgdCwgbywgITApO1xuICB9XG4gIG9mZihlLCB0KSB7XG4gICAgY29uc3QgbyA9IHAodGhpcywgYiwgVikuY2FsbCh0aGlzLCBlKTtcbiAgICB5KHRoaXMsIHYpLnNldChlLCBvLmZpbHRlcigoaSkgPT4gaS5oYW5kbGVyICE9PSB0KSk7XG4gIH1cbiAgZW1pdChlLCAuLi50KSB7XG4gICAgcCh0aGlzLCBiLCBWKS5jYWxsKHRoaXMsIGUpLmZvckVhY2goKGkpID0+IHtcbiAgICAgIGkuaGFuZGxlci5hcHBseShpLmNvbnRleHQsIHQpLCBpLm9uY2UgJiYgdGhpcy5vZmYoZSwgaS5oYW5kbGVyKTtcbiAgICB9KTtcbiAgfVxuICByZW1vdmVBbGwoKSB7XG4gICAgeSh0aGlzLCB2KS5jbGVhcigpO1xuICB9XG59XG52ID0gbmV3IFdlYWtNYXAoKSwgYiA9IG5ldyBXZWFrU2V0KCksIFYgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiB5KHRoaXMsIHYpLmhhcyhlKSB8fCB5KHRoaXMsIHYpLnNldChlLCBbXSksIHkodGhpcywgdikuZ2V0KGUpO1xufSwgJCA9IG5ldyBXZWFrU2V0KCksIGVlID0gZnVuY3Rpb24oZSwgdCwgbywgaSA9ICExKSB7XG4gIHAodGhpcywgYiwgVikuY2FsbCh0aGlzLCBlKS5wdXNoKHsgY29udGV4dDogbywgaGFuZGxlcjogdCwgb25jZTogaSB9KTtcbn07XG5jb25zdCB4dCA9IHtcbiAgaW5qZWN0U3R5bGVzOiAhMFxufTtcbmNsYXNzIEV0IGV4dGVuZHMgYWUge1xufVxuY2xhc3MgU3QgZXh0ZW5kcyBhZSB7XG59XG5jb25zdCB0ZSA9IGcoXG4gIFwiZW1vamlDYXRlZ29yeVwiLFxuICBcImNhdGVnb3J5TmFtZVwiLFxuICBcIm5vUmVjZW50c1wiLFxuICBcInJlY2VudEVtb2ppc1wiXG4pO1xuY2xhc3MgbmUgZXh0ZW5kcyBjIHtcbiAgY29uc3RydWN0b3IoeyB0ZW1wbGF0ZTogZSwgY2F0ZWdvcnk6IHQsIHNob3dWYXJpYW50czogbywgbGF6eUxvYWRlcjogaSB9KSB7XG4gICAgc3VwZXIoeyB0ZW1wbGF0ZTogZSwgY2xhc3NlczogdGUgfSksIHRoaXMuYmFzZVVJRWxlbWVudHMgPSB7XG4gICAgICBjYXRlZ29yeU5hbWU6IGMuYnlDbGFzcyh0ZS5jYXRlZ29yeU5hbWUpXG4gICAgfSwgdGhpcy5jYXRlZ29yeSA9IHQsIHRoaXMuc2hvd1ZhcmlhbnRzID0gbywgdGhpcy5sYXp5TG9hZGVyID0gaTtcbiAgfVxuICBzZXRBY3RpdmUoZSwgdCwgbykge1xuICAgIHRoaXMuZW1vamlDb250YWluZXIuc2V0QWN0aXZlKGUsIHQsIG8pO1xuICB9XG59XG5jb25zdCBQdCA9IG5ldyB1KCh7IGNsYXNzZXM6IHMsIGVtb2ppOiBlIH0pID0+IGBcbiAgPGJ1dHRvblxuICAgIHR5cGU9XCJidXR0b25cIlxuICAgIGNsYXNzPVwiJHtzLmVtb2ppQnV0dG9ufVwiXG4gICAgdGl0bGU9XCIke2UubGFiZWx9XCJcbiAgICBkYXRhLWVtb2ppPVwiJHtlLmVtb2ppfVwiXG4gICAgdGFiaW5kZXg9XCItMVwiPlxuICAgIDxkaXYgZGF0YS1wbGFjZWhvbGRlcj1cImVtb2ppQ29udGVudFwiPjwvZGl2PlxuICA8L2J1dHRvbj5cbmApLCB6dCA9IGcoXCJlbW9qaUJ1dHRvblwiKTtcbmNsYXNzIFNlIGV4dGVuZHMgYyB7XG4gIGNvbnN0cnVjdG9yKHsgZW1vamk6IGUsIGxhenlMb2FkZXI6IHQsIGNhdGVnb3J5OiBvIH0pIHtcbiAgICBzdXBlcih7IHRlbXBsYXRlOiBQdCwgY2xhc3NlczogenQgfSksIHRoaXMuZW1vamkgPSBlLCB0aGlzLmxhenlMb2FkZXIgPSB0LCB0aGlzLmNhdGVnb3J5ID0gbztcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMudWlFdmVudHMgPSBbXG4gICAgICBjLnVpRXZlbnQoXCJmb2N1c1wiLCB0aGlzLmhhbmRsZUZvY3VzKVxuICAgIF0sIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgfVxuICBoYW5kbGVGb2N1cygpIHtcbiAgICB0aGlzLmNhdGVnb3J5ICYmIHRoaXMuZXZlbnRzLmVtaXQoXCJmb2N1czpjaGFuZ2VcIiwgdGhpcy5jYXRlZ29yeSk7XG4gIH1cbiAgYWN0aXZhdGVGb2N1cyhlKSB7XG4gICAgdGhpcy5lbC50YWJJbmRleCA9IDAsIGUgJiYgdGhpcy5lbC5mb2N1cygpO1xuICB9XG4gIGRlYWN0aXZhdGVGb2N1cygpIHtcbiAgICB0aGlzLmVsLnRhYkluZGV4ID0gLTE7XG4gIH1cbiAgcmVuZGVyU3luYygpIHtcbiAgICByZXR1cm4gc3VwZXIucmVuZGVyU3luYyh7XG4gICAgICBlbW9qaTogdGhpcy5lbW9qaSxcbiAgICAgIGVtb2ppQ29udGVudDogdGhpcy5yZW5kZXJlci5kb1JlbmRlcih0aGlzLmVtb2ppLCB0aGlzLmxhenlMb2FkZXIpXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzICR0IHtcbiAgY29uc3RydWN0b3IoZSwgdCwgbyA9IDAsIGkgPSAwLCByID0gITEpIHtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBhZSgpLCB0aGlzLmtleUhhbmRsZXJzID0ge1xuICAgICAgQXJyb3dMZWZ0OiB0aGlzLmZvY3VzUHJldmlvdXMuYmluZCh0aGlzKSxcbiAgICAgIEFycm93UmlnaHQ6IHRoaXMuZm9jdXNOZXh0LmJpbmQodGhpcyksXG4gICAgICBBcnJvd1VwOiB0aGlzLmZvY3VzVXAuYmluZCh0aGlzKSxcbiAgICAgIEFycm93RG93bjogdGhpcy5mb2N1c0Rvd24uYmluZCh0aGlzKVxuICAgIH0sIHRoaXMucm93Q291bnQgPSBNYXRoLmNlaWwodCAvIGUpLCB0aGlzLmNvbHVtbkNvdW50ID0gZSwgdGhpcy5mb2N1c2VkUm93ID0gbywgdGhpcy5mb2N1c2VkQ29sdW1uID0gaSwgdGhpcy5lbW9qaUNvdW50ID0gdCwgdGhpcy53cmFwID0gciwgdGhpcy5oYW5kbGVLZXlEb3duID0gdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVBbGwoKTtcbiAgfVxuICBvbihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub24oZSwgdCk7XG4gIH1cbiAgaGFuZGxlS2V5RG93bihlKSB7XG4gICAgZS5rZXkgaW4gdGhpcy5rZXlIYW5kbGVycyAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmtleUhhbmRsZXJzW2Uua2V5XSgpKTtcbiAgfVxuICBzZXRDZWxsKGUsIHQsIG8gPSAhMCkge1xuICAgIGNvbnN0IGkgPSB0aGlzLmdldEluZGV4KCk7XG4gICAgdGhpcy5mb2N1c2VkUm93ID0gZSwgdCAhPT0gdm9pZCAwICYmICh0aGlzLmZvY3VzZWRDb2x1bW4gPSBNYXRoLm1pbih0aGlzLmNvbHVtbkNvdW50LCB0KSksICh0aGlzLmZvY3VzZWRSb3cgPj0gdGhpcy5yb3dDb3VudCB8fCB0aGlzLmdldEluZGV4KCkgPj0gdGhpcy5lbW9qaUNvdW50KSAmJiAodGhpcy5mb2N1c2VkUm93ID0gdGhpcy5yb3dDb3VudCAtIDEsIHRoaXMuZm9jdXNlZENvbHVtbiA9IHRoaXMuZW1vamlDb3VudCAlIHRoaXMuY29sdW1uQ291bnQgLSAxKSwgdGhpcy5ldmVudHMuZW1pdChcImZvY3VzOmNoYW5nZVwiLCB7IGZyb206IGksIHRvOiB0aGlzLmdldEluZGV4KCksIHBlcmZvcm1Gb2N1czogbyB9KTtcbiAgfVxuICBzZXRGb2N1c2VkSW5kZXgoZSwgdCA9ICEwKSB7XG4gICAgY29uc3QgbyA9IE1hdGguZmxvb3IoZSAvIHRoaXMuY29sdW1uQ291bnQpLCBpID0gZSAlIHRoaXMuY29sdW1uQ291bnQ7XG4gICAgdGhpcy5zZXRDZWxsKG8sIGksIHQpO1xuICB9XG4gIGZvY3VzTmV4dCgpIHtcbiAgICB0aGlzLmZvY3VzZWRDb2x1bW4gPCB0aGlzLmNvbHVtbkNvdW50IC0gMSAmJiB0aGlzLmdldEluZGV4KCkgPCB0aGlzLmVtb2ppQ291bnQgLSAxID8gdGhpcy5zZXRDZWxsKHRoaXMuZm9jdXNlZFJvdywgdGhpcy5mb2N1c2VkQ29sdW1uICsgMSkgOiB0aGlzLmZvY3VzZWRSb3cgPCB0aGlzLnJvd0NvdW50IC0gMSA/IHRoaXMuc2V0Q2VsbCh0aGlzLmZvY3VzZWRSb3cgKyAxLCAwKSA6IHRoaXMud3JhcCA/IHRoaXMuc2V0Q2VsbCgwLCAwKSA6IHRoaXMuZXZlbnRzLmVtaXQoXCJmb2N1czpvdmVyZmxvd1wiLCAwKTtcbiAgfVxuICBmb2N1c1ByZXZpb3VzKCkge1xuICAgIHRoaXMuZm9jdXNlZENvbHVtbiA+IDAgPyB0aGlzLnNldENlbGwodGhpcy5mb2N1c2VkUm93LCB0aGlzLmZvY3VzZWRDb2x1bW4gLSAxKSA6IHRoaXMuZm9jdXNlZFJvdyA+IDAgPyB0aGlzLnNldENlbGwodGhpcy5mb2N1c2VkUm93IC0gMSwgdGhpcy5jb2x1bW5Db3VudCAtIDEpIDogdGhpcy53cmFwID8gdGhpcy5zZXRDZWxsKHRoaXMucm93Q291bnQgLSAxLCB0aGlzLmNvbHVtbkNvdW50IC0gMSkgOiB0aGlzLmV2ZW50cy5lbWl0KFwiZm9jdXM6dW5kZXJmbG93XCIsIHRoaXMuY29sdW1uQ291bnQgLSAxKTtcbiAgfVxuICBmb2N1c1VwKCkge1xuICAgIHRoaXMuZm9jdXNlZFJvdyA+IDAgPyB0aGlzLnNldENlbGwodGhpcy5mb2N1c2VkUm93IC0gMSwgdGhpcy5mb2N1c2VkQ29sdW1uKSA6IHRoaXMuZXZlbnRzLmVtaXQoXCJmb2N1czp1bmRlcmZsb3dcIiwgdGhpcy5mb2N1c2VkQ29sdW1uKTtcbiAgfVxuICBmb2N1c0Rvd24oKSB7XG4gICAgdGhpcy5mb2N1c2VkUm93IDwgdGhpcy5yb3dDb3VudCAtIDEgPyB0aGlzLnNldENlbGwodGhpcy5mb2N1c2VkUm93ICsgMSwgdGhpcy5mb2N1c2VkQ29sdW1uKSA6IHRoaXMuZXZlbnRzLmVtaXQoXCJmb2N1czpvdmVyZmxvd1wiLCB0aGlzLmZvY3VzZWRDb2x1bW4pO1xuICB9XG4gIGZvY3VzVG9JbmRleChlKSB7XG4gICAgdGhpcy5zZXRDZWxsKE1hdGguZmxvb3IoZSAvIHRoaXMuY29sdW1uQ291bnQpLCBlICUgdGhpcy5jb2x1bW5Db3VudCk7XG4gIH1cbiAgZ2V0SW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9jdXNlZFJvdyAqIHRoaXMuY29sdW1uQ291bnQgKyB0aGlzLmZvY3VzZWRDb2x1bW47XG4gIH1cbiAgZ2V0Q2VsbCgpIHtcbiAgICByZXR1cm4geyByb3c6IHRoaXMuZm9jdXNlZFJvdywgY29sdW1uOiB0aGlzLmZvY3VzZWRDb2x1bW4gfTtcbiAgfVxuICBnZXRSb3dDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3dDb3VudDtcbiAgfVxufVxuY29uc3QgTHQgPSBuZXcgdSgoeyBjbGFzc2VzOiBzIH0pID0+IGBcbiAgPGRpdiBjbGFzcz1cIiR7cy5lbW9qaUNvbnRhaW5lcn1cIj5cbiAgICA8ZGl2IGRhdGEtcGxhY2Vob2xkZXI9XCJlbW9qaXNcIj48L2Rpdj5cbiAgPC9kaXY+XG5gKSwgRnQgPSBnKFwiZW1vamlDb250YWluZXJcIik7XG5jbGFzcyBGIGV4dGVuZHMgYyB7XG4gIGNvbnN0cnVjdG9yKHsgZW1vamlzOiBlLCBzaG93VmFyaWFudHM6IHQsIHByZXZpZXc6IG8gPSAhMCwgbGF6eUxvYWRlcjogaSwgY2F0ZWdvcnk6IHIsIGZ1bGxIZWlnaHQ6IGEgPSAhMSB9KSB7XG4gICAgc3VwZXIoeyB0ZW1wbGF0ZTogTHQsIGNsYXNzZXM6IEZ0IH0pLCB0aGlzLmZ1bGxIZWlnaHQgPSAhMSwgdGhpcy5zaG93VmFyaWFudHMgPSB0LCB0aGlzLmxhenlMb2FkZXIgPSBpLCB0aGlzLnByZXZpZXcgPSBvLCB0aGlzLmVtb2ppcyA9IGUsIHRoaXMuY2F0ZWdvcnkgPSByLCB0aGlzLmZ1bGxIZWlnaHQgPSBhLCB0aGlzLnNldEZvY3VzID0gdGhpcy5zZXRGb2N1cy5iaW5kKHRoaXMpLCB0aGlzLnRyaWdnZXJOZXh0Q2F0ZWdvcnkgPSB0aGlzLnRyaWdnZXJOZXh0Q2F0ZWdvcnkuYmluZCh0aGlzKSwgdGhpcy50cmlnZ2VyUHJldmlvdXNDYXRlZ29yeSA9IHRoaXMudHJpZ2dlclByZXZpb3VzQ2F0ZWdvcnkuYmluZCh0aGlzKTtcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuZ3JpZCA9IG5ldyAkdCh0aGlzLm9wdGlvbnMuZW1vamlzUGVyUm93LCB0aGlzLmVtb2ppQ291bnQsIDAsIDAsICF0aGlzLmNhdGVnb3J5KSwgdGhpcy5ncmlkLm9uKFwiZm9jdXM6Y2hhbmdlXCIsIHRoaXMuc2V0Rm9jdXMpLCB0aGlzLmdyaWQub24oXCJmb2N1czpvdmVyZmxvd1wiLCB0aGlzLnRyaWdnZXJOZXh0Q2F0ZWdvcnkpLCB0aGlzLmdyaWQub24oXCJmb2N1czp1bmRlcmZsb3dcIiwgdGhpcy50cmlnZ2VyUHJldmlvdXNDYXRlZ29yeSksIHRoaXMudWlFdmVudHMgPSBbXG4gICAgICBjLnVpRXZlbnQoXCJjbGlja1wiLCB0aGlzLnNlbGVjdEVtb2ppKSxcbiAgICAgIGMudWlFdmVudChcImtleWRvd25cIiwgdGhpcy5ncmlkLmhhbmRsZUtleURvd24pXG4gICAgXSwgdGhpcy5wcmV2aWV3ICYmIHRoaXMudWlFdmVudHMucHVzaChcbiAgICAgIGMudWlFdmVudChcIm1vdXNlb3ZlclwiLCB0aGlzLnNob3dQcmV2aWV3KSxcbiAgICAgIGMudWlFdmVudChcIm1vdXNlb3V0XCIsIHRoaXMuaGlkZVByZXZpZXcpLFxuICAgICAgYy51aUV2ZW50KFwiZm9jdXNcIiwgdGhpcy5zaG93UHJldmlldywgeyBjYXB0dXJlOiAhMCB9KSxcbiAgICAgIGMudWlFdmVudChcImJsdXJcIiwgdGhpcy5oaWRlUHJldmlldywgeyBjYXB0dXJlOiAhMCB9KVxuICAgICksIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgfVxuICBzZXRGb2N1c2VkVmlldyhlLCB0KSB7XG4gICAgaWYgKCEhZSlcbiAgICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmVtb2ppcy5maW5kSW5kZXgoKGkpID0+IGkuZW1vamkgPT09IGUpO1xuICAgICAgICB0aGlzLmdyaWQuc2V0Rm9jdXNlZEluZGV4KG8sICExKSwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdmFyIG4sIGwsIG0sIGQ7XG4gICAgICAgICAgY29uc3QgaSA9IHRoaXMuZW1vamlWaWV3c1tvXS5lbDtcbiAgICAgICAgICBpLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgY29uc3QgciA9IChuID0gaS5wYXJlbnRFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogbi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLCBhID0gKG0gPSAobCA9IGkucGFyZW50RWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IGwucGFyZW50RWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IG0ucGFyZW50RWxlbWVudDtcbiAgICAgICAgICBhLnNjcm9sbFRvcCAtPSAoZCA9IHIgPT0gbnVsbCA/IHZvaWQgMCA6IHIub2Zmc2V0SGVpZ2h0KSAhPSBudWxsID8gZCA6IDA7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGUucm93ID09PSBcImZpcnN0XCIgfHwgZS5yb3cgPT09IDAgPyB0aGlzLmdyaWQuc2V0Q2VsbCgwLCBlLm9mZnNldCwgdCkgOiBlLnJvdyA9PT0gXCJsYXN0XCIgJiYgdGhpcy5ncmlkLnNldENlbGwodGhpcy5ncmlkLmdldFJvd0NvdW50KCkgLSAxLCBlLm9mZnNldCwgdCk7XG4gIH1cbiAgc2V0QWN0aXZlKGUsIHQsIG8pIHtcbiAgICB2YXIgaTtcbiAgICBlID8gdGhpcy5zZXRGb2N1c2VkVmlldyh0LCBvKSA6IChpID0gdGhpcy5lbW9qaVZpZXdzW3RoaXMuZ3JpZC5nZXRJbmRleCgpXSkgPT0gbnVsbCB8fCBpLmRlYWN0aXZhdGVGb2N1cygpO1xuICB9XG4gIHJlbmRlclN5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1vamlWaWV3cyA9IHRoaXMuZW1vamlzLm1hcChcbiAgICAgIChlKSA9PiB0aGlzLnZpZXdGYWN0b3J5LmNyZWF0ZShTZSwge1xuICAgICAgICBlbW9qaTogZSxcbiAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgIGxhenlMb2FkZXI6IHRoaXMubGF6eUxvYWRlcixcbiAgICAgICAgcmVuZGVyZXI6IHRoaXMucmVuZGVyZXJcbiAgICAgIH0pXG4gICAgKSwgdGhpcy5lbW9qaUVsZW1lbnRzID0gdGhpcy5lbW9qaVZpZXdzLm1hcCgoZSkgPT4gZS5yZW5kZXJTeW5jKCkpLCBzdXBlci5yZW5kZXJTeW5jKHtcbiAgICAgIGVtb2ppczogdGhpcy5lbW9qaUVsZW1lbnRzLFxuICAgICAgaTE4bjogdGhpcy5pMThuXG4gICAgfSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCksIHRoaXMuZW1vamlWaWV3cy5mb3JFYWNoKChlKSA9PiBlLmRlc3Ryb3koKSksIHRoaXMuZ3JpZC5kZXN0cm95KCk7XG4gIH1cbiAgdHJpZ2dlclByZXZpb3VzQ2F0ZWdvcnkoZSkge1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJjYXRlZ29yeTpwcmV2aW91c1wiLCBlKTtcbiAgfVxuICB0cmlnZ2VyTmV4dENhdGVnb3J5KGUpIHtcbiAgICB0aGlzLmNhdGVnb3J5ICYmIHRoaXMuZXZlbnRzLmVtaXQoXCJjYXRlZ29yeTpuZXh0XCIsIGUpO1xuICB9XG4gIHNldEZvY3VzKHsgZnJvbTogZSwgdG86IHQsIHBlcmZvcm1Gb2N1czogbyB9KSB7XG4gICAgdmFyIGksIHI7XG4gICAgKGkgPSB0aGlzLmVtb2ppVmlld3NbZV0pID09IG51bGwgfHwgaS5kZWFjdGl2YXRlRm9jdXMoKSwgKHIgPSB0aGlzLmVtb2ppVmlld3NbdF0pID09IG51bGwgfHwgci5hY3RpdmF0ZUZvY3VzKG8pO1xuICB9XG4gIHNlbGVjdEVtb2ppKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHQgPSBVKGUsIHRoaXMuZW1vamlzKTtcbiAgICB0ICYmIHRoaXMuZXZlbnRzLmVtaXQoXCJlbW9qaTpzZWxlY3RcIiwge1xuICAgICAgZW1vamk6IHQsXG4gICAgICBzaG93VmFyaWFudHM6IHRoaXMuc2hvd1ZhcmlhbnRzXG4gICAgfSk7XG4gIH1cbiAgc2hvd1ByZXZpZXcoZSkge1xuICAgIGNvbnN0IG8gPSBlLnRhcmdldC5jbG9zZXN0KFwiYnV0dG9uXCIpLCBpID0gbyA9PSBudWxsID8gdm9pZCAwIDogby5maXJzdEVsZW1lbnRDaGlsZCwgciA9IFUoZSwgdGhpcy5lbW9qaXMpO1xuICAgIHIgJiYgdGhpcy5ldmVudHMuZW1pdChcInByZXZpZXc6c2hvd1wiLCByLCBpID09IG51bGwgPyB2b2lkIDAgOiBpLmNsb25lTm9kZSghMCkpO1xuICB9XG4gIGhpZGVQcmV2aWV3KGUpIHtcbiAgICBVKGUsIHRoaXMuZW1vamlzKSAmJiB0aGlzLmV2ZW50cy5lbWl0KFwicHJldmlldzpoaWRlXCIpO1xuICB9XG4gIGdldCBlbW9qaUNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmVtb2ppcy5sZW5ndGg7XG4gIH1cbn1cbmNvbnN0IEF0ID0gbmV3IHUoKHsgY2xhc3NlczogcywgY2F0ZWdvcnk6IGUsIHBpY2tlcklkOiB0LCBpY29uOiBvLCBpMThuOiBpIH0pID0+IGBcbiAgPHNlY3Rpb24gY2xhc3M9XCIke3MuZW1vamlDYXRlZ29yeX1cIiByb2xlPVwidGFicGFuZWxcIiBhcmlhLWxhYmVsbGVkYnk9XCIke3R9LWNhdGVnb3J5LSR7ZS5rZXl9XCI+XG4gICAgPGgzIGRhdGEtY2F0ZWdvcnk9XCIke2Uua2V5fVwiIGNsYXNzPVwiJHtzLmNhdGVnb3J5TmFtZX1cIj5cbiAgICAgIDxpIGRhdGEtaWNvbj1cIiR7b31cIj48L2k+XG4gICAgICAke2kuZ2V0KGBjYXRlZ29yaWVzLiR7ZS5rZXl9YCwgZS5tZXNzYWdlIHx8IGUua2V5KX1cbiAgICA8L2gzPlxuICAgIDxkaXYgZGF0YS12aWV3PVwiZW1vamlzXCIgZGF0YS1yZW5kZXI9XCJzeW5jXCI+PC9kaXY+XG4gIDwvc2VjdGlvbj5cbmApO1xuY2xhc3MgSXQgZXh0ZW5kcyBuZSB7XG4gIGNvbnN0cnVjdG9yKHsgY2F0ZWdvcnk6IGUsIHNob3dWYXJpYW50czogdCwgbGF6eUxvYWRlcjogbywgZW1vamlWZXJzaW9uOiBpIH0pIHtcbiAgICBzdXBlcih7IGNhdGVnb3J5OiBlLCBzaG93VmFyaWFudHM6IHQsIGxhenlMb2FkZXI6IG8sIHRlbXBsYXRlOiBBdCB9KSwgdGhpcy5zaG93VmFyaWFudHMgPSB0LCB0aGlzLmxhenlMb2FkZXIgPSBvLCB0aGlzLmVtb2ppVmVyc2lvbiA9IGk7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnVpRWxlbWVudHMgPSB7IC4uLnRoaXMuYmFzZVVJRWxlbWVudHMgfSwgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICBhd2FpdCB0aGlzLmVtb2ppRGF0YVByb21pc2U7XG4gICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuZW1vamlEYXRhLmdldEVtb2ppcyh0aGlzLmNhdGVnb3J5LCB0aGlzLmVtb2ppVmVyc2lvbik7XG4gICAgcmV0dXJuIHRoaXMuZW1vamlDb250YWluZXIgPSB0aGlzLnZpZXdGYWN0b3J5LmNyZWF0ZShGLCB7XG4gICAgICBlbW9qaXM6IGUsXG4gICAgICBzaG93VmFyaWFudHM6IHRoaXMuc2hvd1ZhcmlhbnRzLFxuICAgICAgbGF6eUxvYWRlcjogdGhpcy5sYXp5TG9hZGVyLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnkua2V5XG4gICAgfSksIHN1cGVyLnJlbmRlcih7XG4gICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgIGVtb2ppczogdGhpcy5lbW9qaUNvbnRhaW5lcixcbiAgICAgIGVtb2ppQ291bnQ6IGUubGVuZ3RoLFxuICAgICAgaWNvbjogRFt0aGlzLmNhdGVnb3J5LmtleV1cbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgVHQgZXh0ZW5kcyBGIHtcbiAgY29uc3RydWN0b3IoeyBjYXRlZ29yeTogZSwgZW1vamlzOiB0LCBwcmV2aWV3OiBvID0gITAsIGxhenlMb2FkZXI6IGkgfSkge1xuICAgIHN1cGVyKHsgY2F0ZWdvcnk6IGUsIGVtb2ppczogdCwgc2hvd1ZhcmlhbnRzOiAhMSwgcHJldmlldzogbywgbGF6eUxvYWRlcjogaSB9KTtcbiAgfVxuICBhc3luYyBhZGRPclVwZGF0ZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZWwucXVlcnlTZWxlY3RvcihgW2RhdGEtZW1vamk9XCIke2UuZW1vaml9XCJdYCk7XG4gICAgdCAmJiAodGhpcy5lbC5yZW1vdmVDaGlsZCh0KSwgdGhpcy5lbW9qaXMgPSB0aGlzLmVtb2ppcy5maWx0ZXIoKGkpID0+IGkgIT09IGUpKTtcbiAgICBjb25zdCBvID0gdGhpcy52aWV3RmFjdG9yeS5jcmVhdGUoU2UsIHsgZW1vamk6IGUgfSk7XG4gICAgaWYgKHRoaXMuZWwuaW5zZXJ0QmVmb3JlKG8ucmVuZGVyU3luYygpLCB0aGlzLmVsLmZpcnN0Q2hpbGQpLCB0aGlzLmVtb2ppcyA9IFtcbiAgICAgIGUsXG4gICAgICAuLi50aGlzLmVtb2ppcy5maWx0ZXIoKGkpID0+IGkgIT09IGUpXG4gICAgXSwgdGhpcy5lbW9qaXMubGVuZ3RoID4gdGhpcy5vcHRpb25zLm1heFJlY2VudHMpIHtcbiAgICAgIHRoaXMuZW1vamlzID0gdGhpcy5lbW9qaXMuc2xpY2UoMCwgdGhpcy5vcHRpb25zLm1heFJlY2VudHMpO1xuICAgICAgY29uc3QgaSA9IHRoaXMuZWwuY2hpbGRFbGVtZW50Q291bnQgLSB0aGlzLm9wdGlvbnMubWF4UmVjZW50cztcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgaTsgcisrKVxuICAgICAgICB0aGlzLmVsLmxhc3RFbGVtZW50Q2hpbGQgJiYgdGhpcy5lbC5yZW1vdmVDaGlsZCh0aGlzLmVsLmxhc3RFbGVtZW50Q2hpbGQpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgUnQgPSBuZXcgdSgoeyBlbW9qaUNvdW50OiBzLCBjbGFzc2VzOiBlLCBjYXRlZ29yeTogdCwgcGlja2VySWQ6IG8sIGljb246IGksIGkxOG46IHIgfSkgPT4gYFxuICA8c2VjdGlvbiBjbGFzcz1cIiR7ZS5lbW9qaUNhdGVnb3J5fVwiIHJvbGU9XCJ0YWJwYW5lbFwiIGFyaWEtbGFiZWxsZWRieT1cIiR7b30tY2F0ZWdvcnktJHt0LmtleX1cIj5cbiAgICA8aDMgZGF0YS1jYXRlZ29yeT1cIiR7dC5rZXl9XCIgY2xhc3M9XCIke2UuY2F0ZWdvcnlOYW1lfVwiPlxuICAgICAgPGkgZGF0YS1pY29uPVwiJHtpfVwiPjwvaT5cbiAgICAgICR7ci5nZXQoYGNhdGVnb3JpZXMuJHt0LmtleX1gLCB0Lm1lc3NhZ2UgfHwgdC5rZXkpfVxuICAgIDwvaDM+XG4gICAgPGRpdiBkYXRhLWVtcHR5PVwiJHtzID09PSAwfVwiIGNsYXNzPVwiJHtlLnJlY2VudEVtb2ppc31cIj5cbiAgICAgIDxkaXYgZGF0YS12aWV3PVwiZW1vamlzXCIgZGF0YS1yZW5kZXI9XCJzeW5jXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIiR7ZS5ub1JlY2VudHN9XCI+XG4gICAgICAke3IuZ2V0KFwicmVjZW50cy5ub25lXCIpfVxuICAgIDwvZGl2PlxuICA8L3NlY3Rpb24+XG5gLCB7IG1vZGU6IFwiYXN5bmNcIiB9KTtcbmNsYXNzIFZ0IGV4dGVuZHMgbmUge1xuICBjb25zdHJ1Y3Rvcih7IGNhdGVnb3J5OiBlLCBsYXp5TG9hZGVyOiB0LCBwcm92aWRlcjogbyB9KSB7XG4gICAgc3VwZXIoeyBjYXRlZ29yeTogZSwgc2hvd1ZhcmlhbnRzOiAhMSwgbGF6eUxvYWRlcjogdCwgdGVtcGxhdGU6IFJ0IH0pLCB0aGlzLnByb3ZpZGVyID0gbztcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMudWlFbGVtZW50cyA9IHtcbiAgICAgIC4uLnRoaXMuYmFzZVVJRWxlbWVudHMsXG4gICAgICByZWNlbnRzOiBjLmJ5Q2xhc3ModGUucmVjZW50RW1vamlzKVxuICAgIH0sIHRoaXMuYXBwRXZlbnRzID0ge1xuICAgICAgXCJyZWNlbnQ6YWRkXCI6IHRoaXMuYWRkUmVjZW50XG4gICAgfSwgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIGFzeW5jIGFkZFJlY2VudChlKSB7XG4gICAgYXdhaXQgdGhpcy5lbW9qaUNvbnRhaW5lci5hZGRPclVwZGF0ZShlKSwgdGhpcy51aS5yZWNlbnRzLmRhdGFzZXQuZW1wdHkgPSBcImZhbHNlXCI7XG4gIH1cbiAgYXN5bmMgcmVuZGVyKCkge1xuICAgIHZhciB0O1xuICAgIGNvbnN0IGUgPSAodCA9IHRoaXMucHJvdmlkZXIpID09IG51bGwgPyB2b2lkIDAgOiB0LmdldFJlY2VudHModGhpcy5vcHRpb25zLm1heFJlY2VudHMpO1xuICAgIHJldHVybiB0aGlzLmVtb2ppQ29udGFpbmVyID0gdGhpcy52aWV3RmFjdG9yeS5jcmVhdGUoVHQsIHtcbiAgICAgIGVtb2ppczogZSxcbiAgICAgIHNob3dWYXJpYW50czogITEsXG4gICAgICBsYXp5TG9hZGVyOiB0aGlzLmxhenlMb2FkZXIsXG4gICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeS5rZXlcbiAgICB9KSwgYXdhaXQgc3VwZXIucmVuZGVyKHtcbiAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgICAgZW1vamlzOiB0aGlzLmVtb2ppQ29udGFpbmVyLFxuICAgICAgZW1vamlDb3VudDogZS5sZW5ndGgsXG4gICAgICBpY29uOiBEW3RoaXMuY2F0ZWdvcnkua2V5XVxuICAgIH0pLCB0aGlzLmVsO1xuICB9XG59XG5jb25zdCBCdCA9IG5ldyB1KCh7IGNsYXNzZXM6IHMsIGNhdGVnb3J5OiBlLCBwaWNrZXJJZDogdCwgaWNvbjogbywgaTE4bjogaSB9KSA9PiBgXG4gIDxzZWN0aW9uIGNsYXNzPVwiJHtzLmVtb2ppQ2F0ZWdvcnl9XCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwiJHt0fS1jYXRlZ29yeS0ke2Uua2V5fVwiPlxuICAgIDxoMyBkYXRhLWNhdGVnb3J5PVwiJHtlLmtleX1cIiBjbGFzcz1cIiR7cy5jYXRlZ29yeU5hbWV9XCI+XG4gICAgICA8aSBkYXRhLWljb249XCIke299XCI+PC9pPlxuICAgICAgJHtpLmdldChgY2F0ZWdvcmllcy4ke2Uua2V5fWAsIGUubWVzc2FnZSB8fCBlLmtleSl9XG4gICAgPC9oMz5cbiAgICA8ZGl2IGRhdGEtdmlldz1cImVtb2ppc1wiIGRhdGEtcmVuZGVyPVwic3luY1wiPjwvZGl2PlxuICA8L3NlY3Rpb24+XG5gKTtcbmNsYXNzIE10IGV4dGVuZHMgbmUge1xuICBjb25zdHJ1Y3Rvcih7IGNhdGVnb3J5OiBlLCBsYXp5TG9hZGVyOiB0IH0pIHtcbiAgICBzdXBlcih7IHRlbXBsYXRlOiBCdCwgc2hvd1ZhcmlhbnRzOiAhMSwgbGF6eUxvYWRlcjogdCwgY2F0ZWdvcnk6IGUgfSk7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnVpRWxlbWVudHMgPSB7IC4uLnRoaXMuYmFzZVVJRWxlbWVudHMgfSwgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5lbW9qaUNvbnRhaW5lciA9IHRoaXMudmlld0ZhY3RvcnkuY3JlYXRlKEYsIHtcbiAgICAgIGVtb2ppczogdGhpcy5jdXN0b21FbW9qaXMsXG4gICAgICBzaG93VmFyaWFudHM6IHRoaXMuc2hvd1ZhcmlhbnRzLFxuICAgICAgbGF6eUxvYWRlcjogdGhpcy5sYXp5TG9hZGVyLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnkua2V5XG4gICAgfSksIHN1cGVyLnJlbmRlcih7XG4gICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgIGVtb2ppczogdGhpcy5lbW9qaUNvbnRhaW5lcixcbiAgICAgIGVtb2ppQ291bnQ6IHRoaXMuY3VzdG9tRW1vamlzLmxlbmd0aCxcbiAgICAgIGljb246IERbdGhpcy5jYXRlZ29yeS5rZXldXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIFBlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgbGF6eUxvYWQoZSwgdCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLnNldChlLCB0KSwgZTtcbiAgfVxuICBvYnNlcnZlKGUpIHtcbiAgICBpZiAod2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyKSB7XG4gICAgICBjb25zdCB0ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAobykgPT4ge1xuICAgICAgICAgIG8uZmlsdGVyKChpKSA9PiBpLmludGVyc2VjdGlvblJhdGlvID4gMCkubWFwKChpKSA9PiBpLnRhcmdldCkuZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuZWxlbWVudHMuZ2V0KGkpO1xuICAgICAgICAgICAgciA9PSBudWxsIHx8IHIoKSwgdC51bm9ic2VydmUoaSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICByb290OiBlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goKG8sIGkpID0+IHtcbiAgICAgICAgdC5vYnNlcnZlKGkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgdCgpO1xuICAgICAgfSk7XG4gIH1cbn1cbmNvbnN0IHVlID0gZyhcImVtb2ppQXJlYVwiKSwgRHQgPSBuZXcgdSgoeyBjbGFzc2VzOiBzIH0pID0+IGBcbiAgPGRpdiBjbGFzcz1cIiR7cy5lbW9qaUFyZWF9XCI+XG4gICAgPGRpdiBkYXRhLXBsYWNlaG9sZGVyPVwiZW1vamlzXCI+PC9kaXY+XG4gIDwvZGl2PlxuYCwgeyBtb2RlOiBcImFzeW5jXCIgfSksIEh0ID0ge1xuICByZWNlbnRzOiBWdCxcbiAgY3VzdG9tOiBNdFxufTtcbmZ1bmN0aW9uIE50KHMpIHtcbiAgcmV0dXJuIEh0W3Mua2V5XSB8fCBJdDtcbn1cbmZ1bmN0aW9uIE90KHMpIHtcbiAgcmV0dXJuICFzIHx8IHMgPT09IFwiYnV0dG9uXCIgPyB7XG4gICAgcm93OiBcImZpcnN0XCIsXG4gICAgb2Zmc2V0OiAwXG4gIH0gOiBzO1xufVxuY2xhc3MgVXQgZXh0ZW5kcyBjIHtcbiAgY29uc3RydWN0b3IoeyBjYXRlZ29yeVRhYnM6IGUsIGNhdGVnb3JpZXM6IHQsIGVtb2ppVmVyc2lvbjogbyB9KSB7XG4gICAgc3VwZXIoeyB0ZW1wbGF0ZTogRHQsIGNsYXNzZXM6IHVlIH0pLCB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSAwLCB0aGlzLnNjcm9sbExpc3RlbmVyU3RhdGUgPSBcImFjdGl2ZVwiLCB0aGlzLmxhenlMb2FkZXIgPSBuZXcgUGUoKSwgdGhpcy5jYXRlZ29yeVRhYnMgPSBlLCB0aGlzLmNhdGVnb3JpZXMgPSB0LCB0aGlzLmVtb2ppVmVyc2lvbiA9IG8sIHRoaXMuaGFuZGxlU2Nyb2xsID0gVGUodGhpcy5oYW5kbGVTY3JvbGwuYmluZCh0aGlzKSwgMTAwKTtcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuYXBwRXZlbnRzID0ge1xuICAgICAgXCJjYXRlZ29yeTpzZWxlY3RcIjogdGhpcy5oYW5kbGVDYXRlZ29yeVNlbGVjdCxcbiAgICAgIFwiY2F0ZWdvcnk6cHJldmlvdXNcIjogdGhpcy5mb2N1c1ByZXZpb3VzQ2F0ZWdvcnksXG4gICAgICBcImNhdGVnb3J5Om5leHRcIjogdGhpcy5mb2N1c05leHRDYXRlZ29yeSxcbiAgICAgIFwiZm9jdXM6Y2hhbmdlXCI6IHRoaXMudXBkYXRlRm9jdXNlZENhdGVnb3J5XG4gICAgfSwgdGhpcy51aUVsZW1lbnRzID0geyBlbW9qaXM6IGMuYnlDbGFzcyh1ZS5lbW9qaUFyZWEpIH0sIHRoaXMudWlFdmVudHMgPSBbYy51aUV2ZW50KFwic2Nyb2xsXCIsIHRoaXMuaGFuZGxlU2Nyb2xsKV0sIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgfVxuICBnZXQgZm9jdXNhYmxlRW1vamkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWwucXVlcnlTZWxlY3RvcignW3RhYmluZGV4PVwiMFwiXScpO1xuICB9XG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICB0aGlzLmVtb2ppQ2F0ZWdvcmllcyA9IHRoaXMuY2F0ZWdvcmllcy5tYXAodGhpcy5jcmVhdGVDYXRlZ29yeSwgdGhpcyk7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiB0aGlzLmNhdGVnb3JpZXMuZm9yRWFjaCgodCwgbykgPT4ge1xuICAgICAgZVtgZW1vamlzLSR7dC5rZXl9YF0gPSB0aGlzLmVtb2ppQ2F0ZWdvcmllc1tvXTtcbiAgICB9KSwgYXdhaXQgc3VwZXIucmVuZGVyKHtcbiAgICAgIGVtb2ppczogYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5lbW9qaUNhdGVnb3JpZXMubWFwKCh0KSA9PiB0LnJlbmRlcigpKSlcbiAgICB9KSwgdGhpcy5sYXp5TG9hZGVyLm9ic2VydmUodGhpcy5lbCksIHdpbmRvdy5SZXNpemVPYnNlcnZlciAmJiAodGhpcy5vYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5lbC5zY3JvbGxIZWlnaHQgLSB0aGlzLnNjcm9sbEhlaWdodDtcbiAgICAgIHRoaXMuZWwuc2Nyb2xsVG9wIC0gdGhpcy5zY3JvbGxUb3AgPT09IDAgJiYgdCA+IDAgJiYgKHRoaXMuZWwuc2Nyb2xsVG9wICs9IHQpLCB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZWwuc2Nyb2xsSGVpZ2h0LCB0aGlzLnNjcm9sbFRvcCA9IHRoaXMuZWwuc2Nyb2xsVG9wO1xuICAgIH0pLCB0aGlzLmVtb2ppQ2F0ZWdvcmllcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodC5lbCk7XG4gICAgfSkpLCB0aGlzLmVsO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpLCB0aGlzLmVtb2ppQ2F0ZWdvcmllcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgICh0ID0gdGhpcy5vYnNlcnZlcikgPT0gbnVsbCB8fCB0LnVub2JzZXJ2ZShlLmVsKSwgZS5kZXN0cm95KCk7XG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlQ2F0ZWdvcnlTZWxlY3QoZSwgdCkge1xuICAgIHRoaXMuc2VsZWN0Q2F0ZWdvcnkoZSwgdCk7XG4gIH1cbiAgY3JlYXRlQ2F0ZWdvcnkoZSkge1xuICAgIGNvbnN0IHQgPSBOdChlKTtcbiAgICByZXR1cm4gdGhpcy52aWV3RmFjdG9yeS5jcmVhdGUodCwge1xuICAgICAgY2F0ZWdvcnk6IGUsXG4gICAgICBzaG93VmFyaWFudHM6ICEwLFxuICAgICAgbGF6eUxvYWRlcjogdGhpcy5sYXp5TG9hZGVyLFxuICAgICAgZW1vamlWZXJzaW9uOiB0aGlzLmVtb2ppVmVyc2lvbixcbiAgICAgIHByb3ZpZGVyOiB0aGlzLm9wdGlvbnMucmVjZW50c1Byb3ZpZGVyXG4gICAgfSk7XG4gIH1cbiAgZGV0ZXJtaW5lSW5pdGlhbENhdGVnb3J5KCkge1xuICAgIHZhciBlO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaW5pdGlhbENhdGVnb3J5ICYmIHRoaXMuY2F0ZWdvcmllcy5maW5kKCh0KSA9PiB0LmtleSA9PT0gdGhpcy5vcHRpb25zLmluaXRpYWxDYXRlZ29yeSkgPyB0aGlzLm9wdGlvbnMuaW5pdGlhbENhdGVnb3J5IDogKGUgPSB0aGlzLmNhdGVnb3JpZXMuZmluZCgodCkgPT4gdC5rZXkgIT09IFwicmVjZW50c1wiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IGUua2V5O1xuICB9XG4gIGRldGVybWluZUZvY3VzVGFyZ2V0KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5lbW9qaUNhdGVnb3JpZXMuZmluZCgobykgPT4gby5jYXRlZ29yeS5rZXkgPT09IGUpO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaW5pdGlhbEVtb2ppICYmICh0ID09IG51bGwgPyB2b2lkIDAgOiB0LmVsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWVtb2ppPVwiJHt0aGlzLm9wdGlvbnMuaW5pdGlhbEVtb2ppfVwiXWApKSA/IHRoaXMub3B0aW9ucy5pbml0aWFsRW1vamkgOiBcImJ1dHRvblwiO1xuICB9XG4gIHJlc2V0KGUgPSAhMCkge1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJwcmV2aWV3OmhpZGVcIik7XG4gICAgY29uc3QgdCA9IHRoaXMuZGV0ZXJtaW5lSW5pdGlhbENhdGVnb3J5KCk7XG4gICAgdCAmJiAodGhpcy5zZWxlY3RDYXRlZ29yeSh0LCB7XG4gICAgICBmb2N1czogdGhpcy5kZXRlcm1pbmVGb2N1c1RhcmdldCh0KSxcbiAgICAgIHBlcmZvcm1Gb2N1czogZSxcbiAgICAgIHNjcm9sbDogXCJqdW1wXCJcbiAgICB9KSwgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeUluZGV4KHQpKTtcbiAgfVxuICBnZXRDYXRlZ29yeUluZGV4KGUpIHtcbiAgICByZXR1cm4gdGhpcy5jYXRlZ29yaWVzLmZpbmRJbmRleCgodCkgPT4gdC5rZXkgPT09IGUpO1xuICB9XG4gIGZvY3VzUHJldmlvdXNDYXRlZ29yeShlKSB7XG4gICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID4gMCAmJiB0aGlzLmZvY3VzQ2F0ZWdvcnkodGhpcy5zZWxlY3RlZENhdGVnb3J5IC0gMSwgeyByb3c6IFwibGFzdFwiLCBvZmZzZXQ6IGUgIT0gbnVsbCA/IGUgOiB0aGlzLm9wdGlvbnMuZW1vamlzUGVyUm93IH0pO1xuICB9XG4gIGZvY3VzTmV4dENhdGVnb3J5KGUpIHtcbiAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPCB0aGlzLmNhdGVnb3JpZXMubGVuZ3RoIC0gMSAmJiB0aGlzLmZvY3VzQ2F0ZWdvcnkodGhpcy5zZWxlY3RlZENhdGVnb3J5ICsgMSwgeyByb3c6IFwiZmlyc3RcIiwgb2Zmc2V0OiBlICE9IG51bGwgPyBlIDogMCB9KTtcbiAgfVxuICBmb2N1c0NhdGVnb3J5KGUsIHQpIHtcbiAgICB0aGlzLnNlbGVjdENhdGVnb3J5KGUsIHtcbiAgICAgIGZvY3VzOiB0LFxuICAgICAgcGVyZm9ybUZvY3VzOiAhMFxuICAgIH0pO1xuICB9XG4gIGFzeW5jIHNlbGVjdENhdGVnb3J5KGUsIHQgPSB7fSkge1xuICAgIHZhciBsO1xuICAgIHRoaXMuc2Nyb2xsTGlzdGVuZXJTdGF0ZSA9IFwic3VzcGVuZFwiO1xuICAgIGNvbnN0IHsgZm9jdXM6IG8sIHBlcmZvcm1Gb2N1czogaSwgc2Nyb2xsOiByIH0gPSB7XG4gICAgICBwZXJmb3JtRm9jdXM6ICExLFxuICAgICAgLi4udFxuICAgIH07XG4gICAgdGhpcy5lbW9qaUNhdGVnb3JpZXNbdGhpcy5zZWxlY3RlZENhdGVnb3J5XS5zZXRBY3RpdmUoITEpO1xuICAgIGNvbnN0IGEgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSB0eXBlb2YgZSA9PSBcIm51bWJlclwiID8gZSA6IHRoaXMuZ2V0Q2F0ZWdvcnlJbmRleChlKTtcbiAgICAobCA9IHRoaXMuY2F0ZWdvcnlUYWJzKSA9PSBudWxsIHx8IGwuc2V0QWN0aXZlVGFiKHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSwge1xuICAgICAgcGVyZm9ybUZvY3VzOiBpLFxuICAgICAgc2Nyb2xsOiBvID09PSBcImJ1dHRvblwiXG4gICAgfSk7XG4gICAgY29uc3QgbiA9IHRoaXMuZW1vamlDYXRlZ29yaWVzW2FdLmVsLm9mZnNldFRvcDtcbiAgICB0aGlzLmVtb2ppQ2F0ZWdvcmllc1thXS5zZXRBY3RpdmUoITAsIE90KG8pLCBvICE9PSBcImJ1dHRvblwiICYmIGkpLCByICYmICh0aGlzLmVsLnNjcm9sbFRvcCA9IG4pLCB0aGlzLnNjcm9sbExpc3RlbmVyU3RhdGUgPSBcInJlc3VtZVwiO1xuICB9XG4gIHVwZGF0ZUZvY3VzZWRDYXRlZ29yeShlKSB7XG4gICAgdmFyIHQ7XG4gICAgdGhpcy5jYXRlZ29yaWVzW3RoaXMuc2VsZWN0ZWRDYXRlZ29yeV0ua2V5ICE9PSBlICYmICh0aGlzLnNjcm9sbExpc3RlbmVyU3RhdGUgPSBcInN1c3BlbmRcIiwgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gdGhpcy5nZXRDYXRlZ29yeUluZGV4KGUpLCAodCA9IHRoaXMuY2F0ZWdvcnlUYWJzKSA9PSBudWxsIHx8IHQuc2V0QWN0aXZlVGFiKHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSwge1xuICAgICAgY2hhbmdlRm9jdXNhYmxlOiAhMSxcbiAgICAgIHBlcmZvcm1Gb2N1czogITFcbiAgICB9KSwgdGhpcy5zY3JvbGxMaXN0ZW5lclN0YXRlID0gXCJyZXN1bWVcIik7XG4gIH1cbiAgaGFuZGxlU2Nyb2xsKCkge1xuICAgIGlmICh0aGlzLnNjcm9sbExpc3RlbmVyU3RhdGUgPT09IFwic3VzcGVuZFwiIHx8ICF0aGlzLmNhdGVnb3J5VGFicylcbiAgICAgIHJldHVybjtcbiAgICBpZiAodGhpcy5zY3JvbGxMaXN0ZW5lclN0YXRlID09PSBcInJlc3VtZVwiKSB7XG4gICAgICB0aGlzLnNjcm9sbExpc3RlbmVyU3RhdGUgPSBcImFjdGl2ZVwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlID0gdGhpcy5lbC5zY3JvbGxUb3AsIHQgPSB0aGlzLmVsLnNjcm9sbEhlaWdodCAtIHRoaXMuZWwub2Zmc2V0SGVpZ2h0LCBvID0gdGhpcy5lbW9qaUNhdGVnb3JpZXMuZmluZEluZGV4KChyLCBhKSA9PiB7XG4gICAgICB2YXIgbjtcbiAgICAgIHJldHVybiBlIDwgKChuID0gdGhpcy5lbW9qaUNhdGVnb3JpZXNbYSArIDFdKSA9PSBudWxsID8gdm9pZCAwIDogbi5lbC5vZmZzZXRUb3ApO1xuICAgIH0pLCBpID0ge1xuICAgICAgY2hhbmdlRm9jdXNhYmxlOiAhMSxcbiAgICAgIHBlcmZvcm1Gb2N1czogITEsXG4gICAgICBzY3JvbGw6ICExXG4gICAgfTtcbiAgICBlID09PSAwID8gdGhpcy5jYXRlZ29yeVRhYnMuc2V0QWN0aXZlVGFiKDAsIGkpIDogTWF0aC5mbG9vcihlKSA9PT0gTWF0aC5mbG9vcih0KSB8fCBvIDwgMCA/IHRoaXMuY2F0ZWdvcnlUYWJzLnNldEFjdGl2ZVRhYih0aGlzLmNhdGVnb3JpZXMubGVuZ3RoIC0gMSwgaSkgOiB0aGlzLmNhdGVnb3J5VGFicy5zZXRBY3RpdmVUYWIobywgaSk7XG4gIH1cbn1cbmNvbnN0IEt0ID0gbmV3IHUoKHsgY2xhc3NMaXN0OiBzLCBjbGFzc2VzOiBlLCBpY29uOiB0LCBtZXNzYWdlOiBvIH0pID0+IGBcbjxkaXYgY2xhc3M9XCIke3N9XCIgcm9sZT1cImFsZXJ0XCI+XG4gIDxkaXYgY2xhc3M9XCIke2UuaWNvbkNvbnRhaW5lcn1cIj48aSBkYXRhLXNpemU9XCIxMHhcIiBkYXRhLWljb249XCIke3R9XCI+PC9pPjwvZGl2PlxuICA8aDMgY2xhc3M9XCIke2UudGl0bGV9XCI+JHtvfTwvaDM+XG48L2Rpdj5cbmApLCBnZSA9IGcoXCJlcnJvclwiLCBcImljb25Db250YWluZXJcIiwgXCJ0aXRsZVwiKTtcbmNsYXNzIHNlIGV4dGVuZHMgYyB7XG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZTogZSwgaWNvbjogdCA9IFwid2FybmluZ1wiLCB0ZW1wbGF0ZTogbyA9IEt0LCBjbGFzc05hbWU6IGkgfSkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGU6IG8sIGNsYXNzZXM6IGdlIH0pLCB0aGlzLm1lc3NhZ2UgPSBlLCB0aGlzLmljb24gPSB0LCB0aGlzLmNsYXNzTmFtZSA9IGk7XG4gIH1cbiAgcmVuZGVyU3luYygpIHtcbiAgICBjb25zdCBlID0gW2dlLmVycm9yLCB0aGlzLmNsYXNzTmFtZV0uam9pbihcIiBcIikudHJpbSgpO1xuICAgIHJldHVybiBzdXBlci5yZW5kZXJTeW5jKHsgbWVzc2FnZTogdGhpcy5tZXNzYWdlLCBpY29uOiB0aGlzLmljb24sIGNsYXNzTGlzdDogZSB9KTtcbiAgfVxufVxuY29uc3QgcXQgPSBuZXcgdSgoeyBjbGFzc0xpc3Q6IHMsIGNsYXNzZXM6IGUsIGljb246IHQsIGkxOG46IG8sIG1lc3NhZ2U6IGkgfSkgPT4gYFxuICA8ZGl2IGNsYXNzPVwiJHtzfVwiIHJvbGU9XCJhbGVydFwiPlxuICAgIDxkaXYgY2xhc3M9XCIke2UuaWNvbn1cIj48aSBkYXRhLXNpemU9XCIxMHhcIiBkYXRhLWljb249XCIke3R9XCI+PC9pPjwvZGl2PlxuICAgIDxoMyBjbGFzcz1cIiR7ZS50aXRsZX1cIj4ke2l9PC9oMz5cbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIj4ke28uZ2V0KFwicmV0cnlcIil9PC9idXR0b24+XG4gIDwvZGl2PlxuYCksIEd0ID0gZyhcImRhdGFFcnJvclwiKTtcbmNsYXNzIFd0IGV4dGVuZHMgc2Uge1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2U6IGUgfSkge1xuICAgIHN1cGVyKHsgbWVzc2FnZTogZSwgdGVtcGxhdGU6IHF0LCBjbGFzc05hbWU6IEd0LmRhdGFFcnJvciB9KTtcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMudWlFbGVtZW50cyA9IHsgcmV0cnlCdXR0b246IFwiYnV0dG9uXCIgfSwgdGhpcy51aUV2ZW50cyA9IFtjLmNoaWxkRXZlbnQoXCJyZXRyeUJ1dHRvblwiLCBcImNsaWNrXCIsIHRoaXMub25SZXRyeSldLCBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cbiAgYXN5bmMgb25SZXRyeSgpIHtcbiAgICB0aGlzLmVtb2ppRGF0YSA/IGF3YWl0IHRoaXMuZW1vamlEYXRhLmRlbGV0ZSgpIDogYXdhaXQgdGhpcy5vcHRpb25zLmRhdGFTdG9yZS5kZWxldGVEYXRhYmFzZSh0aGlzLm9wdGlvbnMubG9jYWxlKSwgdGhpcy5ldmVudHMuZW1pdChcInJlaW5pdGlhbGl6ZVwiKTtcbiAgICBjb25zdCBlID0gYXdhaXQgcmUodGhpcy5vcHRpb25zLmxvY2FsZSwgdGhpcy5vcHRpb25zLmRhdGFTdG9yZSwgdGhpcy5vcHRpb25zLm1lc3NhZ2VzLCB0aGlzLm9wdGlvbnMuZW1vamlEYXRhLCB0aGlzLmVtb2ppRGF0YSk7XG4gICAgdGhpcy52aWV3RmFjdG9yeS5zZXRFbW9qaURhdGEoZSksIHRoaXMuZXZlbnRzLmVtaXQoXCJkYXRhOnJlYWR5XCIsIGUpO1xuICB9XG59XG5jb25zdCBDID0gZyhcbiAgXCJwcmV2aWV3XCIsXG4gIFwicHJldmlld0Vtb2ppXCIsXG4gIFwicHJldmlld05hbWVcIixcbiAgXCJ0YWdMaXN0XCIsXG4gIFwidGFnXCJcbiksIF90ID0gbmV3IHUoKHsgY2xhc3NlczogcywgdGFnOiBlIH0pID0+IGBcbiAgPGxpIGNsYXNzPVwiJHtzLnRhZ31cIj4ke2V9PC9saT5cbmApLCBKdCA9IG5ldyB1KCh7IGNsYXNzZXM6IHMgfSkgPT4gYFxuICA8ZGl2IGNsYXNzPVwiJHtzLnByZXZpZXd9XCI+XG4gICAgPGRpdiBjbGFzcz1cIiR7cy5wcmV2aWV3RW1vaml9XCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIiR7cy5wcmV2aWV3TmFtZX1cIj48L2Rpdj5cbiAgICA8dWwgY2xhc3M9XCIke3MudGFnTGlzdH1cIj48L3VsPlxuICA8L2Rpdj5cbmApO1xuY2xhc3MgWXQgZXh0ZW5kcyBjIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoeyB0ZW1wbGF0ZTogSnQsIGNsYXNzZXM6IEMgfSk7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnVpRWxlbWVudHMgPSB7XG4gICAgICBlbW9qaTogYy5ieUNsYXNzKEMucHJldmlld0Vtb2ppKSxcbiAgICAgIG5hbWU6IGMuYnlDbGFzcyhDLnByZXZpZXdOYW1lKSxcbiAgICAgIHRhZ0xpc3Q6IGMuYnlDbGFzcyhDLnRhZ0xpc3QpXG4gICAgfSwgdGhpcy5hcHBFdmVudHMgPSB7XG4gICAgICBcInByZXZpZXc6c2hvd1wiOiB0aGlzLnNob3dQcmV2aWV3LFxuICAgICAgXCJwcmV2aWV3OmhpZGVcIjogdGhpcy5oaWRlUHJldmlld1xuICAgIH0sIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgfVxuICBzaG93UHJldmlldyhlLCB0KSB7XG4gICAgaWYgKHRoaXMudWkuZW1vamkucmVwbGFjZUNoaWxkcmVuKHQpLCB0aGlzLnVpLm5hbWUudGV4dENvbnRlbnQgPSBlLmxhYmVsLCBlLnRhZ3MpIHtcbiAgICAgIHRoaXMudWkudGFnTGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICBjb25zdCBvID0gZS50YWdzLm1hcCgoaSkgPT4gX3QucmVuZGVyU3luYyh7IHRhZzogaSwgY2xhc3NlczogQyB9KSk7XG4gICAgICB0aGlzLnVpLnRhZ0xpc3QucmVwbGFjZUNoaWxkcmVuKC4uLm8pO1xuICAgIH1cbiAgfVxuICBoaWRlUHJldmlldygpIHtcbiAgICB0aGlzLnVpLmVtb2ppLnJlcGxhY2VDaGlsZHJlbigpLCB0aGlzLnVpLm5hbWUudGV4dENvbnRlbnQgPSBcIlwiLCB0aGlzLnVpLnRhZ0xpc3QucmVwbGFjZUNoaWxkcmVuKCk7XG4gIH1cbn1cbmNvbnN0IFF0ID0gbmV3IHUoKHsgY2xhc3NlczogcywgaTE4bjogZSB9KSA9PiBgXG4gIDxidXR0b24gdGl0bGU9XCIke2UuZ2V0KFwic2VhcmNoLmNsZWFyXCIpfVwiIGNsYXNzPVwiJHtzLmNsZWFyU2VhcmNoQnV0dG9ufVwiPlxuICAgIDxpIGRhdGEtaWNvbj1cInhtYXJrXCI+PC9pPlxuICA8L2J1dHRvbj5cbmApLCBYdCA9IG5ldyB1KCh7IGNsYXNzZXM6IHMsIGkxOG46IGUgfSkgPT4gYFxuPGRpdiBjbGFzcz1cIiR7cy5zZWFyY2hDb250YWluZXJ9XCI+XG4gIDxpbnB1dCBjbGFzcz1cIiR7cy5zZWFyY2hGaWVsZH1cIiBwbGFjZWhvbGRlcj1cIiR7ZS5nZXQoXCJzZWFyY2hcIil9XCI+XG4gIDxzcGFuIGNsYXNzPVwiJHtzLnNlYXJjaEFjY2Vzc29yeX1cIj48L3NwYW4+XG48L2Rpdj5cbmAsIHsgbW9kZTogXCJhc3luY1wiIH0pLCBqID0gZyhcbiAgXCJzZWFyY2hDb250YWluZXJcIixcbiAgXCJzZWFyY2hGaWVsZFwiLFxuICBcImNsZWFyQnV0dG9uXCIsXG4gIFwic2VhcmNoQWNjZXNzb3J5XCIsXG4gIFwiY2xlYXJTZWFyY2hCdXR0b25cIixcbiAgXCJub3RGb3VuZFwiXG4pO1xuY2xhc3MgWnQgZXh0ZW5kcyBjIHtcbiAgY29uc3RydWN0b3IoeyBjYXRlZ29yaWVzOiBlLCBlbW9qaVZlcnNpb246IHQgfSkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGU6IFh0LCBjbGFzc2VzOiBqIH0pLCB0aGlzLmNhdGVnb3JpZXMgPSBlLmZpbHRlcigobykgPT4gby5rZXkgIT09IFwicmVjZW50c1wiKSwgdGhpcy5lbW9qaVZlcnNpb24gPSB0LCB0aGlzLnNlYXJjaCA9IFJlKHRoaXMuc2VhcmNoLmJpbmQodGhpcyksIDEwMCk7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnVpRWxlbWVudHMgPSB7XG4gICAgICBzZWFyY2hGaWVsZDogYy5ieUNsYXNzKGouc2VhcmNoRmllbGQpLFxuICAgICAgc2VhcmNoQWNjZXNzb3J5OiBjLmJ5Q2xhc3Moai5zZWFyY2hBY2Nlc3NvcnkpXG4gICAgfSwgdGhpcy51aUV2ZW50cyA9IFtcbiAgICAgIGMuY2hpbGRFdmVudChcInNlYXJjaEZpZWxkXCIsIFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biksXG4gICAgICBjLmNoaWxkRXZlbnQoXCJzZWFyY2hGaWVsZFwiLCBcImlucHV0XCIsIHRoaXMub25TZWFyY2hJbnB1dClcbiAgICBdLCBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cbiAgYXN5bmMgcmVuZGVyKCkge1xuICAgIHJldHVybiBhd2FpdCBzdXBlci5yZW5kZXIoKSwgdGhpcy5zZWFyY2hJY29uID0gamUoXCJzZWFyY2hcIiksIHRoaXMubm90Rm91bmRNZXNzYWdlID0gdGhpcy52aWV3RmFjdG9yeS5jcmVhdGUoc2UsIHtcbiAgICAgIG1lc3NhZ2U6IHRoaXMuaTE4bi5nZXQoXCJzZWFyY2gubm90Rm91bmRcIiksXG4gICAgICBjbGFzc05hbWU6IGoubm90Rm91bmQsXG4gICAgICBpY29uOiBcInNhZFwiXG4gICAgfSksIHRoaXMubm90Rm91bmRNZXNzYWdlLnJlbmRlclN5bmMoKSwgdGhpcy5lcnJvck1lc3NhZ2UgPSB0aGlzLnZpZXdGYWN0b3J5LmNyZWF0ZShzZSwgeyBtZXNzYWdlOiB0aGlzLmkxOG4uZ2V0KFwic2VhcmNoLmVycm9yXCIpIH0pLCB0aGlzLmVycm9yTWVzc2FnZS5yZW5kZXJTeW5jKCksIHRoaXMuY2xlYXJTZWFyY2hCdXR0b24gPSBRdC5yZW5kZXIoe1xuICAgICAgY2xhc3NlczogaixcbiAgICAgIGkxOG46IHRoaXMuaTE4blxuICAgIH0pLCB0aGlzLmNsZWFyU2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gdGhpcy5vbkNsZWFyU2VhcmNoKGUpKSwgdGhpcy5zZWFyY2hGaWVsZCA9IHRoaXMudWkuc2VhcmNoRmllbGQsIHRoaXMuc2hvd1NlYXJjaEljb24oKSwgdGhpcy5lbDtcbiAgfVxuICBzaG93U2VhcmNoSWNvbigpIHtcbiAgICB0aGlzLnNob3dTZWFyY2hBY2Nlc3NvcnkodGhpcy5zZWFyY2hJY29uKTtcbiAgfVxuICBzaG93Q2xlYXJTZWFyY2hCdXR0b24oKSB7XG4gICAgdGhpcy5zaG93U2VhcmNoQWNjZXNzb3J5KHRoaXMuY2xlYXJTZWFyY2hCdXR0b24pO1xuICB9XG4gIHNob3dTZWFyY2hBY2Nlc3NvcnkoZSkge1xuICAgIHRoaXMudWkuc2VhcmNoQWNjZXNzb3J5LnJlcGxhY2VDaGlsZHJlbihlKTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLnNlYXJjaEZpZWxkLnZhbHVlID0gXCJcIiwgdGhpcy5zaG93U2VhcmNoSWNvbigpO1xuICB9XG4gIGZvY3VzKCkge1xuICAgIHRoaXMuc2VhcmNoRmllbGQuZm9jdXMoKTtcbiAgfVxuICBvbkNsZWFyU2VhcmNoKGUpIHtcbiAgICB2YXIgdDtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpLCB0aGlzLnNlYXJjaEZpZWxkLnZhbHVlID0gXCJcIiwgKHQgPSB0aGlzLnJlc3VsdHNDb250YWluZXIpID09IG51bGwgfHwgdC5kZXN0cm95KCksIHRoaXMucmVzdWx0c0NvbnRhaW5lciA9IG51bGwsIHRoaXMuc2hvd1NlYXJjaEljb24oKSwgdGhpcy5ldmVudHMuZW1pdChcImNvbnRlbnQ6c2hvd1wiKSwgdGhpcy5zZWFyY2hGaWVsZC5mb2N1cygpO1xuICB9XG4gIGhhbmRsZVJlc3VsdHNLZXlkb3duKGUpIHtcbiAgICB0aGlzLnJlc3VsdHNDb250YWluZXIgJiYgZS5rZXkgPT09IFwiRXNjYXBlXCIgJiYgdGhpcy5vbkNsZWFyU2VhcmNoKGUpO1xuICB9XG4gIG9uS2V5RG93bihlKSB7XG4gICAgdmFyIHQ7XG4gICAgZS5rZXkgPT09IFwiRXNjYXBlXCIgJiYgdGhpcy5zZWFyY2hGaWVsZC52YWx1ZSA/IHRoaXMub25DbGVhclNlYXJjaChlKSA6IChlLmtleSA9PT0gXCJFbnRlclwiIHx8IGUua2V5ID09PSBcIkFycm93RG93blwiKSAmJiB0aGlzLnJlc3VsdHNDb250YWluZXIgJiYgKGUucHJldmVudERlZmF1bHQoKSwgKHQgPSB0aGlzLnJlc3VsdHNDb250YWluZXIuZWwucXVlcnlTZWxlY3RvcignW3RhYmluZGV4PVwiMFwiXScpKSA9PSBudWxsIHx8IHQuZm9jdXMoKSk7XG4gIH1cbiAgb25TZWFyY2hJbnB1dChlKSB7XG4gICAgdGhpcy5zZWFyY2hGaWVsZC52YWx1ZSA/ICh0aGlzLnNob3dDbGVhclNlYXJjaEJ1dHRvbigpLCB0aGlzLnNlYXJjaCgpKSA6IHRoaXMub25DbGVhclNlYXJjaChlKTtcbiAgfVxuICBhc3luYyBzZWFyY2goKSB7XG4gICAgdmFyIGU7XG4gICAgaWYgKCEhdGhpcy5zZWFyY2hGaWVsZC52YWx1ZSlcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCB0aGlzLmVtb2ppRGF0YS5zZWFyY2hFbW9qaXMoXG4gICAgICAgICAgdGhpcy5zZWFyY2hGaWVsZC52YWx1ZSxcbiAgICAgICAgICB0aGlzLmN1c3RvbUVtb2ppcyxcbiAgICAgICAgICB0aGlzLmVtb2ppVmVyc2lvbixcbiAgICAgICAgICB0aGlzLmNhdGVnb3JpZXNcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmVtaXQoXCJwcmV2aWV3OmhpZGVcIiksIHQubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgbyA9IG5ldyBQZSgpO1xuICAgICAgICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lciA9IHRoaXMudmlld0ZhY3RvcnkuY3JlYXRlKEYsIHtcbiAgICAgICAgICAgIGVtb2ppczogdCxcbiAgICAgICAgICAgIGZ1bGxIZWlnaHQ6ICEwLFxuICAgICAgICAgICAgc2hvd1ZhcmlhbnRzOiAhMCxcbiAgICAgICAgICAgIGxhenlMb2FkZXI6IG9cbiAgICAgICAgICB9KSwgdGhpcy5yZXN1bHRzQ29udGFpbmVyLnJlbmRlclN5bmMoKSwgKGUgPSB0aGlzLnJlc3VsdHNDb250YWluZXIpICE9IG51bGwgJiYgZS5lbCAmJiAoby5vYnNlcnZlKHRoaXMucmVzdWx0c0NvbnRhaW5lci5lbCksIHRoaXMucmVzdWx0c0NvbnRhaW5lci5zZXRBY3RpdmUoITAsIHsgcm93OiAwLCBvZmZzZXQ6IDAgfSwgITEpLCB0aGlzLnJlc3VsdHNDb250YWluZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGkpID0+IHRoaXMuaGFuZGxlUmVzdWx0c0tleWRvd24oaSkpLCB0aGlzLmV2ZW50cy5lbWl0KFwiY29udGVudDpzaG93XCIsIHRoaXMucmVzdWx0c0NvbnRhaW5lcikpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiY29udGVudDpzaG93XCIsIHRoaXMubm90Rm91bmRNZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiY29udGVudDpzaG93XCIsIHRoaXMuZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgfVxufVxuY29uc3QgZXMgPSBuZXcgdSgoeyBjbGFzc2VzOiBzIH0pID0+IGBcbiAgPGRpdiBjbGFzcz1cIiR7cy52YXJpYW50T3ZlcmxheX1cIj5cbiAgICA8ZGl2IGNsYXNzPVwiJHtzLnZhcmlhbnRQb3B1cH1cIj5cbiAgICAgIDxkaXYgZGF0YS12aWV3PVwiZW1vamlzXCIgZGF0YS1yZW5kZXI9XCJzeW5jXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuYCksIHBlID0gZyhcbiAgXCJ2YXJpYW50T3ZlcmxheVwiLFxuICBcInZhcmlhbnRQb3B1cFwiXG4pLCBxID0ge1xuICBlYXNpbmc6IFwiZWFzZS1pbi1vdXRcIixcbiAgZHVyYXRpb246IDI1MCxcbiAgZmlsbDogXCJib3RoXCJcbn0sIHllID0ge1xuICBvcGFjaXR5OiBbMCwgMV1cbn0sIGZlID0ge1xuICBvcGFjaXR5OiBbMCwgMV0sXG4gIHRyYW5zZm9ybTogW1wic2NhbGUzZCgwLjgsIDAuOCwgMC44KVwiLCBcInNjYWxlM2QoMSwgMSwgMSlcIl1cbn07XG5jbGFzcyB0cyBleHRlbmRzIGMge1xuICBjb25zdHJ1Y3Rvcih7IGVtb2ppOiBlLCBwYXJlbnQ6IHQgfSkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGU6IGVzLCBjbGFzc2VzOiBwZSwgcGFyZW50OiB0IH0pLCB0aGlzLmZvY3VzZWRFbW9qaUluZGV4ID0gMCwgdGhpcy5mb2N1c1RyYXAgPSBuZXcgVWUoKSwgdGhpcy5hbmltYXRlU2hvdyA9ICgpID0+IFByb21pc2UuYWxsKFtcbiAgICAgIEkodGhpcy5lbCwgeWUsIHEsIHRoaXMub3B0aW9ucyksXG4gICAgICBJKHRoaXMudWkucG9wdXAsIGZlLCBxLCB0aGlzLm9wdGlvbnMpXG4gICAgXSksIHRoaXMuZW1vamkgPSBlO1xuICB9XG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy51aUVsZW1lbnRzID0ge1xuICAgICAgcG9wdXA6IGMuYnlDbGFzcyhwZS52YXJpYW50UG9wdXApXG4gICAgfSwgdGhpcy51aUV2ZW50cyA9IFtcbiAgICAgIGMudWlFdmVudChcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2spLFxuICAgICAgYy51aUV2ZW50KFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleWRvd24pXG4gICAgXSwgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIGFuaW1hdGVIaWRlKCkge1xuICAgIGNvbnN0IGUgPSB7IC4uLnEsIGRpcmVjdGlvbjogXCJyZXZlcnNlXCIgfTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgSSh0aGlzLmVsLCB5ZSwgZSwgdGhpcy5vcHRpb25zKSxcbiAgICAgIEkodGhpcy51aS5wb3B1cCwgZmUsIGUsIHRoaXMub3B0aW9ucylcbiAgICBdKTtcbiAgfVxuICBhc3luYyBoaWRlKCkge1xuICAgIGF3YWl0IHRoaXMuYW5pbWF0ZUhpZGUoKSwgdGhpcy5ldmVudHMuZW1pdChcInZhcmlhbnRQb3B1cDpoaWRlXCIpO1xuICB9XG4gIGhhbmRsZUtleWRvd24oZSkge1xuICAgIGUua2V5ID09PSBcIkVzY2FwZVwiICYmICh0aGlzLmhpZGUoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSk7XG4gIH1cbiAgaGFuZGxlQ2xpY2soZSkge1xuICAgIHRoaXMudWkucG9wdXAuY29udGFpbnMoZS50YXJnZXQpIHx8IHRoaXMuaGlkZSgpO1xuICB9XG4gIGdldEVtb2ppKGUpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlZEVtb2ppc1tlXTtcbiAgfVxuICBzZXRGb2N1c2VkRW1vamkoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldEVtb2ppKHRoaXMuZm9jdXNlZEVtb2ppSW5kZXgpO1xuICAgIHQudGFiSW5kZXggPSAtMSwgdGhpcy5mb2N1c2VkRW1vamlJbmRleCA9IGU7XG4gICAgY29uc3QgbyA9IHRoaXMuZ2V0RW1vamkodGhpcy5mb2N1c2VkRW1vamlJbmRleCk7XG4gICAgby50YWJJbmRleCA9IDAsIG8uZm9jdXMoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZW1vamlDb250YWluZXIuZGVzdHJveSgpLCB0aGlzLmZvY3VzVHJhcC5kZWFjdGl2YXRlKCksIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxuICByZW5kZXJTeW5jKCkge1xuICAgIGNvbnN0IGUgPSB7XG4gICAgICAuLi50aGlzLmVtb2ppLFxuICAgICAgc2tpbnM6IG51bGxcbiAgICB9LCB0ID0gKHRoaXMuZW1vamkuc2tpbnMgfHwgW10pLm1hcCgoaSkgPT4gKHtcbiAgICAgIC4uLmksXG4gICAgICBsYWJlbDogdGhpcy5lbW9qaS5sYWJlbCxcbiAgICAgIHRhZ3M6IHRoaXMuZW1vamkudGFnc1xuICAgIH0pKSwgbyA9IFtlLCAuLi50XTtcbiAgICByZXR1cm4gdGhpcy5lbW9qaUNvbnRhaW5lciA9IHRoaXMudmlld0ZhY3RvcnkuY3JlYXRlKEYsIHtcbiAgICAgIGVtb2ppczogbyxcbiAgICAgIHByZXZpZXc6ICExXG4gICAgfSksIHN1cGVyLnJlbmRlclN5bmMoeyBlbW9qaXM6IHRoaXMuZW1vamlDb250YWluZXIgfSksIG8ubGVuZ3RoIDwgdGhpcy5vcHRpb25zLmVtb2ppc1BlclJvdyAmJiB0aGlzLmVsLnN0eWxlLnNldFByb3BlcnR5KFwiLS1lbW9qaXMtcGVyLXJvd1wiLCBvLmxlbmd0aC50b1N0cmluZygpKSwgdGhpcy5lbDtcbiAgfVxuICBhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLmVtb2ppQ29udGFpbmVyLnNldEFjdGl2ZSghMCwgeyByb3c6IDAsIG9mZnNldDogMCB9LCAhMCksIHRoaXMuZm9jdXNUcmFwLmFjdGl2YXRlKHRoaXMuZWwpO1xuICB9XG59XG5jb25zdCBzcyA9IG5ldyB1KCh7IGNsYXNzZXM6IHMsIGkxOG46IGUsIGNhdGVnb3J5OiB0LCBwaWNrZXJJZDogbywgaWNvbjogaSB9KSA9PiBgXG48bGkgY2xhc3M9XCIke3MuY2F0ZWdvcnlUYWJ9XCI+XG4gIDxidXR0b25cbiAgICBhcmlhLXNlbGVjdGVkPVwiZmFsc2VcIlxuICAgIHJvbGU9XCJ0YWJcIlxuICAgIGNsYXNzPVwiJHtzLmNhdGVnb3J5QnV0dG9ufVwiXG4gICAgdGFiaW5kZXg9XCItMVwiXG4gICAgdGl0bGU9XCIke2UuZ2V0KGBjYXRlZ29yaWVzLiR7dC5rZXl9YCwgdC5tZXNzYWdlIHx8IHQua2V5KX1cIlxuICAgIHR5cGU9XCJidXR0b25cIlxuICAgIGRhdGEtY2F0ZWdvcnk9XCIke3Qua2V5fVwiXG4gICAgaWQ9XCIke299LWNhdGVnb3J5LSR7dC5rZXl9XCJcbiAgPlxuICAgIDxpIGRhdGEtaWNvbj1cIiR7aX1cIj48L2k+XG48L2xpPlxuYCksIEcgPSBnKFxuICBcImNhdGVnb3J5VGFiXCIsXG4gIFwiY2F0ZWdvcnlUYWJBY3RpdmVcIixcbiAgXCJjYXRlZ29yeUJ1dHRvblwiXG4pO1xuY2xhc3Mgb3MgZXh0ZW5kcyBjIHtcbiAgY29uc3RydWN0b3IoeyBjYXRlZ29yeTogZSwgaWNvbjogdCB9KSB7XG4gICAgc3VwZXIoeyB0ZW1wbGF0ZTogc3MsIGNsYXNzZXM6IEcgfSksIHRoaXMuaXNBY3RpdmUgPSAhMSwgdGhpcy5jYXRlZ29yeSA9IGUsIHRoaXMuaWNvbiA9IHQ7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnVpRWxlbWVudHMgPSB7XG4gICAgICBidXR0b246IGMuYnlDbGFzcyhHLmNhdGVnb3J5QnV0dG9uKVxuICAgIH0sIHRoaXMudWlFdmVudHMgPSBbXG4gICAgICBjLmNoaWxkRXZlbnQoXCJidXR0b25cIiwgXCJjbGlja1wiLCB0aGlzLnNlbGVjdENhdGVnb3J5KSxcbiAgICAgIGMuY2hpbGRFdmVudChcImJ1dHRvblwiLCBcImZvY3VzXCIsIHRoaXMuc2VsZWN0Q2F0ZWdvcnkpXG4gICAgXSwgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIHJlbmRlclN5bmMoKSB7XG4gICAgcmV0dXJuIHN1cGVyLnJlbmRlclN5bmMoe1xuICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICBpY29uOiB0aGlzLmljb25cbiAgICB9KSwgdGhpcy51aS5idXR0b24uYXJpYVNlbGVjdGVkID0gXCJmYWxzZVwiLCB0aGlzLmVsO1xuICB9XG4gIHNldEFjdGl2ZShlLCB0ID0ge30pIHtcbiAgICBjb25zdCB7IGNoYW5nZUZvY3VzYWJsZTogbywgcGVyZm9ybUZvY3VzOiBpLCBzY3JvbGw6IHIgfSA9IHtcbiAgICAgIGNoYW5nZUZvY3VzYWJsZTogITAsXG4gICAgICBwZXJmb3JtRm9jdXM6ICEwLFxuICAgICAgc2Nyb2xsOiAhMCxcbiAgICAgIC4uLnRcbiAgICB9O1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnRvZ2dsZShHLmNhdGVnb3J5VGFiQWN0aXZlLCBlKSwgbyAmJiAodGhpcy51aS5idXR0b24udGFiSW5kZXggPSBlID8gMCA6IC0xLCB0aGlzLnVpLmJ1dHRvbi5hcmlhU2VsZWN0ZWQgPSBlLnRvU3RyaW5nKCkpLCBlICYmIGkgJiYgKHRoaXMudWkuYnV0dG9uLmZvY3VzKCksIHIgJiYgdGhpcy5ldmVudHMuZW1pdChcImNhdGVnb3J5OnNlbGVjdFwiLCB0aGlzLmNhdGVnb3J5LmtleSwgeyBzY3JvbGw6IFwiYW5pbWF0ZVwiLCBmb2N1czogXCJidXR0b25cIiwgcGVyZm9ybUZvY3VzOiAhMSB9KSksIHRoaXMuaXNBY3RpdmUgPSBlO1xuICB9XG4gIHNlbGVjdENhdGVnb3J5KCkge1xuICAgIHRoaXMuaXNBY3RpdmUgfHwgdGhpcy5ldmVudHMuZW1pdChcImNhdGVnb3J5OnNlbGVjdFwiLCB0aGlzLmNhdGVnb3J5LmtleSwgeyBzY3JvbGw6IFwiYW5pbWF0ZVwiLCBmb2N1czogXCJidXR0b25cIiwgcGVyZm9ybUZvY3VzOiAhMCB9KTtcbiAgfVxufVxuY29uc3QgaXMgPSBuZXcgdSgoeyBjbGFzc2VzOiBzIH0pID0+IGBcbiAgPGRpdiBjbGFzcz1cIiR7cy5jYXRlZ29yeUJ1dHRvbnNDb250YWluZXJ9XCI+XG4gICAgPHVsIHJvbGU9XCJ0YWJsaXN0XCIgY2xhc3M9XCIke3MuY2F0ZWdvcnlCdXR0b25zfVwiPlxuICAgICAgPGRpdiBkYXRhLXBsYWNlaG9sZGVyPVwidGFic1wiPjwvZGl2PlxuICAgIDwvdWw+XG4gIDwvZGl2PlxuYCksIHJzID0gZyhcImNhdGVnb3J5QnV0dG9uc1wiLCBcImNhdGVnb3J5QnV0dG9uc0NvbnRhaW5lclwiKTtcbmNsYXNzIGFzIGV4dGVuZHMgYyB7XG4gIGNvbnN0cnVjdG9yKHsgY2F0ZWdvcmllczogZSB9KSB7XG4gICAgc3VwZXIoeyB0ZW1wbGF0ZTogaXMsIGNsYXNzZXM6IHJzIH0pLCB0aGlzLmFjdGl2ZUNhdGVnb3J5SW5kZXggPSAwLCB0aGlzLmNhdGVnb3JpZXMgPSBlO1xuICB9XG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5rZXlCaW5kaW5ncyA9IHtcbiAgICAgIEFycm93TGVmdDogdGhpcy5zdGVwU2VsZWN0ZWRUYWIoLTEpLFxuICAgICAgQXJyb3dSaWdodDogdGhpcy5zdGVwU2VsZWN0ZWRUYWIoMSlcbiAgICB9LCB0aGlzLnVpRXZlbnRzID0gW1xuICAgICAgYy51aUV2ZW50KFwic2Nyb2xsXCIsIHRoaXMuY2hlY2tPdmVyZmxvdylcbiAgICBdLCBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cbiAgY2hlY2tPdmVyZmxvdygpIHtcbiAgICBjb25zdCBlID0gTWF0aC5hYnModGhpcy5lbC5zY3JvbGxMZWZ0IC0gKHRoaXMuZWwuc2Nyb2xsV2lkdGggLSB0aGlzLmVsLm9mZnNldFdpZHRoKSkgPiAxLCB0ID0gdGhpcy5lbC5zY3JvbGxMZWZ0ID4gMDtcbiAgICB0aGlzLmVsLmNsYXNzTmFtZSA9IFwiY2F0ZWdvcnlCdXR0b25zQ29udGFpbmVyXCIsIHQgJiYgZSA/IHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcImhhcy1vdmVyZmxvdy1ib3RoXCIpIDogdCA/IHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcImhhcy1vdmVyZmxvdy1sZWZ0XCIpIDogZSAmJiB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoXCJoYXMtb3ZlcmZsb3ctcmlnaHRcIik7XG4gIH1cbiAgcmVuZGVyU3luYygpIHtcbiAgICByZXR1cm4gdGhpcy50YWJWaWV3cyA9IHRoaXMuY2F0ZWdvcmllcy5tYXAoKGUpID0+IHRoaXMudmlld0ZhY3RvcnkuY3JlYXRlKG9zLCB7IGNhdGVnb3J5OiBlLCBpY29uOiBEW2Uua2V5XSB9KSksIHN1cGVyLnJlbmRlclN5bmMoe1xuICAgICAgdGFiczogdGhpcy50YWJWaWV3cy5tYXAoKGUpID0+IGUucmVuZGVyU3luYygpKVxuICAgIH0pLCB0aGlzLmVsO1xuICB9XG4gIGdldCBjdXJyZW50Q2F0ZWdvcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2F0ZWdvcmllc1t0aGlzLmFjdGl2ZUNhdGVnb3J5SW5kZXhdO1xuICB9XG4gIGdldCBjdXJyZW50VGFiVmlldygpIHtcbiAgICByZXR1cm4gdGhpcy50YWJWaWV3c1t0aGlzLmFjdGl2ZUNhdGVnb3J5SW5kZXhdO1xuICB9XG4gIHNldEFjdGl2ZVRhYihlLCB0ID0ge30pIHtcbiAgICB0aGlzLmNoZWNrT3ZlcmZsb3coKTtcbiAgICBjb25zdCBvID0gdGhpcy5jdXJyZW50VGFiVmlldywgaSA9IHRoaXMudGFiVmlld3NbZV07XG4gICAgby5zZXRBY3RpdmUoITEsIHQpLCBpLnNldEFjdGl2ZSghMCwgdCksIHRoaXMuYWN0aXZlQ2F0ZWdvcnlJbmRleCA9IGU7XG4gIH1cbiAgZ2V0VGFyZ2V0Q2F0ZWdvcnkoZSkge1xuICAgIHJldHVybiBlIDwgMCA/IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGggLSAxIDogZSA+PSB0aGlzLmNhdGVnb3JpZXMubGVuZ3RoID8gMCA6IGU7XG4gIH1cbiAgc3RlcFNlbGVjdGVkVGFiKGUpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgdCA9IHRoaXMuYWN0aXZlQ2F0ZWdvcnlJbmRleCArIGU7XG4gICAgICB0aGlzLnNldEFjdGl2ZVRhYih0aGlzLmdldFRhcmdldENhdGVnb3J5KHQpLCB7XG4gICAgICAgIGNoYW5nZUZvY3VzYWJsZTogITAsXG4gICAgICAgIHBlcmZvcm1Gb2N1czogITBcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn1cbmNvbnN0IG5zID0gW1xuICB7IHZlcnNpb246IDE1LCBlbW9qaTogU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI5NzY4KSB9LFxuICB7IHZlcnNpb246IDE0LCBlbW9qaTogU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI4NzMzKSB9LFxuICB7IHZlcnNpb246IDEzLCBlbW9qaTogU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI5NzI5KSB9LFxuICB7IHZlcnNpb246IDEyLCBlbW9qaTogU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI5NDQ5KSB9LFxuICB7IHZlcnNpb246IDExLCBlbW9qaTogU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI5NDYzKSB9LFxuICB7IHZlcnNpb246IDUsIGVtb2ppOiBTdHJpbmcuZnJvbUNvZGVQb2ludCgxMjkzMjIpIH0sXG4gIHsgdmVyc2lvbjogNCwgZW1vamk6IFN0cmluZy5mcm9tQ29kZVBvaW50KDk4NzcpIH0sXG4gIHsgdmVyc2lvbjogMywgZW1vamk6IFN0cmluZy5mcm9tQ29kZVBvaW50KDEyOTMxNCkgfSxcbiAgeyB2ZXJzaW9uOiAyLCBlbW9qaTogU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI4NDg4KSB9LFxuICB7IHZlcnNpb246IDEsIGVtb2ppOiBTdHJpbmcuZnJvbUNvZGVQb2ludCgxMjg1MTIpIH1cbl07XG5mdW5jdGlvbiBjcygpIHtcbiAgdmFyIGU7XG4gIGNvbnN0IHMgPSBucy5maW5kKCh0KSA9PiBscyh0LmVtb2ppKSk7XG4gIHJldHVybiAoZSA9IHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMudmVyc2lvbikgIT0gbnVsbCA/IGUgOiAxO1xufVxuZnVuY3Rpb24gbHMocykge1xuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gIGlmIChlKVxuICAgIHJldHVybiBlLnRleHRCYXNlbGluZSA9IFwidG9wXCIsIGUuZm9udCA9IFwiMzJweCBBcmlhbFwiLCBlLmZpbGxUZXh0KHMsIDAsIDApLCBlLmdldEltYWdlRGF0YSgxNiwgMTYsIDEsIDEpLmRhdGFbMF0gIT09IDA7XG59XG5mdW5jdGlvbiBXKHMsIGUpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IHMgfSwgKCkgPT4gZSkuam9pbihcIlwiKTtcbn1cbmZ1bmN0aW9uIGhzKHsgc2hvd0hlYWRlcjogcywgY2xhc3NlczogZSB9KSB7XG4gIHJldHVybiBzID8gYFxuICAgIDxoZWFkZXIgY2xhc3M9XCIke2UuaGVhZGVyfVwiPlxuICAgICAgPGRpdiBkYXRhLXZpZXc9XCJzZWFyY2hcIj48L2Rpdj5cbiAgICAgIDxkaXYgZGF0YS12aWV3PVwiY2F0ZWdvcnlUYWJzXCIgZGF0YS1yZW5kZXI9XCJzeW5jXCI+PC9kaXY+XG4gICAgPC9oZWFkZXI+XG4gIGAgOiBcIlwiO1xufVxuZnVuY3Rpb24gZHMocykge1xuICBjb25zdCB7IGNsYXNzZXM6IGUsIHRoZW1lOiB0LCBjbGFzc05hbWU6IG8gPSBcIlwiIH0gPSBzO1xuICByZXR1cm4gYFxuICAgIDxkaXYgY2xhc3M9XCJwaWNtby1waWNrZXIgJHtlLnBpY2tlcn0gJHt0fSAke299XCI+XG4gICAgICAke2hzKHMpfVxuICAgICAgPGRpdiBjbGFzcz1cIiR7ZS5jb250ZW50fVwiPlxuICAgICAgICA8ZGl2IGRhdGEtdmlldz1cImVtb2ppQXJlYVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGRhdGEtdmlldz1cInByZXZpZXdcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbn1cbmZ1bmN0aW9uIG1zKHMpIHtcbiAgY29uc3QgeyBlbW9qaUNvdW50OiBlLCBjbGFzc2VzOiB0LCB0aGVtZTogbywgY2xhc3NOYW1lOiBpLCBjYXRlZ29yeUNvdW50OiByIH0gPSBzLCBhID0gKHsgc2hvd1NlYXJjaDogZCwgY2xhc3NlczogaCB9KSA9PiBkID8gYFxuICAgIDxkaXYgY2xhc3M9XCIke2guc2VhcmNoU2tlbGV0b259XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiJHtoLnNlYXJjaElucHV0fSAke2gucGxhY2Vob2xkZXJ9XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIGAgOiBcIlwiLCBuID0gKHsgc2hvd0NhdGVnb3J5VGFiczogZCwgY2xhc3NlczogaCB9KSA9PiBkID8gYFxuICAgIDxkaXYgY2xhc3M9XCIke2guY2F0ZWdvcnlUYWJzU2tlbGV0b259XCI+XG4gICAgICAke1cociwgYDxkaXYgY2xhc3M9XCIke2gucGxhY2Vob2xkZXJ9ICR7aC5jYXRlZ29yeVRhYn1cIj48L2Rpdj5gKX1cbiAgICA8L2Rpdj5cbiAgYCA6IFwiXCIsIGwgPSAoeyBzaG93SGVhZGVyOiBkLCBjbGFzc2VzOiBoIH0pID0+IGQgPyBgXG4gICAgPGhlYWRlciBjbGFzcz1cIiR7aC5oZWFkZXJTa2VsZXRvbn1cIj5cbiAgICAgICR7YShzKX1cbiAgICAgICR7bihzKX1cbiAgICA8L2hlYWRlcj5cbiAgYCA6IFwiXCIsIG0gPSAoeyBzaG93UHJldmlldzogZCwgY2xhc3NlczogaCB9KSA9PiBkID8gYFxuICAgIDxkaXYgY2xhc3M9XCIke2gucHJldmlld1NrZWxldG9ufVwiPlxuICAgICAgPGRpdiBjbGFzcz1cIiR7aC5wbGFjZWhvbGRlcn0gJHtoLnByZXZpZXdFbW9qaX1cIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCIke2gucGxhY2Vob2xkZXJ9ICR7aC5wcmV2aWV3TmFtZX1cIj48L2Rpdj5cbiAgICAgIDx1bCBjbGFzcz1cIiR7aC50YWdMaXN0fVwiPlxuICAgICAgICAke1coMywgYDxsaSBjbGFzcz1cIiR7aC5wbGFjZWhvbGRlcn0gJHtoLnRhZ31cIj48L2xpPmApfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgYCA6IFwiXCI7XG4gIHJldHVybiBgXG4gICAgPGRpdiBjbGFzcz1cInBpY21vLXBpY2tlciAke3Quc2tlbGV0b259ICR7dC5waWNrZXJ9ICR7b30gJHtpfVwiPlxuICAgICAgJHtsKHMpfVxuICAgICAgPGRpdiBjbGFzcz1cIiR7dC5jb250ZW50U2tlbGV0b259XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3QucGxhY2Vob2xkZXJ9ICR7dC5jYXRlZ29yeU5hbWV9XCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3QuZW1vamlHcmlkfVwiPlxuICAgICAgICAgICR7VyhlLCBgPGRpdiBjbGFzcz1cIiR7dC5wbGFjZWhvbGRlcn0gJHt0LmVtb2ppfVwiPjwvZGl2PmApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgJHttKHMpfVxuICAgIDwvZGl2PlxuICBgO1xufVxuY29uc3QgdXMgPSBuZXcgdSgocykgPT4gcy5pc0xvYWRlZCA/IGRzKHMpIDogbXMocykpLCBUID0gZyhcbiAgXCJwaWNrZXJcIixcbiAgXCJza2VsZXRvblwiLFxuICBcInBsYWNlaG9sZGVyXCIsXG4gIFwic2VhcmNoU2tlbGV0b25cIixcbiAgXCJzZWFyY2hJbnB1dFwiLFxuICBcImNhdGVnb3J5VGFic1NrZWxldG9uXCIsXG4gIFwiaGVhZGVyU2tlbGV0b25cIixcbiAgXCJjYXRlZ29yeVRhYlwiLFxuICBcImNvbnRlbnRTa2VsZXRvblwiLFxuICBcImNhdGVnb3J5TmFtZVwiLFxuICBcImVtb2ppR3JpZFwiLFxuICBcImVtb2ppXCIsXG4gIFwicHJldmlld1NrZWxldG9uXCIsXG4gIFwicHJldmlld0Vtb2ppXCIsXG4gIFwicHJldmlld05hbWVcIixcbiAgXCJ0YWdMaXN0XCIsXG4gIFwidGFnXCIsXG4gIFwib3ZlcmxheVwiLFxuICBcImNvbnRlbnRcIixcbiAgXCJmdWxsSGVpZ2h0XCIsXG4gIFwicGx1Z2luQ29udGFpbmVyXCIsXG4gIFwiaGVhZGVyXCJcbiksIFIgPSB7XG4gIGVtb2ppc1BlclJvdzogXCItLWVtb2ppcy1wZXItcm93XCIsXG4gIHZpc2libGVSb3dzOiBcIi0tcm93LWNvdW50XCIsXG4gIGVtb2ppU2l6ZTogXCItLWVtb2ppLXNpemVcIlxufTtcbmNsYXNzIGdzIGV4dGVuZHMgYyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGU6IHVzLCBjbGFzc2VzOiBUIH0pLCB0aGlzLnBpY2tlclJlYWR5ID0gITEsIHRoaXMuZXh0ZXJuYWxFdmVudHMgPSBuZXcgU3QoKSwgdGhpcy51cGRhdGVycyA9IHtcbiAgICAgIHN0eWxlUHJvcGVydHk6IChlKSA9PiAodCkgPT4gdGhpcy5lbC5zdHlsZS5zZXRQcm9wZXJ0eShSW2VdLCB0LnRvU3RyaW5nKCkpLFxuICAgICAgdGhlbWU6IChlKSA9PiB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLm9wdGlvbnMudGhlbWUpLCB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoZSk7XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiAoZSkgPT4ge1xuICAgICAgICB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lICYmIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKSwgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKGUpO1xuICAgICAgfSxcbiAgICAgIGVtb2ppc1BlclJvdzogdGhpcy51cGRhdGVTdHlsZVByb3BlcnR5LmJpbmQodGhpcywgXCJlbW9qaXNQZXJSb3dcIiksXG4gICAgICBlbW9qaVNpemU6IHRoaXMudXBkYXRlU3R5bGVQcm9wZXJ0eS5iaW5kKHRoaXMsIFwiZW1vamlTaXplXCIpLFxuICAgICAgdmlzaWJsZVJvd3M6IHRoaXMudXBkYXRlU3R5bGVQcm9wZXJ0eS5iaW5kKHRoaXMsIFwidmlzaWJsZVJvd3NcIilcbiAgICB9O1xuICB9XG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy51aUVsZW1lbnRzID0ge1xuICAgICAgcGlja2VyQ29udGVudDogYy5ieUNsYXNzKFQuY29udGVudCksXG4gICAgICBoZWFkZXI6IGMuYnlDbGFzcyhULmhlYWRlcilcbiAgICB9LCB0aGlzLnVpRXZlbnRzID0gW1xuICAgICAgYy51aUV2ZW50KFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24pXG4gICAgXSwgdGhpcy5hcHBFdmVudHMgPSB7XG4gICAgICBlcnJvcjogdGhpcy5vbkVycm9yLFxuICAgICAgcmVpbml0aWFsaXplOiB0aGlzLnJlaW5pdGlhbGl6ZSxcbiAgICAgIFwiZGF0YTpyZWFkeVwiOiB0aGlzLm9uRGF0YVJlYWR5LFxuICAgICAgXCJjb250ZW50OnNob3dcIjogdGhpcy5zaG93Q29udGVudCxcbiAgICAgIFwidmFyaWFudFBvcHVwOmhpZGVcIjogdGhpcy5oaWRlVmFyaWFudFBvcHVwLFxuICAgICAgXCJlbW9qaTpzZWxlY3RcIjogdGhpcy5zZWxlY3RFbW9qaVxuICAgIH0sIHN1cGVyLmluaXRpYWxpemUoKSwgdGhpcy5vcHRpb25zLnJlY2VudHNQcm92aWRlcjtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHZhciBlLCB0O1xuICAgIHN1cGVyLmRlc3Ryb3koKSwgKGUgPSB0aGlzLnNlYXJjaCkgPT0gbnVsbCB8fCBlLmRlc3Ryb3koKSwgdGhpcy5lbW9qaUFyZWEuZGVzdHJveSgpLCAodCA9IHRoaXMuY2F0ZWdvcnlUYWJzKSA9PSBudWxsIHx8IHQuZGVzdHJveSgpLCB0aGlzLmV2ZW50cy5yZW1vdmVBbGwoKSwgdGhpcy5leHRlcm5hbEV2ZW50cy5yZW1vdmVBbGwoKTtcbiAgfVxuICBjbGVhclJlY2VudHMoKSB7XG4gICAgdGhpcy5vcHRpb25zLnJlY2VudHNQcm92aWRlci5jbGVhcigpO1xuICB9XG4gIGFkZEV2ZW50TGlzdGVuZXIoZSwgdCkge1xuICAgIHRoaXMuZXh0ZXJuYWxFdmVudHMub24oZSwgdCk7XG4gIH1cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCB0KSB7XG4gICAgdGhpcy5leHRlcm5hbEV2ZW50cy5vZmYoZSwgdCk7XG4gIH1cbiAgaW5pdGlhbGl6ZVBpY2tlclZpZXcoKSB7XG4gICAgdGhpcy5waWNrZXJSZWFkeSAmJiAodGhpcy5zaG93Q29udGVudCgpLCB0aGlzLmVtb2ppQXJlYS5yZXNldCghMSkpO1xuICB9XG4gIGhhbmRsZUtleURvd24oZSkge1xuICAgIGNvbnN0IHQgPSBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5O1xuICAgIGUua2V5ID09PSBcInNcIiAmJiB0ICYmIHRoaXMuc2VhcmNoICYmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuc2VhcmNoLmZvY3VzKCkpO1xuICB9XG4gIGJ1aWxkQ2hpbGRWaWV3cygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnNob3dQcmV2aWV3ICYmICh0aGlzLnByZXZpZXcgPSB0aGlzLnZpZXdGYWN0b3J5LmNyZWF0ZShZdCkpLCB0aGlzLm9wdGlvbnMuc2hvd1NlYXJjaCAmJiAodGhpcy5zZWFyY2ggPSB0aGlzLnZpZXdGYWN0b3J5LmNyZWF0ZShadCwge1xuICAgICAgY2F0ZWdvcmllczogdGhpcy5jYXRlZ29yaWVzLFxuICAgICAgZW1vamlWZXJzaW9uOiB0aGlzLmVtb2ppVmVyc2lvblxuICAgIH0pKSwgdGhpcy5vcHRpb25zLnNob3dDYXRlZ29yeVRhYnMgJiYgKHRoaXMuY2F0ZWdvcnlUYWJzID0gdGhpcy52aWV3RmFjdG9yeS5jcmVhdGUoYXMsIHtcbiAgICAgIGNhdGVnb3JpZXM6IHRoaXMuY2F0ZWdvcmllc1xuICAgIH0pKSwgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMuZW1vamlBcmVhID0gdGhpcy52aWV3RmFjdG9yeS5jcmVhdGUoVXQsIHtcbiAgICAgIGNhdGVnb3J5VGFiczogdGhpcy5jYXRlZ29yeVRhYnMsXG4gICAgICBjYXRlZ29yaWVzOiB0aGlzLmNhdGVnb3JpZXMsXG4gICAgICBlbW9qaVZlcnNpb246IHRoaXMuZW1vamlWZXJzaW9uXG4gICAgfSksIFt0aGlzLnByZXZpZXcsIHRoaXMuc2VhcmNoLCB0aGlzLmVtb2ppQXJlYSwgdGhpcy5jYXRlZ29yeVRhYnNdO1xuICB9XG4gIHNldFN0eWxlUHJvcGVydGllcygpIHtcbiAgICB0aGlzLm9wdGlvbnMuc2hvd1NlYXJjaCB8fCB0aGlzLmVsLnN0eWxlLnNldFByb3BlcnR5KFwiLS1zZWFyY2gtaGVpZ2h0LWZ1bGxcIiwgXCIwcHhcIiksIHRoaXMub3B0aW9ucy5zaG93Q2F0ZWdvcnlUYWJzIHx8ICh0aGlzLmVsLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYXRlZ29yeS10YWJzLWhlaWdodFwiLCBcIjBweFwiKSwgdGhpcy5lbC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2F0ZWdvcnktdGFicy1vZmZzZXRcIiwgXCIwcHhcIikpLCB0aGlzLm9wdGlvbnMuc2hvd1ByZXZpZXcgfHwgdGhpcy5lbC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tZW1vamktcHJldmlldy1oZWlnaHQtZnVsbFwiLCBcIjBweFwiKSwgT2JqZWN0LmtleXMoUikuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5vcHRpb25zW2VdICYmIHRoaXMuZWwuc3R5bGUuc2V0UHJvcGVydHkoUltlXSwgdGhpcy5vcHRpb25zW2VdLnRvU3RyaW5nKCkpO1xuICAgIH0pO1xuICB9XG4gIHVwZGF0ZVN0eWxlUHJvcGVydHkoZSwgdCkge1xuICAgIHRoaXMuZWwuc3R5bGUuc2V0UHJvcGVydHkoUltlXSwgdC50b1N0cmluZygpKTtcbiAgfVxuICByZWluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5yZW5kZXJTeW5jKCk7XG4gIH1cbiAgb25FcnJvcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMudmlld0ZhY3RvcnkuY3JlYXRlKFd0LCB7IG1lc3NhZ2U6IHRoaXMuaTE4bi5nZXQoXCJlcnJvci5sb2FkXCIpIH0pLCBvID0gdGhpcy5lbC5vZmZzZXRIZWlnaHQgfHwgMzc1O1xuICAgIHRocm93IHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gYCR7b31weGAsIHRoaXMuZWwucmVwbGFjZUNoaWxkcmVuKHQucmVuZGVyU3luYygpKSwgZTtcbiAgfVxuICBhc3luYyBvbkRhdGFSZWFkeShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZWw7XG4gICAgdHJ5IHtcbiAgICAgIGUgPyB0aGlzLmVtb2ppRGF0YSA9IGUgOiBhd2FpdCB0aGlzLmVtb2ppRGF0YVByb21pc2UsIHRoaXMub3B0aW9ucy5lbW9qaVZlcnNpb24gPT09IFwiYXV0b1wiID8gdGhpcy5lbW9qaVZlcnNpb24gPSBjcygpIHx8IHBhcnNlRmxvYXQoJGUpIDogdGhpcy5lbW9qaVZlcnNpb24gPSB0aGlzLm9wdGlvbnMuZW1vamlWZXJzaW9uLCB0aGlzLmNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLmVtb2ppRGF0YS5nZXRDYXRlZ29yaWVzKHRoaXMub3B0aW9ucyk7XG4gICAgICBjb25zdCBbbywgaSwgciwgYV0gPSB0aGlzLmJ1aWxkQ2hpbGRWaWV3cygpO1xuICAgICAgYXdhaXQgc3VwZXIucmVuZGVyKHtcbiAgICAgICAgaXNMb2FkZWQ6ICEwLFxuICAgICAgICBzZWFyY2g6IGksXG4gICAgICAgIGNhdGVnb3J5VGFiczogYSxcbiAgICAgICAgZW1vamlBcmVhOiByLFxuICAgICAgICBwcmV2aWV3OiBvLFxuICAgICAgICBzaG93SGVhZGVyOiBCb29sZWFuKHRoaXMuc2VhcmNoIHx8IHRoaXMuY2F0ZWdvcnlUYWJzKSxcbiAgICAgICAgdGhlbWU6IHRoaXMub3B0aW9ucy50aGVtZSxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lXG4gICAgICB9KSwgdGhpcy5lbC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2F0ZWdvcnktY291bnRcIiwgdGhpcy5jYXRlZ29yaWVzLmxlbmd0aC50b1N0cmluZygpKSwgdGhpcy5waWNrZXJSZWFkeSA9ICEwLCB0LnJlcGxhY2VXaXRoKHRoaXMuZWwpLCB0aGlzLnNldFN0eWxlUHJvcGVydGllcygpLCB0aGlzLmluaXRpYWxpemVQaWNrZXJWaWV3KCksIHRoaXMuc2V0SW5pdGlhbEZvY3VzKCksIHRoaXMuZXh0ZXJuYWxFdmVudHMuZW1pdChcImRhdGE6cmVhZHlcIik7XG4gICAgfSBjYXRjaCAobykge1xuICAgICAgdGhpcy5ldmVudHMuZW1pdChcImVycm9yXCIsIG8pO1xuICAgIH1cbiAgfVxuICByZW5kZXJTeW5jKCkge1xuICAgIHZhciB0O1xuICAgIGxldCBlID0gKCh0ID0gdGhpcy5vcHRpb25zLmNhdGVnb3JpZXMpID09IG51bGwgPyB2b2lkIDAgOiB0Lmxlbmd0aCkgfHwgMTA7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93UmVjZW50cyAmJiAoZSArPSAxKSwgc3VwZXIucmVuZGVyU3luYyh7XG4gICAgICBpc0xvYWRlZDogITEsXG4gICAgICB0aGVtZTogdGhpcy5vcHRpb25zLnRoZW1lLFxuICAgICAgc2hvd1NlYXJjaDogdGhpcy5vcHRpb25zLnNob3dTZWFyY2gsXG4gICAgICBzaG93UHJldmlldzogdGhpcy5vcHRpb25zLnNob3dQcmV2aWV3LFxuICAgICAgc2hvd0NhdGVnb3J5VGFiczogdGhpcy5vcHRpb25zLnNob3dDYXRlZ29yeVRhYnMsXG4gICAgICBzaG93SGVhZGVyOiB0aGlzLm9wdGlvbnMuc2hvd1NlYXJjaCB8fCB0aGlzLm9wdGlvbnMuc2hvd0NhdGVnb3J5VGFicyxcbiAgICAgIGVtb2ppQ291bnQ6IHRoaXMub3B0aW9ucy5lbW9qaXNQZXJSb3cgKiB0aGlzLm9wdGlvbnMudmlzaWJsZVJvd3MsXG4gICAgICBjYXRlZ29yeUNvdW50OiBlXG4gICAgfSksIHRoaXMuZWwuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhdGVnb3J5LWNvdW50XCIsIGUudG9TdHJpbmcoKSksICF0aGlzLm9wdGlvbnMucm9vdEVsZW1lbnQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQaWNrZXIgbXVzdCBiZSBnaXZlbiBhIHJvb3QgZWxlbWVudCB2aWEgdGhlIHJvb3RFbGVtZW50IG9wdGlvblwiKTtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnJvb3RFbGVtZW50LnJlcGxhY2VDaGlsZHJlbih0aGlzLmVsKSwgdGhpcy5zZXRTdHlsZVByb3BlcnRpZXMoKSwgdGhpcy5waWNrZXJSZWFkeSAmJiB0aGlzLmluaXRpYWxpemVQaWNrZXJWaWV3KCksIHRoaXMuZWw7XG4gIH1cbiAgZ2V0SW5pdGlhbEZvY3VzVGFyZ2V0KCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmF1dG9Gb2N1cyA8IFwidVwiKVxuICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzKSB7XG4gICAgICAgIGNhc2UgXCJlbW9qaXNcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbW9qaUFyZWEuZm9jdXNhYmxlRW1vamk7XG4gICAgICAgIGNhc2UgXCJzZWFyY2hcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2g7XG4gICAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoIHx8IHRoaXMuZW1vamlBcmVhLmZvY3VzYWJsZUVtb2ppO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzU2VhcmNoID09PSAhMClcbiAgICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJvcHRpb25zLmF1dG9Gb2N1c1NlYXJjaCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIG9wdGlvbnMuZm9jdXNUYXJnZXQgaW5zdGVhZFwiKSwgdGhpcy5zZWFyY2g7XG4gIH1cbiAgc2V0SW5pdGlhbEZvY3VzKCkge1xuICAgIHZhciBlO1xuICAgICF0aGlzLnBpY2tlclJlYWR5IHx8IChlID0gdGhpcy5nZXRJbml0aWFsRm9jdXNUYXJnZXQoKSkgPT0gbnVsbCB8fCBlLmZvY3VzKCk7XG4gIH1cbiAgcmVzZXQoZSA9ICEwKSB7XG4gICAgdmFyIHQ7XG4gICAgdGhpcy5waWNrZXJSZWFkeSAmJiAodGhpcy5lbW9qaUFyZWEucmVzZXQoZSksIHRoaXMuc2hvd0NvbnRlbnQodGhpcy5lbW9qaUFyZWEpKSwgKHQgPSB0aGlzLnNlYXJjaCkgPT0gbnVsbCB8fCB0LmNsZWFyKCksIHRoaXMuaGlkZVZhcmlhbnRQb3B1cCgpO1xuICB9XG4gIHNob3dDb250ZW50KGUgPSB0aGlzLmVtb2ppQXJlYSkge1xuICAgIHZhciB0LCBvO1xuICAgIGUgIT09IHRoaXMuY3VycmVudFZpZXcgJiYgKHRoaXMuY3VycmVudFZpZXcgIT09IHRoaXMuZW1vamlBcmVhICYmICgodCA9IHRoaXMuY3VycmVudFZpZXcpID09IG51bGwgfHwgdC5kZXN0cm95KCkpLCB0aGlzLnVpLnBpY2tlckNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShULmZ1bGxIZWlnaHQsIGUgIT09IHRoaXMuZW1vamlBcmVhKSwgdGhpcy51aS5waWNrZXJDb250ZW50LnJlcGxhY2VDaGlsZHJlbihlLmVsKSwgdGhpcy5jdXJyZW50VmlldyA9IGUsIGUgPT09IHRoaXMuZW1vamlBcmVhID8gKHRoaXMuZW1vamlBcmVhLnJlc2V0KCksIHRoaXMuY2F0ZWdvcnlUYWJzICYmIHRoaXMudWkuaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuY2F0ZWdvcnlUYWJzLmVsKSkgOiAobyA9IHRoaXMuY2F0ZWdvcnlUYWJzKSA9PSBudWxsIHx8IG8uZWwucmVtb3ZlKCkpO1xuICB9XG4gIGhpZGVWYXJpYW50UG9wdXAoKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLnZhcmlhbnRQb3B1cCkgPT0gbnVsbCB8fCBlLmRlc3Ryb3koKTtcbiAgfVxuICBpc1BpY2tlckNsaWNrKGUpIHtcbiAgICB2YXIgciwgYTtcbiAgICBjb25zdCB0ID0gZS50YXJnZXQsIG8gPSB0aGlzLmVsLmNvbnRhaW5zKHQpLCBpID0gKGEgPSAociA9IHRoaXMudmFyaWFudFBvcHVwKSA9PSBudWxsID8gdm9pZCAwIDogci5lbCkgPT0gbnVsbCA/IHZvaWQgMCA6IGEuY29udGFpbnModCk7XG4gICAgcmV0dXJuIG8gfHwgaTtcbiAgfVxuICBhc3luYyBzZWxlY3RFbW9qaSh7IGVtb2ppOiBlIH0pIHtcbiAgICB2YXIgdCwgbztcbiAgICAoKHQgPSBlLnNraW5zKSA9PSBudWxsID8gdm9pZCAwIDogdC5sZW5ndGgpICYmIHRoaXMub3B0aW9ucy5zaG93VmFyaWFudHMgJiYgIXRoaXMuaXNWYXJpYW50UG9wdXBPcGVuID8gdGhpcy5zaG93VmFyaWFudFBvcHVwKGUpIDogKGF3YWl0ICgobyA9IHRoaXMudmFyaWFudFBvcHVwKSA9PSBudWxsID8gdm9pZCAwIDogby5hbmltYXRlSGlkZSgpKSwgdGhpcy5ldmVudHMuZW1pdChcInZhcmlhbnRQb3B1cDpoaWRlXCIpLCBhd2FpdCB0aGlzLmVtaXRFbW9qaShlKSk7XG4gIH1cbiAgZ2V0IGlzVmFyaWFudFBvcHVwT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy52YXJpYW50UG9wdXAgJiYgIXRoaXMudmFyaWFudFBvcHVwLmlzRGVzdHJveWVkO1xuICB9XG4gIGFzeW5jIHNob3dWYXJpYW50UG9wdXAoZSkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIHRoaXMuZXZlbnRzLm9uY2UoXCJ2YXJpYW50UG9wdXA6aGlkZVwiLCAoKSA9PiB7XG4gICAgICB0ID09IG51bGwgfHwgdC5mb2N1cygpO1xuICAgIH0pLCB0aGlzLnZhcmlhbnRQb3B1cCA9IHRoaXMudmlld0ZhY3RvcnkuY3JlYXRlKHRzLCB7IGVtb2ppOiBlLCBwYXJlbnQ6IHRoaXMuZWwgfSksIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy52YXJpYW50UG9wdXAucmVuZGVyU3luYygpKSwgdGhpcy52YXJpYW50UG9wdXAuYWN0aXZhdGUoKTtcbiAgfVxuICBhc3luYyBlbWl0RW1vamkoZSkge1xuICAgIHRoaXMuZXh0ZXJuYWxFdmVudHMuZW1pdChcImVtb2ppOnNlbGVjdFwiLCBhd2FpdCB0aGlzLnJlbmRlcmVyLmRvRW1pdChlKSksIHRoaXMub3B0aW9ucy5yZWNlbnRzUHJvdmlkZXIuYWRkT3JVcGRhdGVSZWNlbnQoZSwgdGhpcy5vcHRpb25zLm1heFJlY2VudHMpLCB0aGlzLmV2ZW50cy5lbWl0KFwicmVjZW50OmFkZFwiLCBlKTtcbiAgfVxuICB1cGRhdGVPcHRpb25zKGUpIHtcbiAgICBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZXJzW3RdKGVbdF0pO1xuICAgIH0pLCBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgZSk7XG4gIH1cbn1cbmNsYXNzIHBzIHtcbiAgY29uc3RydWN0b3IoeyBldmVudHM6IGUsIGkxOG46IHQsIHJlbmRlcmVyOiBvLCBlbW9qaURhdGE6IGksIG9wdGlvbnM6IHIsIGN1c3RvbUVtb2ppczogYSA9IFtdLCBwaWNrZXJJZDogbiB9KSB7XG4gICAgdGhpcy5ldmVudHMgPSBlLCB0aGlzLmkxOG4gPSB0LCB0aGlzLnJlbmRlcmVyID0gbywgdGhpcy5lbW9qaURhdGEgPSBpLCB0aGlzLm9wdGlvbnMgPSByLCB0aGlzLmN1c3RvbUVtb2ppcyA9IGEsIHRoaXMucGlja2VySWQgPSBuO1xuICB9XG4gIHNldEVtb2ppRGF0YShlKSB7XG4gICAgdGhpcy5lbW9qaURhdGEgPSBQcm9taXNlLnJlc29sdmUoZSk7XG4gIH1cbiAgY3JlYXRlKGUsIC4uLnQpIHtcbiAgICBjb25zdCBvID0gbmV3IGUoLi4udCk7XG4gICAgcmV0dXJuIG8uc2V0UGlja2VySWQodGhpcy5waWNrZXJJZCksIG8uc2V0RXZlbnRzKHRoaXMuZXZlbnRzKSwgby5zZXRJMThuKHRoaXMuaTE4biksIG8uc2V0UmVuZGVyZXIodGhpcy5yZW5kZXJlciksIG8uc2V0RW1vamlEYXRhKHRoaXMuZW1vamlEYXRhKSwgby5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyksIG8uc2V0Q3VzdG9tRW1vamlzKHRoaXMuY3VzdG9tRW1vamlzKSwgby52aWV3RmFjdG9yeSA9IHRoaXMsIG8uaW5pdGlhbGl6ZSgpLCBvO1xuICB9XG59XG52YXIgTDtcbmNsYXNzIHlzIHtcbiAgY29uc3RydWN0b3IoZSA9IHt9KSB7XG4gICAgZih0aGlzLCBMLCB2b2lkIDApO1xuICAgIEEodGhpcywgTCwgbmV3IE1hcChPYmplY3QuZW50cmllcyhlKSkpO1xuICB9XG4gIGdldChlLCB0ID0gZSkge1xuICAgIHJldHVybiB5KHRoaXMsIEwpLmdldChlKSB8fCB0O1xuICB9XG59XG5MID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGZzKHMsIGUpIHtcbiAgZSA9PT0gdm9pZCAwICYmIChlID0ge30pO1xuICB2YXIgdCA9IGUuaW5zZXJ0QXQ7XG4gIGlmICghKCFzIHx8IHR5cGVvZiBkb2N1bWVudCA+IFwidVwiKSkge1xuICAgIHZhciBvID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0sIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgaS50eXBlID0gXCJ0ZXh0L2Nzc1wiLCB0ID09PSBcInRvcFwiICYmIG8uZmlyc3RDaGlsZCA/IG8uaW5zZXJ0QmVmb3JlKGksIG8uZmlyc3RDaGlsZCkgOiBvLmFwcGVuZENoaWxkKGkpLCBpLnN0eWxlU2hlZXQgPyBpLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHMgOiBpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpKTtcbiAgfVxufVxuZnVuY3Rpb24gdnMoKSB7XG4gIGxldCBzID0gITE7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgeHQuaW5qZWN0U3R5bGVzICYmICFzICYmIChmcyh0KSwgcyA9ICEwKTtcbiAgfTtcbn1cbmNvbnN0IHdzID0gYC5waWNtby1waWNrZXIgLmljb257d2lkdGg6MS4yNWVtO2hlaWdodDoxZW07ZmlsbDpjdXJyZW50Q29sb3J9Lmljb24tc21hbGx7Zm9udC1zaXplOi44ZW19Lmljb24tbWVkaXVte2ZvbnQtc2l6ZToxZW19Lmljb24tbGFyZ2V7Zm9udC1zaXplOjEuMjVlbX0uaWNvbi0yeHtmb250LXNpemU6MmVtfS5pY29uLTN4e2ZvbnQtc2l6ZTozZW19Lmljb24tNHh7Zm9udC1zaXplOjRlbX0uaWNvbi01eHtmb250LXNpemU6NWVtfS5pY29uLTh4e2ZvbnQtc2l6ZTo4ZW19Lmljb24tMTB4e2ZvbnQtc2l6ZToxMGVtfS5saWdodCwuYXV0b3tjb2xvci1zY2hlbWU6bGlnaHQ7LS1hY2NlbnQtY29sb3I6ICM0ZjQ2ZTU7LS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiOy0tYm9yZGVyLWNvbG9yOiAjY2NjY2NjOy0tY2F0ZWdvcnktbmFtZS1iYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiOy0tY2F0ZWdvcnktbmFtZS1idXR0b24tY29sb3I6ICM5OTk5OTk7LS1jYXRlZ29yeS1uYW1lLXRleHQtY29sb3I6IGhzbCgyMTQsIDMwJSwgNTAlKTstLWNhdGVnb3J5LXRhYi1hY3RpdmUtYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNik7LS1jYXRlZ29yeS10YWItYWN0aXZlLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOy0tY2F0ZWdvcnktdGFiLWNvbG9yOiAjNjY2Oy0tY2F0ZWdvcnktdGFiLWhpZ2hsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC4xNSk7LS1lcnJvci1jb2xvci1kYXJrOiBoc2woMCwgMTAwJSwgNDUlKTstLWVycm9yLWNvbG9yOiBoc2woMCwgMTAwJSwgNDAlKTstLWZvY3VzLWluZGljYXRvci1iYWNrZ3JvdW5kLWNvbG9yOiBoc2woMTk4LCA2NSUsIDg1JSk7LS1mb2N1cy1pbmRpY2F0b3ItY29sb3I6ICMzMzMzMzM7LS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiAjYzdkMmZlOy0tcGxhY2Vob2xkZXItYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYzstLXByZXZpZXctYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3IpOy0tc2Nyb2xsYmFyLWJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpOy0tc2Nyb2xsYmFyLWNvbG9yOiAjYWFhOy0tc2VhcmNoLWJhY2tncm91bmQtY29sb3I6ICNmOWZhZmI7LS1zZWFyY2gtZm9jdXMtYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjstLXNlYXJjaC1pY29uLWNvbG9yOiAjOTk5OTk5Oy0tc2VhcmNoLXBsYWNlaG9sZGVyLWNvbG9yOiAjNzE3MTdhOy0tc2Vjb25kYXJ5LWJhY2tncm91bmQtY29sb3I6ICNlMmU4ZjA7LS1zZWNvbmRhcnktdGV4dC1jb2xvcjogIzY2NjY2NjstLXRhZy1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE2MiwgMTkwLCAyNDUsIC4zKTstLXRleHQtY29sb3I6ICMwMDAwMDA7LS12YXJpYW50LXBvcHVwLWJhY2tncm91bmQtY29sb3I6ICNmZmZmZmZ9LmRhcmt7Y29sb3Itc2NoZW1lOmRhcms7LS1hY2NlbnQtY29sb3I6ICNBNTgwRjk7LS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzOy0tYm9yZGVyLWNvbG9yOiAjNjY2NjY2Oy0tY2F0ZWdvcnktbmFtZS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzOy0tY2F0ZWdvcnktbmFtZS1idXR0b24tY29sb3I6ICNlZWVlZWU7LS1jYXRlZ29yeS1uYW1lLXRleHQtY29sb3I6ICNmZmZmZmY7LS1jYXRlZ29yeS10YWItYWN0aXZlLWJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7LS1jYXRlZ29yeS10YWItYWN0aXZlLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOy0tY2F0ZWdvcnktdGFiLWNvbG9yOiAjY2NjY2NjOy0tY2F0ZWdvcnktdGFiLWhpZ2hsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiAjNEE0QTRBOy0tZXJyb3ItY29sb3ItZGFyazogaHNsKDAsIDclLCAzJSk7LS1lcnJvci1jb2xvcjogaHNsKDAsIDMwJSwgNjAlKTstLWZvY3VzLWluZGljYXRvci1iYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDUwJSk7LS1mb2N1cy1pbmRpY2F0b3ItY29sb3I6ICM5OTk5OTk7LS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiBoc2xhKDAsIDAlLCA0MCUsIC44NSk7LS1pbWFnZS1wbGFjZWhvbGRlci1jb2xvcjogI2ZmZmZmZjstLXBsYWNlaG9sZGVyLWJhY2tncm91bmQtY29sb3I6ICM2NjY2NjY7LS1zZWFyY2gtYmFja2dyb3VuZC1jb2xvcjogIzcxNzE3YTstLXNlYXJjaC1mb2N1cy1iYWNrZ3JvdW5kLWNvbG9yOiAjNTI1MjViOy0tc2VhcmNoLWljb24tY29sb3I6ICNjY2NjY2M7LS1zZWFyY2gtcGxhY2Vob2xkZXItY29sb3I6ICNkNGQ0ZDg7LS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMCA7LS1zZWNvbmRhcnktdGV4dC1jb2xvcjogIzk5OTk5OTstLXRhZy1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE2MiwgMTkwLCAyNDUsIC4zKTstLXRleHQtY29sb3I6ICNmZmZmZmY7LS12YXJpYW50LXBvcHVwLWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzN9QG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayl7LmF1dG97Y29sb3Itc2NoZW1lOmRhcms7LS1hY2NlbnQtY29sb3I6ICNBNTgwRjk7LS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzOy0tYm9yZGVyLWNvbG9yOiAjNjY2NjY2Oy0tY2F0ZWdvcnktbmFtZS1iYWNrZ3JvdW5kLWNvbG9yOiAjMzMzMzMzOy0tY2F0ZWdvcnktbmFtZS1idXR0b24tY29sb3I6ICNlZWVlZWU7LS1jYXRlZ29yeS1uYW1lLXRleHQtY29sb3I6ICNmZmZmZmY7LS1jYXRlZ29yeS10YWItYWN0aXZlLWJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7LS1jYXRlZ29yeS10YWItYWN0aXZlLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpOy0tY2F0ZWdvcnktdGFiLWNvbG9yOiAjY2NjY2NjOy0tY2F0ZWdvcnktdGFiLWhpZ2hsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiAjNEE0QTRBOy0tZXJyb3ItY29sb3ItZGFyazogaHNsKDAsIDclLCAzJSk7LS1lcnJvci1jb2xvcjogaHNsKDAsIDMwJSwgNjAlKTstLWZvY3VzLWluZGljYXRvci1iYWNrZ3JvdW5kLWNvbG9yOiBoc2woMCwgMCUsIDUwJSk7LS1mb2N1cy1pbmRpY2F0b3ItY29sb3I6ICM5OTk5OTk7LS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiBoc2xhKDAsIDAlLCA0MCUsIC44NSk7LS1pbWFnZS1wbGFjZWhvbGRlci1jb2xvcjogI2ZmZmZmZjstLXBsYWNlaG9sZGVyLWJhY2tncm91bmQtY29sb3I6ICM2NjY2NjY7LS1zZWFyY2gtYmFja2dyb3VuZC1jb2xvcjogIzcxNzE3YTstLXNlYXJjaC1mb2N1cy1iYWNrZ3JvdW5kLWNvbG9yOiAjNTI1MjViOy0tc2VhcmNoLWljb24tY29sb3I6ICNjY2NjY2M7LS1zZWFyY2gtcGxhY2Vob2xkZXItY29sb3I6ICNkNGQ0ZDg7LS1zZWNvbmRhcnktYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMCA7LS1zZWNvbmRhcnktdGV4dC1jb2xvcjogIzk5OTk5OTstLXRhZy1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE2MiwgMTkwLCAyNDUsIC4zKTstLXRleHQtY29sb3I6ICNmZmZmZmY7LS12YXJpYW50LXBvcHVwLWJhY2tncm91bmQtY29sb3I6ICMzMzMzMzN9fS5waWNtby1waWNrZXIgLmNhdGVnb3J5QnV0dG9uc0NvbnRhaW5lcntvdmVyZmxvdzphdXRvO3BhZGRpbmc6MnB4IDA7c2Nyb2xsYmFyLXdpZHRoOnRoaW59LnBpY21vLXBpY2tlciAuY2F0ZWdvcnlCdXR0b25zQ29udGFpbmVyLmhhcy1vdmVyZmxvdy1yaWdodHttYXNrLWltYWdlOmxpbmVhci1ncmFkaWVudCgyNzBkZWcscmdiYSgyNTUsMjU1LDI1NSwwKSAwJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDEwJSk7LXdlYmtpdC1tYXNrLWltYWdlOmxpbmVhci1ncmFkaWVudCgyNzBkZWcscmdiYSgyNTUsMjU1LDI1NSwwKSAwJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDEwJSl9LnBpY21vLXBpY2tlciAuY2F0ZWdvcnlCdXR0b25zQ29udGFpbmVyLmhhcy1vdmVyZmxvdy1sZWZ0e21hc2staW1hZ2U6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUscmdiYSgyNTUsMjU1LDI1NSwxKSAxMCUpOy13ZWJraXQtbWFzay1pbWFnZTpsaW5lYXItZ3JhZGllbnQoOTBkZWcscmdiYSgyNTUsMjU1LDI1NSwwKSAwJSxyZ2JhKDI1NSwyNTUsMjU1LDEpIDEwJSl9LnBpY21vLXBpY2tlciAuY2F0ZWdvcnlCdXR0b25zQ29udGFpbmVyLmhhcy1vdmVyZmxvdy1ib3Roe21hc2staW1hZ2U6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUscmdiYSgyNTUsMjU1LDI1NSwxKSAxMCUscmdiYSgyNTUsMjU1LDI1NSwxKSA5MCUscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTstd2Via2l0LW1hc2staW1hZ2U6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUscmdiYSgyNTUsMjU1LDI1NSwxKSAxMCUscmdiYSgyNTUsMjU1LDI1NSwxKSA5MCUscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKX0ucGljbW8tcGlja2VyIC5jYXRlZ29yeUJ1dHRvbnNDb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjhweDtoZWlnaHQ6OHB4fS5waWNtby1waWNrZXIgLmNhdGVnb3J5QnV0dG9uc0NvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZDp2YXIoLS1zY3JvbGxiYXItY29sb3IpO2JvcmRlci1yYWRpdXM6MWVtfS5waWNtby1waWNrZXIgLmNhdGVnb3J5QnV0dG9uc3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2dhcDp2YXIoLS10YWItZ2FwKTttYXJnaW46MDtwYWRkaW5nOjAgLjVlbTthbGlnbi1pdGVtczpjZW50ZXI7aGVpZ2h0OnZhcigtLWNhdGVnb3J5LXRhYnMtaGVpZ2h0KTtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjtwb3NpdGlvbjpyZWxhdGl2ZTtsaXN0LXN0eWxlLXR5cGU6bm9uZTtqdXN0aWZ5LXNlbGY6Y2VudGVyO21heC13aWR0aDptaW4oMjMuNTVyZW0sY2FsYyh2YXIoLS1jYXRlZ29yeS1jb3VudCwgMSkgKiAyLjVyZW0pKX0ucGljbW8tcGlja2VyIC5jYXRlZ29yeUJ1dHRvbnMgLmNhdGVnb3J5VGFie2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7dHJhbnNpdGlvbjphbGwgLjFzO3dpZHRoOjJlbX0ucGljbW8tcGlja2VyIC5jYXRlZ29yeUJ1dHRvbnMgLmNhdGVnb3J5VGFiLmNhdGVnb3J5VGFiQWN0aXZlIC5jYXRlZ29yeUJ1dHRvbntjb2xvcjp2YXIoLS1jYXRlZ29yeS10YWItYWN0aXZlLWNvbG9yKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudChyZ2JhKDI1NSwyNTUsMjU1LC43NSkgMCUscmdiYSgyNTUsMjU1LDI1NSwuNzUpIDEwMCUpLGxpbmVhci1ncmFkaWVudCh2YXIoLS1jYXRlZ29yeS10YWItYWN0aXZlLWNvbG9yKSAwJSx2YXIoLS1jYXRlZ29yeS10YWItYWN0aXZlLWNvbG9yKSAxMDAlKTtib3JkZXI6MnB4IHNvbGlkIHZhcigtLWNhdGVnb3J5LXRhYi1hY3RpdmUtY29sb3IpfS5waWNtby1waWNrZXIgLmNhdGVnb3J5QnV0dG9ucyAuY2F0ZWdvcnlUYWIuY2F0ZWdvcnlUYWJBY3RpdmUgLmNhdGVnb3J5QnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2F0ZWdvcnktdGFiLWFjdGl2ZS1iYWNrZ3JvdW5kLWNvbG9yKX0ucGljbW8tcGlja2VyIC5jYXRlZ29yeUJ1dHRvbnMgLmNhdGVnb3J5VGFiIGJ1dHRvbi5jYXRlZ29yeUJ1dHRvbntib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjoycHggc29saWQgdHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0tY2F0ZWdvcnktdGFiLWNvbG9yKTtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjJweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZToxLjJyZW07d2lkdGg6MS42ZW07aGVpZ2h0OjEuNmVtO3RyYW5zaXRpb246YWxsIC4xc30ucGljbW8tcGlja2VyIC5jYXRlZ29yeUJ1dHRvbnMgLmNhdGVnb3J5VGFiIGJ1dHRvbi5jYXRlZ29yeUJ1dHRvbjppcyhpbWcpe3dpZHRoOnZhcigtLWNhdGVnb3J5LXRhYi1zaXplKTtoZWlnaHQ6dmFyKC0tY2F0ZWdvcnktdGFiLXNpemUpfS5waWNtby1waWNrZXIgLmNhdGVnb3J5QnV0dG9ucyAuY2F0ZWdvcnlUYWIgYnV0dG9uLmNhdGVnb3J5QnV0dG9uOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2F0ZWdvcnktdGFiLWhpZ2hsaWdodC1iYWNrZ3JvdW5kLWNvbG9yKX0uZGF0YUVycm9yIFtkYXRhLWljb25de29wYWNpdHk6Ljh9QGtleWZyYW1lcyBhcHBlYXJ7MCV7b3BhY2l0eTowfXRve29wYWNpdHk6Ljh9fUBrZXlmcmFtZXMgYXBwZWFyLWdyb3d7MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguOCl9dG97b3BhY2l0eTouODt0cmFuc2Zvcm06c2NhbGUoMSl9fS5waWNtby1waWNrZXIgLmVycm9ye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7aGVpZ2h0OjEwMCU7Y29sb3I6dmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpfS5waWNtby1waWNrZXIgLmVycm9yIC5pY29uQ29udGFpbmVye29wYWNpdHk6Ljg7YW5pbWF0aW9uOmFwcGVhci1ncm93IC4yNXMgY3ViaWMtYmV6aWVyKC4xNzUsLjg4NSwuMzIsMS4yNzUpOy0tY29sb3ItcHJpbWFyeTogdmFyKC0tZXJyb3ItY29sb3IpOy0tY29sb3Itc2Vjb25kYXJ5OiB2YXIoLS1lcnJvci1jb2xvci1kYXJrKX0ucGljbW8tcGlja2VyIC5lcnJvciAudGl0bGV7YW5pbWF0aW9uOmFwcGVhciAuMjVzO2FuaW1hdGlvbi1kZWxheTo1MG1zO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aH0ucGljbW8tcGlja2VyIC5lcnJvciBidXR0b257cGFkZGluZzo4cHggMTZweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQtY29sb3IpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tdGV4dC1jb2xvcik7Ym9yZGVyLXJhZGl1czo1cHg7Y29sb3I6dmFyKC0tdGV4dC1jb2xvcil9LnBpY21vLXBpY2tlciAuZXJyb3IgYnV0dG9uOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tdGV4dC1jb2xvcik7Y29sb3I6dmFyKC0tYmFja2dyb3VuZC1jb2xvcil9LmVtb2ppQnV0dG9ue2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czoxNXB4O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtmb250LWZhbWlseTp2YXIoLS1lbW9qaS1mb250KTtmb250LXNpemU6dmFyKC0tZW1vamktc2l6ZSk7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOjA7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MDt3aWR0aDoxMDAlfS5lbW9qaUJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWhvdmVyLWJhY2tncm91bmQtY29sb3IpfS5lbW9qaUJ1dHRvbjpmb2N1c3tib3JkZXItcmFkaXVzOjA7YmFja2dyb3VuZDp2YXIoLS1mb2N1cy1pbmRpY2F0b3ItYmFja2dyb3VuZC1jb2xvcik7b3V0bGluZToxcHggc29saWQgdmFyKC0tZm9jdXMtaW5kaWNhdG9yLWNvbG9yKX0ucGljbW8tcGlja2VyIC5lbW9qaUFyZWF7aGVpZ2h0OnZhcigtLWVtb2ppLWFyZWEtaGVpZ2h0KTtvdmVyZmxvdy15OmF1dG87cG9zaXRpb246cmVsYXRpdmU7c2Nyb2xsYmFyLWNvbG9yOnZhcigtLXNjcm9sbGJhci1jb2xvcikgdmFyKC0tc2Nyb2xsYmFyLWJhY2tncm91bmQtY29sb3IpO3Njcm9sbGJhci13aWR0aDp0aGlufS5waWNtby1waWNrZXIgLmVtb2ppQXJlYTo6LXdlYmtpdC1zY3JvbGxiYXJ7YmFja2dyb3VuZDp2YXIoLS1zY3JvbGxiYXItYmFja2dyb3VuZC1jb2xvcik7d2lkdGg6MS4xZW19LnBpY21vLXBpY2tlciAuZW1vamlBcmVhOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntiYWNrZ3JvdW5kOnZhcigtLXNjcm9sbGJhci1jb2xvcik7Ym9yZGVyLWxlZnQ6NHB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yaWdodDo0cHggc29saWQgdHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1jbGlwOnBhZGRpbmctYm94O2hlaWdodDoxZW07Ym9yZGVyLXJhZGl1czoxZW19LnBpY21vLXBpY2tlciAuZW1vamlDYXRlZ29yeXtwb3NpdGlvbjpyZWxhdGl2ZX0ucGljbW8tcGlja2VyIC5lbW9qaUNhdGVnb3J5IC5jYXRlZ29yeU5hbWV7Zm9udC1zaXplOi45ZW07cGFkZGluZzouNXJlbTttYXJnaW46MDtiYWNrZ3JvdW5kOnZhcigtLWNhdGVnb3J5LW5hbWUtYmFja2dyb3VuZC1jb2xvcik7Y29sb3I6dmFyKC0tY2F0ZWdvcnktbmFtZS10ZXh0LWNvbG9yKTt0b3A6MDt6LWluZGV4OjE7ZGlzcGxheTpncmlkO2dhcDo0cHg7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOmF1dG8gMWZyIGF1dG87YWxpZ24taXRlbXM6Y2VudGVyO2xpbmUtaGVpZ2h0OjE7Ym94LXNpemluZzpib3JkZXItYm94O2hlaWdodDp2YXIoLS1jYXRlZ29yeS1uYW1lLWhlaWdodCk7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnQ7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfS5waWNtby1waWNrZXIgLmVtb2ppQ2F0ZWdvcnkgLmNhdGVnb3J5TmFtZSBidXR0b257YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6bm9uZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2N1cnNvcjpwb2ludGVyO2NvbG9yOnZhcigtLWNhdGVnb3J5LW5hbWUtYnV0dG9uLWNvbG9yKX0ucGljbW8tcGlja2VyIC5lbW9qaUNhdGVnb3J5IC5jYXRlZ29yeU5hbWUgYnV0dG9uOmhvdmVye29wYWNpdHk6MX0ucGljbW8tcGlja2VyIC5lbW9qaUNhdGVnb3J5IC5ub1JlY2VudHN7Y29sb3I6dmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO2dyaWQtY29sdW1uOjEgLyBzcGFuIHZhcigtLWVtb2ppcy1wZXItcm93KTtmb250LXNpemU6LjllbTt0ZXh0LWFsaWduOmNlbnRlcjtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWluLWhlaWdodDpjYWxjKHZhcigtLWVtb2ppLXNpemUpICogdmFyKC0tZW1vamktc2l6ZS1tdWx0aXBsaWVyKSl9LnBpY21vLXBpY2tlciAuZW1vamlDYXRlZ29yeSAucmVjZW50RW1vamlzW2RhdGEtZW1wdHk9dHJ1ZV17ZGlzcGxheTpub25lfTppcygucGljbW8tcGlja2VyIC5lbW9qaUNhdGVnb3J5KSAucmVjZW50RW1vamlzW2RhdGEtZW1wdHk9ZmFsc2VdK2RpdntkaXNwbGF5Om5vbmV9LnBpY21vLXBpY2tlciAuZW1vamlDb250YWluZXJ7ZGlzcGxheTpncmlkO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2dhcDoxcHg7cGFkZGluZzowIC41ZW07Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCh2YXIoLS1lbW9qaXMtcGVyLXJvdyksY2FsYyh2YXIoLS1lbW9qaS1zaXplKSAqIHZhcigtLWVtb2ppLXNpemUtbXVsdGlwbGllcikpKTtncmlkLWF1dG8tcm93czpjYWxjKHZhcigtLWVtb2ppLXNpemUpICogdmFyKC0tZW1vamktc2l6ZS1tdWx0aXBsaWVyKSk7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktaXRlbXM6Y2VudGVyfS5waWNtby1waWNrZXIucGlja2Vyey0tYm9yZGVyLXJhZGl1czogNXB4Oy0tZW1vamktYXJlYS1oZWlnaHQ6IGNhbGMoICh2YXIoLS1yb3ctY291bnQpICogdmFyKC0tZW1vamktc2l6ZSkgKiB2YXIoLS1lbW9qaS1zaXplLW11bHRpcGxpZXIpKSArIHZhcigtLWNhdGVnb3J5LW5hbWUtaGVpZ2h0KSApOy0tY29udGVudC1oZWlnaHQ6IHZhcigtLWVtb2ppLWFyZWEtaGVpZ2h0KTstLWVtb2ppcy1wZXItcm93OiA4Oy0tcm93LWNvdW50OiA2Oy0tZW1vamktcHJldmlldy1tYXJnaW46IDRweDstLWVtb2ppLXByZXZpZXctaGVpZ2h0OiBjYWxjKHZhcigtLWVtb2ppLXByZXZpZXctc2l6ZSkgKyAxZW0gKyAxcHgpOy0tZW1vamktcHJldmlldy1oZWlnaHQtZnVsbDogY2FsYyh2YXIoLS1lbW9qaS1wcmV2aWV3LWhlaWdodCkgKyB2YXIoLS1lbW9qaS1wcmV2aWV3LW1hcmdpbikpOy0tZW1vamktcHJldmlldy1zaXplOiAyLjc1ZW07LS1lbW9qaS1zaXplOiAycmVtOy0tZW1vamktc2l6ZS1tdWx0aXBsaWVyOiAxLjM7LS1jb250ZW50LW1hcmdpbjogOHB4Oy0tY2F0ZWdvcnktdGFicy1oZWlnaHQ6Y2FsYygxLjVlbSArIDlweCk7LS1jYXRlZ29yeS10YWJzLW9mZnNldDogOHB4Oy0tY2F0ZWdvcnktdGFiLXNpemU6IDEuMnJlbTstLWNhdGVnb3J5LW5hbWUtaGVpZ2h0OiAycmVtOy0tY2F0ZWdvcnktbmFtZS1wYWRkaW5nLXk6IDZweDstLXNlYXJjaC1oZWlnaHQ6IDJlbTstLXNlYXJjaC1tYXJnaW46IC41ZW07LS1zZWFyY2gtbWFyZ2luLWJvdHRvbTogNHB4Oy0tc2VhcmNoLWhlaWdodC1mdWxsOiBjYWxjKHZhcigtLXNlYXJjaC1oZWlnaHQpICsgdmFyKC0tc2VhcmNoLW1hcmdpbikgKyB2YXIoLS1zZWFyY2gtbWFyZ2luLWJvdHRvbSkpOy0tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC44KTstLWVtb2ppLWZvbnQ6IFwiU2Vnb2UgVUkgRW1vamlcIiwgXCJTZWdvZSBVSSBTeW1ib2xcIiwgXCJTZWdvZSBVSVwiLCBcIkFwcGxlIENvbG9yIEVtb2ppXCIsIFwiVHdlbW9qaSBNb3ppbGxhXCIsIFwiTm90byBDb2xvciBFbW9qaVwiLCBcIkVtb2ppT25lIENvbG9yXCIsIFwiQW5kcm9pZCBFbW9qaVwiOy0tdWktZm9udDogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIkhlbHZldGljYSBOZXVlXCIsIHNhbnMtc2VyaWY7LS11aS1mb250LXNpemU6IDE2cHg7LS1waWNrZXItd2lkdGg6IGNhbGModmFyKC0tZW1vamlzLXBlci1yb3cpICogdmFyKC0tZW1vamktc2l6ZSkgKiB2YXIoLS1lbW9qaS1zaXplLW11bHRpcGxpZXIpICsgMi43NXJlbSk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtmb250LWZhbWlseTp2YXIoLS11aS1mb250KTtmb250LXNpemU6dmFyKC0tdWktZm9udC1zaXplKTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6dmFyKC0tcGlja2VyLXdpZHRoKTtkaXNwbGF5OmdyaWQ7Z2FwOjhweH0ucGljbW8tcGlja2VyLnBpY2tlcj4qe2ZvbnQtZmFtaWx5OnZhcigtLXVpLWZvbnQpfS5waWNtby1waWNrZXIuc2tlbGV0b257YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtmb250LWZhbWlseTp2YXIoLS11aS1mb250KTt3aWR0aDp2YXIoLS1waWNrZXItd2lkdGgpO2NvbG9yOnZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKX0ucGljbW8tcGlja2VyLnNrZWxldG9uICp7Ym94LXNpemluZzpib3JkZXItYm94fS5waWNtby1waWNrZXIuc2tlbGV0b24gLnBsYWNlaG9sZGVye2JhY2tncm91bmQ6dmFyKC0tcGxhY2Vob2xkZXItYmFja2dyb3VuZC1jb2xvcik7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVufS5waWNtby1waWNrZXIuc2tlbGV0b24gLnBsYWNlaG9sZGVyOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTEwMCUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KDkwZGVnLHJnYmEoMjU1LDI1NSwyNTUsMCkgMCxyZ2JhKDI1NSwyNTUsMjU1LC4yKSAyMCUscmdiYSgyNTUsMjU1LDI1NSwuNSkgNjAlLHJnYmEoMjU1LDI1NSwyNTUsMCkgMTAwJSk7YW5pbWF0aW9uOnNoaW5lIDJzIGluZmluaXRlO2NvbnRlbnQ6XCJcIn0ucGljbW8tcGlja2VyLnNrZWxldG9uIC5oZWFkZXJTa2VsZXRvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTtwYWRkaW5nLXRvcDo4cHg7cGFkZGluZy1ib3R0b206OHB4O2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47b3ZlcmZsb3c6aGlkZGVuO2dhcDo4cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTt3aWR0aDp2YXIoLS1waWNrZXItd2lkdGgpfS5waWNtby1waWNrZXIuc2tlbGV0b24gLnNlYXJjaFNrZWxldG9ue3BhZGRpbmc6MCA4cHg7aGVpZ2h0OnZhcigtLXNlYXJjaC1oZWlnaHQpfS5waWNtby1waWNrZXIuc2tlbGV0b24gLnNlYXJjaFNrZWxldG9uIC5zZWFyY2hJbnB1dHt3aWR0aDoxMDAlO2hlaWdodDoyOHB4O2JvcmRlci1yYWRpdXM6M3B4fS5waWNtby1waWNrZXIuc2tlbGV0b24gLmNhdGVnb3J5VGFic1NrZWxldG9ue2hlaWdodDp2YXIoLS1jYXRlZ29yeS10YWJzLWhlaWdodCk7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1zZWxmOmNlbnRlcjt3aWR0aDpjYWxjKDJyZW0gKiB2YXIoLS1jYXRlZ29yeS1jb3VudCwgMSkpfS5waWNtby1waWNrZXIuc2tlbGV0b24gLmNhdGVnb3J5VGFic1NrZWxldG9uIC5jYXRlZ29yeVRhYnt3aWR0aDoyNXB4O2hlaWdodDoyNXB4O3BhZGRpbmc6MnB4O2JvcmRlci1yYWRpdXM6NXB4O21hcmdpbjouMjVlbX0ucGljbW8tcGlja2VyLnNrZWxldG9uIC5jb250ZW50U2tlbGV0b257aGVpZ2h0OnZhcigtLWNvbnRlbnQtaGVpZ2h0KTtwYWRkaW5nLXJpZ2h0OjhweDtvcGFjaXR5Oi43fS5waWNtby1waWNrZXIuc2tlbGV0b24gLmNvbnRlbnRTa2VsZXRvbiAuY2F0ZWdvcnlOYW1le3dpZHRoOjUwJTtoZWlnaHQ6MXJlbTttYXJnaW46LjVyZW07Ym94LXNpemluZzpib3JkZXItYm94fS5waWNtby1waWNrZXIuc2tlbGV0b24gLmNvbnRlbnRTa2VsZXRvbiAuZW1vamlHcmlke2Rpc3BsYXk6Z3JpZDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjtnYXA6MXB4O3BhZGRpbmc6MCAuNWVtO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQodmFyKC0tZW1vamlzLXBlci1yb3cpLGNhbGModmFyKC0tZW1vamktc2l6ZSkgKiB2YXIoLS1lbW9qaS1zaXplLW11bHRpcGxpZXIpKSk7Z3JpZC1hdXRvLXJvd3M6Y2FsYyh2YXIoLS1lbW9qaS1zaXplKSAqIHZhcigtLWVtb2ppLXNpemUtbXVsdGlwbGllcikpO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWl0ZW1zOmNlbnRlcjt3aWR0aDp2YXIoLS1waWNrZXItd2lkdGgpfS5waWNtby1waWNrZXIuc2tlbGV0b24gLmNvbnRlbnRTa2VsZXRvbiAuZW1vamlHcmlkIC5lbW9qaXt3aWR0aDp2YXIoLS1lbW9qaS1zaXplKTtoZWlnaHQ6dmFyKC0tZW1vamktc2l6ZSk7Ym9yZGVyLXJhZGl1czo1MCV9LnBpY21vLXBpY2tlci5za2VsZXRvbiAucHJldmlld1NrZWxldG9ue2hlaWdodDp2YXIoLS1lbW9qaS1wcmV2aWV3LWhlaWdodCk7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtkaXNwbGF5OmdyaWQ7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6LjVlbTtnYXA6NnB4O2dyaWQtdGVtcGxhdGUtY29sdW1uczphdXRvIDFmcjtncmlkLXRlbXBsYXRlLXJvd3M6YXV0byAxZnI7Z3JpZC10ZW1wbGF0ZS1hcmVhczpcImVtb2ppIG5hbWVcIiBcImVtb2ppIHRhZ3NcIn0ucGljbW8tcGlja2VyLnNrZWxldG9uIC5wcmV2aWV3U2tlbGV0b24gLnByZXZpZXdFbW9qaXtncmlkLWFyZWE6ZW1vamk7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6dmFyKC0tZW1vamktcHJldmlldy1zaXplKTtoZWlnaHQ6dmFyKC0tZW1vamktcHJldmlldy1zaXplKX0ucGljbW8tcGlja2VyLnNrZWxldG9uIC5wcmV2aWV3U2tlbGV0b24gLnByZXZpZXdOYW1le2dyaWQtYXJlYTpuYW1lO2hlaWdodDouOGVtO3dpZHRoOjgwJX0ucGljbW8tcGlja2VyLnNrZWxldG9uIC5wcmV2aWV3U2tlbGV0b24gLnRhZ0xpc3R7Z3JpZC1hcmVhOnRhZ3M7bGlzdC1zdHlsZS10eXBlOm5vbmU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztwYWRkaW5nOjA7bWFyZ2luOjB9LnBpY21vLXBpY2tlci5za2VsZXRvbiAucHJldmlld1NrZWxldG9uIC50YWdMaXN0IC50YWd7Ym9yZGVyLXJhZGl1czozcHg7cGFkZGluZzoycHggOHB4O21hcmdpbi1yaWdodDouMjVlbTtoZWlnaHQ6MWVtO3dpZHRoOjIwJX0ub3ZlcmxheXtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjc1KTtoZWlnaHQ6MTAwJTtsZWZ0OjA7cG9zaXRpb246Zml4ZWQ7dG9wOjA7d2lkdGg6MTAwJTt6LWluZGV4OjEwMDB9LmNvbnRlbnR7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO2hlaWdodDp2YXIoLS1jb250ZW50LWhlaWdodCl9LmNvbnRlbnQuZnVsbEhlaWdodHtoZWlnaHQ6Y2FsYyh2YXIoLS1jb250ZW50LWhlaWdodCkgKyB2YXIoLS1jYXRlZ29yeS10YWJzLWhlaWdodCkgKyB2YXIoLS1jYXRlZ29yeS10YWJzLW9mZnNldCkpO292ZXJmbG93LXk6YXV0bztzY3JvbGxiYXItY29sb3I6dmFyKC0tc2Nyb2xsYmFyLWNvbG9yKSB2YXIoLS1zY3JvbGxiYXItYmFja2dyb3VuZC1jb2xvcik7c2Nyb2xsYmFyLXdpZHRoOnRoaW59LmNvbnRlbnQuZnVsbEhlaWdodDo6LXdlYmtpdC1zY3JvbGxiYXJ7YmFja2dyb3VuZDp2YXIoLS1zY3JvbGxiYXItYmFja2dyb3VuZC1jb2xvcik7d2lkdGg6MS4xZW19LmNvbnRlbnQuZnVsbEhlaWdodDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZDp2YXIoLS1zY3JvbGxiYXItY29sb3IpO2JhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveDtoZWlnaHQ6MWVtO2JvcmRlci1yYWRpdXM6LjVlbX0ucGx1Z2luQ29udGFpbmVye21hcmdpbjouNWVtO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3d9LmhlYWRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTtwYWRkaW5nLXRvcDo4cHg7cGFkZGluZy1ib3R0b206OHB4O2Rpc3BsYXk6Z3JpZDtnYXA6OHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcil9QG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2Upey5wbGFjZWhvbGRlcntiYWNrZ3JvdW5kOnZhcigtLXBsYWNlaG9sZGVyLWJhY2tncm91bmQtY29sb3IpO3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbn0ucGxhY2Vob2xkZXI6YWZ0ZXJ7ZGlzcGxheTpub25lfX0ucGljbW8tcGlja2VyIC5wcmV2aWV3e2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7ZGlzcGxheTpncmlkO2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6NnB4O2dyaWQtdGVtcGxhdGUtY29sdW1uczphdXRvIDFmcjtncmlkLXRlbXBsYXRlLXJvd3M6YXV0byAxZnI7Z3JpZC10ZW1wbGF0ZS1hcmVhczpcImVtb2ppIG5hbWVcIiBcImVtb2ppIHRhZ3NcIjtoZWlnaHQ6dmFyKC0tZW1vamktcHJldmlldy1oZWlnaHQpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOi41ZW07cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZDp2YXIoLS1wcmV2aWV3LWJhY2tncm91bmQtY29sb3IpfS5waWNtby1waWNrZXIgLnByZXZpZXcgLnByZXZpZXdFbW9qaXtncmlkLWFyZWE6ZW1vamk7Zm9udC1zaXplOnZhcigtLWVtb2ppLXByZXZpZXctc2l6ZSk7Zm9udC1mYW1pbHk6dmFyKC0tZW1vamktZm9udCk7d2lkdGg6MS4yNWVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucGljbW8tcGlja2VyIC5wcmV2aWV3IC5wcmV2aWV3TmFtZXtncmlkLWFyZWE6bmFtZTtjb2xvcjp2YXIoLS10ZXh0LWNvbG9yKTtmb250LXNpemU6LjhlbTt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Zm9udC13ZWlnaHQ6NTAwfS5waWNtby1waWNrZXIgLnByZXZpZXcgLnRhZ0xpc3R7Z3JpZC1hcmVhOnRhZ3M7bGlzdC1zdHlsZS10eXBlOm5vbmU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztwYWRkaW5nOjA7bWFyZ2luOjA7Zm9udC1zaXplOi43NWVtO292ZXJmbG93OmhpZGRlbn0ucGljbW8tcGlja2VyIC5wcmV2aWV3IC50YWd7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZDp2YXIoLS10YWctYmFja2dyb3VuZC1jb2xvcik7Y29sb3I6dmFyKC0tdGV4dC1jb2xvcik7cGFkZGluZzoycHggOHB4O21hcmdpbi1yaWdodDouMjVlbTt3aGl0ZS1zcGFjZTpub3dyYXB9LnBpY21vLXBpY2tlciAucHJldmlldyAudGFnOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LnBpY21vLXBpY2tlciAuc2VhcmNoQ29udGFpbmVye2Rpc3BsYXk6ZmxleDtoZWlnaHQ6dmFyKC0tc2VhcmNoLWhlaWdodCk7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MCA4cHg7cG9zaXRpb246cmVsYXRpdmV9LnBpY21vLXBpY2tlciAuc2VhcmNoQ29udGFpbmVyIC5zZWFyY2hGaWVsZHtiYWNrZ3JvdW5kOnZhcigtLXNlYXJjaC1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOjNweDtib3JkZXI6bm9uZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6dmFyKC0tdGV4dC1jb2xvcik7Zm9udC1zaXplOi45ZW07b3V0bGluZTpub25lO3BhZGRpbmc6LjVlbSAyLjI1ZW0gLjVlbSAuNWVtO3dpZHRoOjEwMCV9LnBpY21vLXBpY2tlciAuc2VhcmNoQ29udGFpbmVyIC5zZWFyY2hGaWVsZDpmb2N1c3tiYWNrZ3JvdW5kOnZhcigtLXNlYXJjaC1mb2N1cy1iYWNrZ3JvdW5kLWNvbG9yKX0ucGljbW8tcGlja2VyIC5zZWFyY2hDb250YWluZXIgLnNlYXJjaEZpZWxkOjpwbGFjZWhvbGRlcntjb2xvcjp2YXIoLS1zZWFyY2gtcGxhY2Vob2xkZXItY29sb3IpfS5waWNtby1waWNrZXIgLnNlYXJjaENvbnRhaW5lciAuc2VhcmNoQWNjZXNzb3J5e2NvbG9yOnZhcigtLXNlYXJjaC1pY29uLWNvbG9yKTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxZW07dG9wOjA7d2lkdGg6MS4yNXJlbTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS5waWNtby1waWNrZXIgLnNlYXJjaENvbnRhaW5lciAuc2VhcmNoQWNjZXNzb3J5IHN2Z3tmaWxsOnZhcigtLXNlYXJjaC1pY29uLWNvbG9yKX0ucGljbW8tcGlja2VyIC5zZWFyY2hDb250YWluZXIgLmNsZWFyQnV0dG9ue2JvcmRlcjowO2NvbG9yOnZhcigtLXNlYXJjaC1pY29uLWNvbG9yKTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2N1cnNvcjpwb2ludGVyfS5waWNtby1waWNrZXIgLnNlYXJjaENvbnRhaW5lciAuY2xlYXJTZWFyY2hCdXR0b257Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOm5vbmU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1zZWFyY2gtaWNvbi1jb2xvcik7Zm9udC1zaXplOjFlbTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzowfS5waWNtby1waWNrZXIgLnNlYXJjaENvbnRhaW5lciAubm90Rm91bmQgW2RhdGEtaWNvbl17ZmlsbDojZjNlMjY1fS5waWNtby1waWNrZXIgLnZhcmlhbnRPdmVybGF5e2JhY2tncm91bmQ6dmFyKC0tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yKTtib3JkZXItcmFkaXVzOjVweDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCU7ei1pbmRleDoxfS5waWNtby1waWNrZXIgLnZhcmlhbnRPdmVybGF5IC52YXJpYW50UG9wdXB7YmFja2dyb3VuZDp2YXIoLS12YXJpYW50LXBvcHVwLWJhY2tncm91bmQtY29sb3IpO2JvcmRlci1yYWRpdXM6NXB4O21hcmdpbjouNWVtO3BhZGRpbmc6LjVlbTt0ZXh0LWFsaWduOmNlbnRlcjt1c2VyLXNlbGVjdDpub25lO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uY3VzdG9tRW1vaml7d2lkdGg6MWVtO2hlaWdodDoxZW19QGtleWZyYW1lcyBzaGluZXt0b3t0cmFuc2Zvcm06dHJhbnNsYXRlKDEwMCUpfX0ucGljbW8tcGlja2VyIC5pbWFnZVBsYWNlaG9sZGVye3dpZHRoOjJyZW07aGVpZ2h0OjJyZW07Ym9yZGVyLXJhZGl1czo1MCV9LnBsYWNlaG9sZGVye2JhY2tncm91bmQ6I0REREJERDtwb3NpdGlvbjpyZWxhdGl2ZX0ucGxhY2Vob2xkZXI6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtMTAwJSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoOTBkZWcscmdiYSgyNTUsMjU1LDI1NSwwKSAwLHJnYmEoMjU1LDI1NSwyNTUsLjIpIDIwJSxyZ2JhKDI1NSwyNTUsMjU1LC41KSA2MCUscmdiYSgyNTUsMjU1LDI1NSwwKSAxMDAlKTthbmltYXRpb246c2hpbmUgMnMgaW5maW5pdGU7Y29udGVudDpcIlwifVxuYDtcbmZ1bmN0aW9uIGJzKHMpIHtcbiAgcmV0dXJuIHJlKHMubG9jYWxlLCBzLmRhdGFTdG9yZSwgcy5tZXNzYWdlcywgcy5lbW9qaURhdGEpO1xufVxubGV0IENzID0gMDtcbmZ1bmN0aW9uIGpzKCkge1xuICByZXR1cm4gYHBpY21vLSR7RGF0ZS5ub3coKX0tJHtDcysrfWA7XG59XG5jb25zdCBrcyA9IHZzKCk7XG5mdW5jdGlvbiBMcyhzKSB7XG4gIGtzKHdzKTtcbiAgY29uc3QgZSA9IGt0KHMpLCB0ID0gKChlID09IG51bGwgPyB2b2lkIDAgOiBlLmN1c3RvbSkgfHwgW10pLm1hcCgobCkgPT4gKHtcbiAgICAuLi5sLFxuICAgIGN1c3RvbTogITAsXG4gICAgdGFnczogW1wiY3VzdG9tXCIsIC4uLmwudGFncyB8fCBbXV1cbiAgfSkpLCBvID0gbmV3IEV0KCksIGkgPSBicyhlKSwgciA9IG5ldyB5cyhlLmkxOG4pO1xuICBpLnRoZW4oKGwpID0+IHtcbiAgICBvLmVtaXQoXCJkYXRhOnJlYWR5XCIsIGwpO1xuICB9KS5jYXRjaCgobCkgPT4ge1xuICAgIG8uZW1pdChcImVycm9yXCIsIGwpO1xuICB9KTtcbiAgY29uc3QgbiA9IG5ldyBwcyh7XG4gICAgZXZlbnRzOiBvLFxuICAgIGkxOG46IHIsXG4gICAgY3VzdG9tRW1vamlzOiB0LFxuICAgIHJlbmRlcmVyOiBlLnJlbmRlcmVyLFxuICAgIG9wdGlvbnM6IGUsXG4gICAgZW1vamlEYXRhOiBpLFxuICAgIHBpY2tlcklkOiBqcygpXG4gIH0pLmNyZWF0ZShncyk7XG4gIHJldHVybiBuLnJlbmRlclN5bmMoKSwgbjtcbn1cbmNvbnN0IF8gPSB7fTtcbmZ1bmN0aW9uIHhzKHMpIHtcbiAgcmV0dXJuIF9bc10gfHwgKF9bc10gPSBuZXcgRXMocykpLCBfW3NdO1xufVxueHMuZGVsZXRlRGF0YWJhc2UgPSAocykgPT4ge1xufTtcbmNsYXNzIEVzIGV4dGVuZHMga2Uge1xuICBvcGVuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICBkZWxldGUoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGNsb3NlKCkge1xuICB9XG4gIGlzUG9wdWxhdGVkKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoITEpO1xuICB9XG4gIGdldEVtb2ppQ291bnQoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmVtb2ppcy5sZW5ndGgpO1xuICB9XG4gIGdldEV0YWdzKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBmb286IFwiYmFyXCIgfSk7XG4gIH1cbiAgZ2V0SGFzaCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiXCIpO1xuICB9XG4gIHBvcHVsYXRlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5jYXRlZ29yaWVzID0gZS5ncm91cHMsIHRoaXMuZW1vamlzID0gZS5lbW9qaXMsIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIGdldENhdGVnb3JpZXMoZSkge1xuICAgIHZhciBvO1xuICAgIGxldCB0ID0gdGhpcy5jYXRlZ29yaWVzLmZpbHRlcigoaSkgPT4gaS5rZXkgIT09IFwiY29tcG9uZW50XCIpO1xuICAgIGlmIChlLnNob3dSZWNlbnRzICYmIHQudW5zaGlmdCh7IGtleTogXCJyZWNlbnRzXCIsIG9yZGVyOiAtMSB9KSwgKG8gPSBlLmN1c3RvbSkgIT0gbnVsbCAmJiBvLmxlbmd0aCAmJiB0LnB1c2goeyBrZXk6IFwiY3VzdG9tXCIsIG9yZGVyOiAxMCB9KSwgZS5jYXRlZ29yaWVzKSB7XG4gICAgICBjb25zdCBpID0gZS5jYXRlZ29yaWVzO1xuICAgICAgdCA9IHQuZmlsdGVyKChyKSA9PiBpLmluY2x1ZGVzKHIua2V5KSksIHQuc29ydCgociwgYSkgPT4gaS5pbmRleE9mKHIua2V5KSAtIGkuaW5kZXhPZihhLmtleSkpO1xuICAgIH0gZWxzZVxuICAgICAgdC5zb3J0KChpLCByKSA9PiBpLm9yZGVyIC0gci5vcmRlcik7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KTtcbiAgfVxuICBnZXRFbW9qaXMoZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmVtb2ppcy5maWx0ZXIoKGkpID0+IGkuZ3JvdXAgPT09IGUub3JkZXIpLmZpbHRlcigoaSkgPT4gaS52ZXJzaW9uIDw9IHQpLnNvcnQoKGksIHIpID0+IGkub3JkZXIgIT0gbnVsbCAmJiByLm9yZGVyICE9IG51bGwgPyBpLm9yZGVyIC0gci5vcmRlciA6IDApLm1hcCh4KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEIobywgdCkpO1xuICB9XG4gIHNlYXJjaEVtb2ppcyhlLCB0LCBvLCBpKSB7XG4gICAgY29uc3QgciA9IHRoaXMuZW1vamlzLmZpbHRlcigobCkgPT4gTShsLCBlLCBpKSkubWFwKHgpLCBhID0gdC5maWx0ZXIoKGwpID0+IE0obCwgZSwgaSkpLCBuID0gW1xuICAgICAgLi4uQihyLCBvKSxcbiAgICAgIC4uLmFcbiAgICBdO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobik7XG4gIH1cbiAgc2V0TWV0YShlKSB7XG4gICAgdGhpcy5tZXRhID0gZTtcbiAgfVxufVxuY2xhc3MgRnMgZXh0ZW5kcyBFZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHNlc3Npb25TdG9yYWdlKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gQXMocywgZSwgdCwgbykge1xuICAoYXdhaXQgcmUocywgZSwgdCwgbykpLmNsb3NlKCk7XG59XG5leHBvcnQge1xuICBncyBhcyBFbW9qaVBpY2tlcixcbiAgYWUgYXMgRXZlbnRzLFxuICBVZSBhcyBGb2N1c1RyYXAsXG4gIHhzIGFzIEluTWVtb3J5U3RvcmVGYWN0b3J5LFxuICB4ZSBhcyBJbmRleGVkRGJTdG9yZUZhY3RvcnksXG4gIEN0IGFzIExvY2FsU3RvcmFnZVByb3ZpZGVyLFxuICBwdCBhcyBOYXRpdmVSZW5kZXJlcixcbiAgYnQgYXMgUmVjZW50c1Byb3ZpZGVyLFxuICB1dCBhcyBSZW5kZXJlcixcbiAgRnMgYXMgU2Vzc2lvblN0b3JhZ2VQcm92aWRlcixcbiAgSSBhcyBhbmltYXRlLFxuICAkcyBhcyBhdXRvVGhlbWUsXG4gIGhlIGFzIGNhc2VJbnNlbnNpdGl2ZUluY2x1ZGVzLFxuICBWZSBhcyBjb21wdXRlSGFzaCxcbiAgQXMgYXMgY3JlYXRlRGF0YWJhc2UsXG4gIExzIGFzIGNyZWF0ZVBpY2tlcixcbiAgdnMgYXMgY3JlYXRlU3R5bGVJbmplY3RvcixcbiAgenMgYXMgZGFya1RoZW1lLFxuICBSZSBhcyBkZWJvdW5jZSxcbiAgUHMgYXMgZGVsZXRlRGF0YWJhc2UsXG4gIHl0IGFzIGVuLFxuICBVIGFzIGdldEVtb2ppRm9yRXZlbnQsXG4gIGt0IGFzIGdldE9wdGlvbnMsXG4gIGcgYXMgZ2V0UHJlZml4ZWRDbGFzc2VzLFxuICB4dCBhcyBnbG9iYWxDb25maWcsXG4gIEtlIGFzIGxpZ2h0VGhlbWUsXG4gIGllIGFzIHByZWZpeENsYXNzTmFtZSxcbiAgYmUgYXMgc2hvdWxkQW5pbWF0ZSxcbiAgVGUgYXMgdGhyb3R0bGUsXG4gIEogYXMgdG9FbGVtZW50XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/picmo/dist/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./resources/js/chat.js");
/******/ 	
/******/ })()
;